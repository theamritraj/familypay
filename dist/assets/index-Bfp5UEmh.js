(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function y_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hp={exports:{}},xc={};var s0;function jT(){if(s0)return xc;s0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var r0;function ST(){return r0||(r0=1,hp.exports=jT()),hp.exports}var i=ST(),fp={exports:{}},Ee={};var a0;function AT(){if(a0)return Ee;a0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=A&&U[A]||U["@@iterator"],typeof U=="function"?U:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function z(U,te,Q){this.props=U,this.context=te,this.refs=D,this.updater=Q||H}z.prototype.isReactComponent={},z.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=z.prototype;function L(U,te,Q){this.props=U,this.context=te,this.refs=D,this.updater=Q||H}var ae=L.prototype=new G;ae.constructor=L,M(ae,z.prototype),ae.isPureReactComponent=!0;var ie=Array.isArray;function oe(){}var S={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function j(U,te,Q){var de=Q.ref;return{$$typeof:s,type:U,key:te,ref:de!==void 0?de:null,props:Q}}function E(U,te){return j(U.type,te,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function B(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Q){return te[Q]})}var I=/\/+/g;function Ge(U,te){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):te.toString(36)}function nt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,te,Q,de,we){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var Me=!1;if(U===null)Me=!0;else switch(je){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(U.$$typeof){case s:case e:Me=!0;break;case v:return Me=U._init,J(Me(U._payload),te,Q,de,we)}}if(Me)return we=we(U),Me=de===""?"."+Ge(U,0):de,ie(we)?(Q="",Me!=null&&(Q=Me.replace(I,"$&/")+"/"),J(we,te,Q,"",function(Ce){return Ce})):we!=null&&(k(we)&&(we=E(we,Q+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(I,"$&/")+"/")+Me)),te.push(we)),1;Me=0;var xt=de===""?".":de+":";if(ie(U))for(var rt=0;rt<U.length;rt++)de=U[rt],je=xt+Ge(de,rt),Me+=J(de,te,Q,je,we);else if(rt=O(U),typeof rt=="function")for(U=rt.call(U),rt=0;!(de=U.next()).done;)de=de.value,je=xt+Ge(de,rt++),Me+=J(de,te,Q,je,we);else if(je==="object"){if(typeof U.then=="function")return J(nt(U),te,Q,de,we);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ce(U,te,Q){if(U==null)return U;var de=[],we=0;return J(U,de,"","",function(je){return te.call(Q,je,we++)}),de}function ge(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(Q){(U._status===0||U._status===-1)&&(U._status=1,U._result=Q)},function(Q){(U._status===0||U._status===-1)&&(U._status=2,U._result=Q)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ie=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Fe={map:ce,forEach:function(U,te,Q){ce(U,function(){te.apply(this,arguments)},Q)},count:function(U){var te=0;return ce(U,function(){te++}),te},toArray:function(U){return ce(U,function(te){return te})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ee.Activity=w,Ee.Children=Fe,Ee.Component=z,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=L,Ee.StrictMode=a,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(U){return S.H.useMemoCache(U)}},Ee.cache=function(U){return function(){return U.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(U,te,Q){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=M({},U.props),we=U.key;if(te!=null)for(je in te.key!==void 0&&(we=""+te.key),te)!T.call(te,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&te.ref===void 0||(de[je]=te[je]);var je=arguments.length-2;if(je===1)de.children=Q;else if(1<je){for(var Me=Array(je),xt=0;xt<je;xt++)Me[xt]=arguments[xt+2];de.children=Me}return j(U.type,we,de)},Ee.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Ee.createElement=function(U,te,Q){var de,we={},je=null;if(te!=null)for(de in te.key!==void 0&&(je=""+te.key),te)T.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(we[de]=te[de]);var Me=arguments.length-2;if(Me===1)we.children=Q;else if(1<Me){for(var xt=Array(Me),rt=0;rt<Me;rt++)xt[rt]=arguments[rt+2];we.children=xt}if(U&&U.defaultProps)for(de in Me=U.defaultProps,Me)we[de]===void 0&&(we[de]=Me[de]);return j(U,je,we)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(U){return{$$typeof:p,render:U}},Ee.isValidElement=k,Ee.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ge}},Ee.memo=function(U,te){return{$$typeof:x,type:U,compare:te===void 0?null:te}},Ee.startTransition=function(U){var te=S.T,Q={};S.T=Q;try{var de=U(),we=S.S;we!==null&&we(Q,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(oe,Ie)}catch(je){Ie(je)}finally{te!==null&&Q.types!==null&&(te.types=Q.types),S.T=te}},Ee.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ee.use=function(U){return S.H.use(U)},Ee.useActionState=function(U,te,Q){return S.H.useActionState(U,te,Q)},Ee.useCallback=function(U,te){return S.H.useCallback(U,te)},Ee.useContext=function(U){return S.H.useContext(U)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(U,te){return S.H.useDeferredValue(U,te)},Ee.useEffect=function(U,te){return S.H.useEffect(U,te)},Ee.useEffectEvent=function(U){return S.H.useEffectEvent(U)},Ee.useId=function(){return S.H.useId()},Ee.useImperativeHandle=function(U,te,Q){return S.H.useImperativeHandle(U,te,Q)},Ee.useInsertionEffect=function(U,te){return S.H.useInsertionEffect(U,te)},Ee.useLayoutEffect=function(U,te){return S.H.useLayoutEffect(U,te)},Ee.useMemo=function(U,te){return S.H.useMemo(U,te)},Ee.useOptimistic=function(U,te){return S.H.useOptimistic(U,te)},Ee.useReducer=function(U,te,Q){return S.H.useReducer(U,te,Q)},Ee.useRef=function(U){return S.H.useRef(U)},Ee.useState=function(U){return S.H.useState(U)},Ee.useSyncExternalStore=function(U,te,Q){return S.H.useSyncExternalStore(U,te,Q)},Ee.useTransition=function(){return S.H.useTransition()},Ee.version="19.2.4",Ee}var i0;function wg(){return i0||(i0=1,fp.exports=AT()),fp.exports}var R=wg();const CT=y_(R);var mp={exports:{}},yc={},pp={exports:{}},gp={};var l0;function RT(){return l0||(l0=1,(function(s){function e(J,ce){var ge=J.length;J.push(ce);e:for(;0<ge;){var Ie=ge-1>>>1,Fe=J[Ie];if(0<o(Fe,ce))J[Ie]=ce,J[ge]=Fe,ge=Ie;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ce=J[0],ge=J.pop();if(ge!==ce){J[0]=ge;e:for(var Ie=0,Fe=J.length,U=Fe>>>1;Ie<U;){var te=2*(Ie+1)-1,Q=J[te],de=te+1,we=J[de];if(0>o(Q,ge))de<Fe&&0>o(we,Q)?(J[Ie]=we,J[de]=ge,Ie=de):(J[Ie]=Q,J[te]=ge,Ie=te);else if(de<Fe&&0>o(we,ge))J[Ie]=we,J[de]=ge,Ie=de;else break e}}return ce}function o(J,ce){var ge=J.sortIndex-ce.sortIndex;return ge!==0?ge:J.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],x=[],v=1,w=null,A=3,O=!1,H=!1,M=!1,D=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function ae(J){for(var ce=n(x);ce!==null;){if(ce.callback===null)a(x);else if(ce.startTime<=J)a(x),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(x)}}function ie(J){if(M=!1,ae(J),!H)if(n(g)!==null)H=!0,oe||(oe=!0,B());else{var ce=n(x);ce!==null&&nt(ie,ce.startTime-J)}}var oe=!1,S=-1,T=5,j=-1;function E(){return D?!0:!(s.unstable_now()-j<T)}function k(){if(D=!1,oe){var J=s.unstable_now();j=J;var ce=!0;try{e:{H=!1,M&&(M=!1,G(S),S=-1),O=!0;var ge=A;try{t:{for(ae(J),w=n(g);w!==null&&!(w.expirationTime>J&&E());){var Ie=w.callback;if(typeof Ie=="function"){w.callback=null,A=w.priorityLevel;var Fe=Ie(w.expirationTime<=J);if(J=s.unstable_now(),typeof Fe=="function"){w.callback=Fe,ae(J),ce=!0;break t}w===n(g)&&a(g),ae(J)}else a(g);w=n(g)}if(w!==null)ce=!0;else{var U=n(x);U!==null&&nt(ie,U.startTime-J),ce=!1}}break e}finally{w=null,A=ge,O=!1}ce=void 0}}finally{ce?B():oe=!1}}}var B;if(typeof L=="function")B=function(){L(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ge=I.port2;I.port1.onmessage=k,B=function(){Ge.postMessage(null)}}else B=function(){z(k,0)};function nt(J,ce){S=z(function(){J(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var ge=A;A=ce;try{return J()}finally{A=ge}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=A;A=J;try{return ce()}finally{A=ge}},s.unstable_scheduleCallback=function(J,ce,ge){var Ie=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ie+ge:Ie):ge=Ie,J){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ge+Fe,J={id:v++,callback:ce,priorityLevel:J,startTime:ge,expirationTime:Fe,sortIndex:-1},ge>Ie?(J.sortIndex=ge,e(x,J),n(g)===null&&J===n(x)&&(M?(G(S),S=-1):M=!0,nt(ie,ge-Ie))):(J.sortIndex=Fe,e(g,J),H||O||(H=!0,oe||(oe=!0,B()))),J},s.unstable_shouldYield=E,s.unstable_wrapCallback=function(J){var ce=A;return function(){var ge=A;A=ce;try{return J.apply(this,arguments)}finally{A=ge}}}})(gp)),gp}var o0;function IT(){return o0||(o0=1,pp.exports=RT()),pp.exports}var xp={exports:{}},Zt={};var c0;function DT(){if(c0)return Zt;c0=1;var s=wg();function e(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,x,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:x,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(g,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return u(g,x,null,v)},Zt.flushSync=function(g){var x=d.T,v=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=x,a.p=v,a.d.f()}},Zt.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,a.d.C(g,x))},Zt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Zt.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var v=x.as,w=p(v,x.crossOrigin),A=typeof x.integrity=="string"?x.integrity:void 0,O=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?a.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):v==="script"&&a.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Zt.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=p(x.as,x.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&a.d.M(g)},Zt.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,w=p(v,x.crossOrigin);a.d.L(g,v,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Zt.preloadModule=function(g,x){if(typeof g=="string")if(x){var v=p(x.as,x.crossOrigin);a.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else a.d.m(g)},Zt.requestFormReset=function(g){a.d.r(g)},Zt.unstable_batchedUpdates=function(g,x){return g(x)},Zt.useFormState=function(g,x,v){return d.H.useFormState(g,x,v)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var u0;function kT(){if(u0)return xp.exports;u0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xp.exports=DT(),xp.exports}var d0;function MT(){if(d0)return yc;d0=1;var s=IT(),e=wg(),n=kT();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function x(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var l=t,c=r;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return g(f),t;if(m===c)return g(f),r;m=m.sibling}throw Error(a(188))}if(l.return!==c.return)l=f,c=m;else{for(var b=!1,N=f.child;N;){if(N===l){b=!0,l=f,c=m;break}if(N===c){b=!0,c=f,l=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===l){b=!0,l=m,c=f;break}if(N===c){b=!0,c=m,l=f;break}N=N.sibling}if(!b)throw Error(a(189))}}if(l.alternate!==c)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),L=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case z:return"Profiler";case D:return"StrictMode";case ie:return"Suspense";case oe:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case L:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return r=t.displayName||null,r!==null?r:Ge(t.type)||"Memo";case T:r=t._payload,t=t._init;try{return Ge(t(r))}catch{}}return null}var nt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ie=[],Fe=-1;function U(t){return{current:t}}function te(t){0>Fe||(t.current=Ie[Fe],Ie[Fe]=null,Fe--)}function Q(t,r){Fe++,Ie[Fe]=t.current,t.current=r}var de=U(null),we=U(null),je=U(null),Me=U(null);function xt(t,r){switch(Q(je,r),Q(we,t),Q(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?jb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=jb(r),t=Sb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(de),Q(de,t)}function rt(){te(de),te(we),te(je)}function Ce(t){t.memoizedState!==null&&Q(Me,t);var r=de.current,l=Sb(r,t.type);r!==l&&(Q(we,t),Q(de,l))}function rs(t){we.current===t&&(te(de),te(we)),Me.current===t&&(te(Me),fc._currentValue=ge)}var Fi,qi;function Ts(t){if(Fi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Fi=r&&r[1]||"",qi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+t+qi}var fo=!1;function Ba(t,r){if(!t||fo)return"";fo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var K=W}Reflect.construct(t,[],se)}else{try{se.call()}catch(W){K=W}t.call(se.prototype)}}else{try{throw Error()}catch(W){K=W}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var P=b.split(`
`),Y=N.split(`
`);for(f=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===P.length||f===Y.length)for(c=P.length-1,f=Y.length-1;1<=c&&0<=f&&P[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(P[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||P[c]!==Y[f]){var Z=`
`+P[c].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=c&&0<=f);break}}}finally{fo=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Ts(l):""}function mo(t,r){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==r&&r!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Ts("Activity");default:return""}}function po(t){try{var r="",l=null;do r+=mo(t,l),l=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,Pt=s.unstable_scheduleCallback,Vr=s.unstable_cancelCallback,mf=s.unstable_shouldYield,du=s.unstable_requestPaint,an=s.unstable_now,Fa=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,xo=s.unstable_UserBlockingPriority,Ur=s.unstable_NormalPriority,pf=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,mu=s.unstable_setDisableYieldValue,as=null,qt=null;function Vn(t){if(typeof fu=="function"&&mu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(as,t)}catch{}}var yt=Math.clz32?Math.clz32:gu,pu=Math.log,Hi=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/Hi|0)|0}var js=256,qa=262144,Et=4194304;function Ss(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function As(t,r,l){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var N=c&134217727;return N!==0?(c=N&~m,c!==0?f=Ss(c):(b&=N,b!==0?f=Ss(b):l||(l=N&~t,l!==0&&(f=Ss(l))))):(N=c&~m,N!==0?f=Ss(N):b!==0?f=Ss(b):l||(l=c&~t,l!==0&&(f=Ss(l)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,l=r&-r,m>=l||m===32&&(l&4194048)!==0)?r:f}function is(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function gf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function Cs(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function Ha(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xf(t,r,l,c,f,m){var b=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var N=t.entanglements,P=t.expirationTimes,Y=t.hiddenUpdates;for(l=b&~l;0<l;){var Z=31-yt(l),se=1<<Z;N[Z]=0,P[Z]=-1;var K=Y[Z];if(K!==null)for(Y[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}l&=~se}c!==0&&Ga(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function Ga(t,r,l){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-yt(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function yo(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var c=31-yt(l),f=1<<c;f&r|t[c]&r&&(t[c]|=r),l&=~f}}function vo(t,r){var l=r&-r;return l=(l&42)!==0?1:$a(l),(l&(t.suspendedLanes|r))!==0?0:l}function $a(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Xb(t.type))}function ls(t,r){var l=ce.p;try{return ce.p=t,r()}finally{ce.p=l}}var os=Math.random().toString(36).slice(2),Tt="__reactFiber$"+os,Ut="__reactProps$"+os,Rs="__reactContainer$"+os,Gi="__reactEvents$"+os,yf="__reactListeners$"+os,vu="__reactHandles$"+os,bu="__reactResources$"+os,Is="__reactMarker$"+os;function $i(t){delete t[Tt],delete t[Ut],delete t[Gi],delete t[yf],delete t[vu]}function Ds(t){var r=t[Tt];if(r)return r;for(var l=t.parentNode;l;){if(r=l[Rs]||l[Tt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=Mb(t);t!==null;){if(l=t[Tt])return l;t=Mb(t)}return r}t=l,l=t.parentNode}return null}function Un(t){if(t=t[Tt]||t[Rs]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function ks(t){var r=t[bu];return r||(r=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(t){t[Is]=!0}var bo=new Set,_o={};function Ms(t,r){Os(t,r),Os(t+"Capture",r)}function Os(t,r){for(_o[t]=r,t=0;t<r.length;t++)bo.add(r[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Eo={};function _u(t){return Nt.call(Eo,t)?!0:Nt.call(No,t)?!1:wo.test(t)?Eo[t]=!0:(No[t]=!0,!1)}function Yi(t,r,l){if(_u(r))if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+l)}}function Sn(t,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+l)}}function St(t,r,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(r,l,""+c)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function To(t,r,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=zr(t)?"checked":"value";t._valueTracker=To(t,r,""+t[r])}}function Ya(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return t&&(c=zr(t)?t.checked?"true":"false":t.value),t=c,t!==l?(r.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function hn(t){return t.replace(Ka,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ki(t,r,l,c,f,m,b,N){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?jo(t,b,zt(r)):l!=null?jo(t,b,zt(l)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+zt(N):t.removeAttribute("name")}function wu(t,r,l,c,f,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Qe(t);return}l=l!=null?""+zt(l):"",r=r!=null?""+zt(r):l,N||r===t.value||(t.value=r),t.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=N?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Qe(t)}function jo(t,r,l){r==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Br(t,r,l,c){if(t=t.options,r){r={};for(var f=0;f<l.length;f++)r["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=r.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&c&&(t[l].defaultSelected=!0)}else{for(l=""+zt(l),r=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Nu(t,r,l){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),l==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=l!=null?""+zt(l):""}function Fr(t,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(a(92));if(nt(c)){if(1<c.length)throw Error(a(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=zt(r),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),Qe(t)}function fn(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,l):typeof l!="number"||l===0||Eu.has(r)?r==="float"?t.cssFloat=l:t[r]=(""+l).trim():t[r]=l+"px"}function Ao(t,r,l){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&l[f]!==c&&So(t,f,c)}else for(var m in r)r.hasOwnProperty(m)&&So(t,m,r[m])}function Qi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(t){return qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cs(){}var Co=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hr=null,Ls=null;function Qa(t){var r=Un(t);if(r&&(t=r.stateNode)){var l=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ki(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==t&&c.form===t.form){var f=c[Ut]||null;if(!f)throw Error(a(90));Ki(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===t.form&&Ya(c)}break e;case"textarea":Nu(t,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Br(t,!!l.multiple,r,!1)}}}var Wi=!1;function Gr(t,r,l){if(Wi)return t(r,l);Wi=!0;try{var c=t(r);return c}finally{if(Wi=!1,(Hr!==null||Ls!==null)&&(yd(),Hr&&(r=Hr,t=Ls,Ls=Hr=null,Qa(r),t)))for(r=0;r<t.length;r++)Qa(t[r])}}function us(t,r){var l=t.stateNode;if(l===null)return null;var c=l[Ut]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(Bn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Xa=!1}var Vs=null,Ro=null,Wa=null;function Io(){if(Wa)return Wa;var t,r=Ro,l=r.length,c,f="value"in Vs?Vs.value:Vs.textContent,m=f.length;for(t=0;t<l&&r[t]===f[t];t++);var b=l-t;for(c=1;c<=b&&r[l-c]===f[m-c];c++);return Wa=f.slice(t,1<c?1-c:void 0)}function Ja(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function ds(){return!1}function Ht(t){function r(l,c,f,m,b){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(l=t[N],this[N]=l?l(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rr:ds,this.isPropagationStopped=ds,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Ht(ar),$r=w({},ar,{view:0,detail:0}),Do=Ht($r),Yr,Ji,zs,Zi=w({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Yr=t.screenX-zs.screenX,Ji=t.screenY-zs.screenY):Ji=Yr=0,zs=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Ji}}),ko=Ht(Zi),Za=w({},Zi,{dataTransfer:0}),ju=Ht(Za),Su=w({},$r,{relatedTarget:0}),ei=Ht(Su),Mo=w({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Ht(Mo),el=w({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Ht(el),Ru=w({},ar,{data:0}),Bs=Ht(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ku[t])?!!r[t]:!1}function Kr(){return Mu}var ln=w({},$r,{key:function(t){if(t.key){var r=Iu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Ht(ln),Pu=w({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Ht(Pu),h=w({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),y=Ht(h),_=w({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Ht(_),q=w({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Ht(q),le=w({},ar,{newState:0,oldState:0}),Se=Ht(le),vt=[9,13,27,32],$e=Bn&&"CompositionEvent"in window,ct=null;Bn&&"documentMode"in document&&(ct=document.documentMode);var Fn=Bn&&"TextEvent"in window&&!ct,Fs=Bn&&(!$e||ct&&8<ct&&11>=ct),hs=" ",fs=!1;function ti(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function X2(t,r){switch(t){case"compositionend":return tl(r);case"keypress":return r.which!==32?null:(fs=!0,hs);case"textInput":return t=r.data,t===hs&&fs?null:t;default:return null}}function W2(t,r){if(nl)return t==="compositionend"||!$e&&ti(t,r)?(t=Io(),Wa=Ro=Vs=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fs&&r.locale!=="ko"?null:r.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lx(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!J2[t.type]:r==="textarea"}function Vx(t,r,l,c){Hr?Ls?Ls.push(c):Ls=[c]:Hr=c,r=Td(r,"onChange"),0<r.length&&(l=new Us("onChange","change",null,l,c),t.push({event:l,listeners:r}))}var Oo=null,Po=null;function Z2(t){bb(t,0)}function Lu(t){var r=jn(t);if(Ya(r))return t}function Ux(t,r){if(t==="change")return r}var zx=!1;if(Bn){var vf;if(Bn){var bf="oninput"in document;if(!bf){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),bf=typeof Bx.oninput=="function"}vf=bf}else vf=!1;zx=vf&&(!document.documentMode||9<document.documentMode)}function Fx(){Oo&&(Oo.detachEvent("onpropertychange",qx),Po=Oo=null)}function qx(t){if(t.propertyName==="value"&&Lu(Po)){var r=[];Vx(r,Po,t,zn(t)),Gr(Z2,r)}}function eE(t,r,l){t==="focusin"?(Fx(),Oo=r,Po=l,Oo.attachEvent("onpropertychange",qx)):t==="focusout"&&Fx()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Po)}function nE(t,r){if(t==="click")return Lu(r)}function sE(t,r){if(t==="input"||t==="change")return Lu(r)}function rE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:rE;function Lo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!Nt.call(r,f)||!An(t[f],r[f]))return!1}return!0}function Hx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gx(t,r){var l=Hx(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=r&&c>=r)return{node:l,offset:r-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hx(l)}}function $x(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$x(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Yx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ps(t.document);r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=Ps(t.document)}return r}function _f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var aE=Bn&&"documentMode"in document&&11>=document.documentMode,sl=null,wf=null,Vo=null,Nf=!1;function Kx(t,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nf||sl==null||sl!==Ps(c)||(c=sl,"selectionStart"in c&&_f(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vo&&Lo(Vo,c)||(Vo=c,c=Td(wf,"onSelect"),0<c.length&&(r=new Us("onSelect","select",null,r,l),t.push({event:r,listeners:c}),r.target=sl)))}function ni(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var rl={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},Ef={},Qx={};Bn&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function si(t){if(Ef[t])return Ef[t];if(!rl[t])return t;var r=rl[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in Qx)return Ef[t]=r[l];return t}var Xx=si("animationend"),Wx=si("animationiteration"),Jx=si("animationstart"),iE=si("transitionrun"),lE=si("transitionstart"),oE=si("transitioncancel"),Zx=si("transitionend"),ey=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function ms(t,r){ey.set(t,r),Ms(r,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],al=0,jf=0;function Uu(){for(var t=al,r=jf=al=0;r<t;){var l=qn[r];qn[r++]=null;var c=qn[r];qn[r++]=null;var f=qn[r];qn[r++]=null;var m=qn[r];if(qn[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&ty(l,f,m)}}function zu(t,r,l,c){qn[al++]=t,qn[al++]=r,qn[al++]=l,qn[al++]=c,jf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Sf(t,r,l,c){return zu(t,r,l,c),Bu(t)}function ri(t,r){return zu(t,null,null,r),Bu(t)}function ty(t,r,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var f=!1,m=t.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-yt(l),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[r]:c.push(r),r.lane=l|536870912),m):null}function Bu(t){if(50<ic)throw ic=0,Pm=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var il={};function cE(t,r,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,l,c){return new cE(t,r,l,c)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,r){var l=t.alternate;return l===null?(l=Cn(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function ny(t,r){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,r=l.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Fu(t,r,l,c,f,m){var b=0;if(c=t,typeof t=="function")Af(t)&&(b=1);else if(typeof t=="string")b=mT(t,l,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Cn(31,l,r,f),t.elementType=j,t.lanes=m,t;case M:return ai(l.children,f,m,r);case D:b=8,f|=24;break;case z:return t=Cn(12,l,r,f|2),t.elementType=z,t.lanes=m,t;case ie:return t=Cn(13,l,r,f),t.elementType=ie,t.lanes=m,t;case oe:return t=Cn(19,l,r,f),t.elementType=oe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:b=10;break e;case G:b=9;break e;case ae:b=11;break e;case S:b=14;break e;case T:b=16,c=null;break e}b=29,l=Error(a(130,t===null?"null":typeof t,"")),c=null}return r=Cn(b,l,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function ai(t,r,l,c){return t=Cn(7,t,c,r),t.lanes=l,t}function Cf(t,r,l){return t=Cn(6,t,null,r),t.lanes=l,t}function sy(t){var r=Cn(18,null,null,0);return r.stateNode=t,r}function Rf(t,r,l){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ry=new WeakMap;function Hn(t,r){if(typeof t=="object"&&t!==null){var l=ry.get(t);return l!==void 0?l:(r={value:t,source:r,stack:po(r)},ry.set(t,r),r)}return{value:t,source:r,stack:po(r)}}var ll=[],ol=0,qu=null,Uo=0,Gn=[],$n=0,Qr=null,qs=1,Hs="";function or(t,r){ll[ol++]=Uo,ll[ol++]=qu,qu=t,Uo=r}function ay(t,r,l){Gn[$n++]=qs,Gn[$n++]=Hs,Gn[$n++]=Qr,Qr=t;var c=qs;t=Hs;var f=32-yt(c)-1;c&=~(1<<f),l+=1;var m=32-yt(r)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,qs=1<<32-yt(r)+f|l<<f|c,Hs=m+t}else qs=1<<m|l<<f|c,Hs=t}function If(t){t.return!==null&&(or(t,1),ay(t,1,0))}function Df(t){for(;t===qu;)qu=ll[--ol],ll[ol]=null,Uo=ll[--ol],ll[ol]=null;for(;t===Qr;)Qr=Gn[--$n],Gn[$n]=null,Hs=Gn[--$n],Gn[$n]=null,qs=Gn[--$n],Gn[$n]=null}function iy(t,r){Gn[$n++]=qs,Gn[$n++]=Hs,Gn[$n++]=Qr,qs=r.id,Hs=r.overflow,Qr=t}var Gt=null,it=null,ze=!1,Xr=null,Yn=!1,kf=Error(a(519));function Wr(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Hn(r,t)),kf}function ly(t){var r=t.stateNode,l=t.type,c=t.memoizedProps;switch(r[Tt]=t,r[Ut]=c,l){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<oc.length;l++)ke(oc[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),wu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Fr(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||Eb(r.textContent,l)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=cs),r=!0):r=!1,r||Wr(t,!0)}function oy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Gt=Gt.return}}function cl(t){if(t!==Gt)return!1;if(!ze)return oy(t),ze=!0,!1;var r=t.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Wm(t.type,t.memoizedProps)),l=!l),l&&it&&Wr(t),oy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=kb(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=kb(t)}else r===27?(r=it,da(t.type)?(t=np,np=null,it=t):it=r):it=Gt?Qn(t.stateNode.nextSibling):null;return!0}function ii(){it=Gt=null,ze=!1}function Mf(){var t=Xr;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Xr=null),t}function zo(t){Xr===null?Xr=[t]:Xr.push(t)}var Of=U(null),li=null,cr=null;function Jr(t,r,l){Q(Of,r._currentValue),r._currentValue=l}function ur(t){t._currentValue=Of.current,te(Of)}function Pf(t,r,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===l)break;t=t.return}}function Lf(t,r,l,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=f;for(var P=0;P<r.length;P++)if(N.context===r[P]){m.lanes|=l,N=m.alternate,N!==null&&(N.lanes|=l),Pf(m.return,l,t),c||(b=null);break e}m=N.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(a(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Pf(b,l,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ul(t,r,l,c){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var N=f.type;An(f.pendingProps.value,b.value)||(t!==null?t.push(N):t=[N])}}else if(f===Me.current){if(b=f.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(fc):t=[fc])}f=f.return}t!==null&&Lf(r,t,l,c),r.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oi(t){li=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return cy(li,t)}function Gu(t,r){return li===null&&oi(t),cy(t,r)}function cy(t,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},cr===null){if(t===null)throw Error(a(308));cr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else cr=cr.next=r;return l}var uE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(l){return l()})}},dE=s.unstable_scheduleCallback,hE=s.unstable_NormalPriority,At={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new uE,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&dE(hE,function(){t.controller.abort()})}var Fo=null,Uf=0,dl=0,hl=null;function fE(t,r){if(Fo===null){var l=Fo=[];Uf=0,dl=Fm(),hl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Uf++,r.then(uy,uy),r}function uy(){if(--Uf===0&&Fo!==null){hl!==null&&(hl.status="fulfilled");var t=Fo;Fo=null,dl=0,hl=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mE(t,r){var l=[],c={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<l.length;f++)(0,l[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),c}var dy=J.S;J.S=function(t,r){Kv=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&fE(t,r),dy!==null&&dy(t,r)};var ci=U(null);function zf(){var t=ci.current;return t!==null?t:st.pooledCache}function $u(t,r){r===null?Q(ci,ci.current):Q(ci,r.pool)}function hy(){var t=zf();return t===null?null:{parent:At._currentValue,pool:t}}var fl=Error(a(460)),Bf=Error(a(474)),Yu=Error(a(542)),Ku={then:function(){}};function fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function my(t,r,l){switch(l=t[l],l===void 0?t.push(r):l!==r&&(r.then(cs,cs),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gy(t),t;default:if(typeof r.status=="string")r.then(cs,cs);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gy(t),t}throw di=r,fl}}function ui(t){try{var r=t._init;return r(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(di=l,fl):l}}var di=null;function py(){if(di===null)throw Error(a(459));var t=di;return di=null,t}function gy(t){if(t===fl||t===Yu)throw Error(a(483))}var ml=null,qo=0;function Qu(t){var r=qo;return qo+=1,ml===null&&(ml=[]),my(ml,t,r)}function Ho(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Xu(t,r){throw r.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xy(t){function r(F,V){if(t){var $=F.deletions;$===null?(F.deletions=[V],F.flags|=16):$.push(V)}}function l(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function c(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function f(F,V){return F=lr(F,V),F.index=0,F.sibling=null,F}function m(F,V,$){return F.index=$,t?($=F.alternate,$!==null?($=$.index,$<V?(F.flags|=67108866,V):$):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function N(F,V,$,ee){return V===null||V.tag!==6?(V=Cf($,F.mode,ee),V.return=F,V):(V=f(V,$),V.return=F,V)}function P(F,V,$,ee){var xe=$.type;return xe===M?Z(F,V,$.props.children,ee,$.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===T&&ui(xe)===V.type)?(V=f(V,$.props),Ho(V,$),V.return=F,V):(V=Fu($.type,$.key,$.props,null,F.mode,ee),Ho(V,$),V.return=F,V)}function Y(F,V,$,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Rf($,F.mode,ee),V.return=F,V):(V=f(V,$.children||[]),V.return=F,V)}function Z(F,V,$,ee,xe){return V===null||V.tag!==7?(V=ai($,F.mode,ee,xe),V.return=F,V):(V=f(V,$),V.return=F,V)}function se(F,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,F.mode,$),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return $=Fu(V.type,V.key,V.props,null,F.mode,$),Ho($,V),$.return=F,$;case H:return V=Rf(V,F.mode,$),V.return=F,V;case T:return V=ui(V),se(F,V,$)}if(nt(V)||B(V))return V=ai(V,F.mode,$,null),V.return=F,V;if(typeof V.then=="function")return se(F,Qu(V),$);if(V.$$typeof===L)return se(F,Gu(F,V),$);Xu(F,V)}return null}function K(F,V,$,ee){var xe=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:N(F,V,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return $.key===xe?P(F,V,$,ee):null;case H:return $.key===xe?Y(F,V,$,ee):null;case T:return $=ui($),K(F,V,$,ee)}if(nt($)||B($))return xe!==null?null:Z(F,V,$,ee,null);if(typeof $.then=="function")return K(F,V,Qu($),ee);if($.$$typeof===L)return K(F,V,Gu(F,$),ee);Xu(F,$)}return null}function W(F,V,$,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get($)||null,N(V,F,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return F=F.get(ee.key===null?$:ee.key)||null,P(V,F,ee,xe);case H:return F=F.get(ee.key===null?$:ee.key)||null,Y(V,F,ee,xe);case T:return ee=ui(ee),W(F,V,$,ee,xe)}if(nt(ee)||B(ee))return F=F.get($)||null,Z(V,F,ee,xe,null);if(typeof ee.then=="function")return W(F,V,$,Qu(ee),xe);if(ee.$$typeof===L)return W(F,V,$,Gu(V,ee),xe);Xu(V,ee)}return null}function me(F,V,$,ee){for(var xe=null,qe=null,pe=V,Re=V=0,Pe=null;pe!==null&&Re<$.length;Re++){pe.index>Re?(Pe=pe,pe=null):Pe=pe.sibling;var He=K(F,pe,$[Re],ee);if(He===null){pe===null&&(pe=Pe);break}t&&pe&&He.alternate===null&&r(F,pe),V=m(He,V,Re),qe===null?xe=He:qe.sibling=He,qe=He,pe=Pe}if(Re===$.length)return l(F,pe),ze&&or(F,Re),xe;if(pe===null){for(;Re<$.length;Re++)pe=se(F,$[Re],ee),pe!==null&&(V=m(pe,V,Re),qe===null?xe=pe:qe.sibling=pe,qe=pe);return ze&&or(F,Re),xe}for(pe=c(pe);Re<$.length;Re++)Pe=W(pe,F,Re,$[Re],ee),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?Re:Pe.key),V=m(Pe,V,Re),qe===null?xe=Pe:qe.sibling=Pe,qe=Pe);return t&&pe.forEach(function(ga){return r(F,ga)}),ze&&or(F,Re),xe}function ve(F,V,$,ee){if($==null)throw Error(a(151));for(var xe=null,qe=null,pe=V,Re=V=0,Pe=null,He=$.next();pe!==null&&!He.done;Re++,He=$.next()){pe.index>Re?(Pe=pe,pe=null):Pe=pe.sibling;var ga=K(F,pe,He.value,ee);if(ga===null){pe===null&&(pe=Pe);break}t&&pe&&ga.alternate===null&&r(F,pe),V=m(ga,V,Re),qe===null?xe=ga:qe.sibling=ga,qe=ga,pe=Pe}if(He.done)return l(F,pe),ze&&or(F,Re),xe;if(pe===null){for(;!He.done;Re++,He=$.next())He=se(F,He.value,ee),He!==null&&(V=m(He,V,Re),qe===null?xe=He:qe.sibling=He,qe=He);return ze&&or(F,Re),xe}for(pe=c(pe);!He.done;Re++,He=$.next())He=W(pe,F,Re,He.value,ee),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?Re:He.key),V=m(He,V,Re),qe===null?xe=He:qe.sibling=He,qe=He);return t&&pe.forEach(function(TT){return r(F,TT)}),ze&&or(F,Re),xe}function tt(F,V,$,ee){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case O:e:{for(var xe=$.key;V!==null;){if(V.key===xe){if(xe=$.type,xe===M){if(V.tag===7){l(F,V.sibling),ee=f(V,$.props.children),ee.return=F,F=ee;break e}}else if(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===T&&ui(xe)===V.type){l(F,V.sibling),ee=f(V,$.props),Ho(ee,$),ee.return=F,F=ee;break e}l(F,V);break}else r(F,V);V=V.sibling}$.type===M?(ee=ai($.props.children,F.mode,ee,$.key),ee.return=F,F=ee):(ee=Fu($.type,$.key,$.props,null,F.mode,ee),Ho(ee,$),ee.return=F,F=ee)}return b(F);case H:e:{for(xe=$.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(F,V.sibling),ee=f(V,$.children||[]),ee.return=F,F=ee;break e}else{l(F,V);break}else r(F,V);V=V.sibling}ee=Rf($,F.mode,ee),ee.return=F,F=ee}return b(F);case T:return $=ui($),tt(F,V,$,ee)}if(nt($))return me(F,V,$,ee);if(B($)){if(xe=B($),typeof xe!="function")throw Error(a(150));return $=xe.call($),ve(F,V,$,ee)}if(typeof $.then=="function")return tt(F,V,Qu($),ee);if($.$$typeof===L)return tt(F,V,Gu(F,$),ee);Xu(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(l(F,V.sibling),ee=f(V,$),ee.return=F,F=ee):(l(F,V),ee=Cf($,F.mode,ee),ee.return=F,F=ee),b(F)):l(F,V)}return function(F,V,$,ee){try{qo=0;var xe=tt(F,V,$,ee);return ml=null,xe}catch(pe){if(pe===fl||pe===Yu)throw pe;var qe=Cn(29,pe,null,F.mode);return qe.lanes=ee,qe.return=F,qe}}}var hi=xy(!0),yy=xy(!1),Zr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,r,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Bu(t),ty(t,null,l),r}return zu(t,c,r,l),Bu(t)}function Go(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,l|=c,r.lanes=l,yo(t,l)}}function Hf(t,r){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=r:m=m.next=r}else f=m=r;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}var Gf=!1;function $o(){if(Gf){var t=hl;if(t!==null)throw t}}function Yo(t,r,l,c){Gf=!1;var f=t.updateQueue;Zr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var P=N,Y=P.next;P.next=null,b===null?m=Y:b.next=Y,b=P;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==b&&(N===null?Z.firstBaseUpdate=Y:N.next=Y,Z.lastBaseUpdate=P))}if(m!==null){var se=f.baseState;b=0,Z=Y=P=null,N=m;do{var K=N.lane&-536870913,W=K!==N.lane;if(W?(Oe&K)===K:(c&K)===K){K!==0&&K===dl&&(Gf=!0),Z!==null&&(Z=Z.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var me=t,ve=N;K=r;var tt=l;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){se=me.call(tt,se,K);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,K=typeof me=="function"?me.call(tt,se,K):me,K==null)break e;se=w({},se,K);break e;case 2:Zr=!0}}K=N.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[K]:W.push(K))}else W={lane:K,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(Y=Z=W,P=se):Z=Z.next=W,b|=K;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;W=N,N=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(P=se),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),ia|=b,t.lanes=b,t.memoizedState=se}}function vy(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function by(t,r){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)vy(l[t],r)}var pl=U(null),Wu=U(0);function _y(t,r){t=vr,Q(Wu,t),Q(pl,r),vr=t|r.baseLanes}function $f(){Q(Wu,vr),Q(pl,pl.current)}function Yf(){vr=Wu.current,te(pl),te(Wu)}var Rn=U(null),Kn=null;function na(t){var r=t.alternate;Q(bt,bt.current&1),Q(Rn,t),Kn===null&&(r===null||pl.current!==null||r.memoizedState!==null)&&(Kn=t)}function Kf(t){Q(bt,bt.current),Q(Rn,t),Kn===null&&(Kn=t)}function wy(t){t.tag===22?(Q(bt,bt.current),Q(Rn,t),Kn===null&&(Kn=t)):sa()}function sa(){Q(bt,bt.current),Q(Rn,Rn.current)}function In(t){te(Rn),Kn===t&&(Kn=null),te(bt)}var bt=U(0);function Ju(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ep(l)||tp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dr=0,Ae=null,Ze=null,Ct=null,Zu=!1,gl=!1,fi=!1,ed=0,Ko=0,xl=null,pE=0;function mt(){throw Error(a(321))}function Qf(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!An(t[l],r[l]))return!1;return!0}function Xf(t,r,l,c,f,m){return dr=m,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?av:dm,fi=!1,m=l(c,f),fi=!1,gl&&(m=Ey(r,l,c,f)),Ny(t),m}function Ny(t){J.H=Wo;var r=Ze!==null&&Ze.next!==null;if(dr=0,Ct=Ze=Ae=null,Zu=!1,Ko=0,xl=null,r)throw Error(a(300));t===null||Rt||(t=t.dependencies,t!==null&&Hu(t)&&(Rt=!0))}function Ey(t,r,l,c){Ae=t;var f=0;do{if(gl&&(xl=null),Ko=0,gl=!1,25<=f)throw Error(a(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=iv,m=r(l,c)}while(gl);return m}function gE(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?Qo(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ae.flags|=1024),r}function Wf(){var t=ed!==0;return ed=0,t}function Jf(t,r,l){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l}function Zf(t){if(Zu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Zu=!1}dr=0,Ct=Ze=Ae=null,gl=!1,Ko=ed=0,xl=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ae.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(Ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?Ae.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Ae.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var r=Ko;return Ko+=1,xl===null&&(xl=[]),t=my(xl,t,r),r=Ae,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?av:dm),t}function nd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===L)return $t(t)}throw Error(a(438,String(t)))}function em(t){var r=null,l=Ae.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Ae.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=td(),Ae.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(t),c=0;c<t;c++)l[c]=E;return r.index++,l}function hr(t,r){return typeof r=="function"?r(t):r}function sd(t){var r=_t();return tm(r,Ze,t)}function tm(t,r,l){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=l;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}r.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var N=b=null,P=null,Y=r,Z=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Oe&se)===se:(dr&se)===se){var K=Y.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===dl&&(Z=!0);else if((dr&K)===K){Y=Y.next,K===dl&&(Z=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(N=P=se,b=m):P=P.next=se,Ae.lanes|=K,ia|=K;se=Y.action,fi&&l(m,se),m=Y.hasEagerState?Y.eagerState:l(m,se)}else K={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(N=P=K,b=m):P=P.next=K,Ae.lanes|=se,ia|=se;Y=Y.next}while(Y!==null&&Y!==r);if(P===null?b=m:P.next=N,!An(m,t.memoizedState)&&(Rt=!0,Z&&(l=hl,l!==null)))throw l;t.memoizedState=m,t.baseState=b,t.baseQueue=P,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function nm(t){var r=_t(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var c=l.dispatch,f=l.pending,m=r.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);An(m,r.memoizedState)||(Rt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),l.lastRenderedState=m}return[m,c]}function Ty(t,r,l){var c=Ae,f=_t(),m=ze;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=r();var b=!An((Ze||f).memoizedState,l);if(b&&(f.memoizedState=l,Rt=!0),f=f.queue,am(Ay.bind(null,c,f,t),[t]),f.getSnapshot!==r||b||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},Sy.bind(null,c,f,l,r),null),st===null)throw Error(a(349));m||(dr&127)!==0||jy(c,r,l)}return l}function jy(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=Ae.updateQueue,r===null?(r=td(),Ae.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function Sy(t,r,l,c){r.value=l,r.getSnapshot=c,Cy(r)&&Ry(t)}function Ay(t,r,l){return l(function(){Cy(r)&&Ry(t)})}function Cy(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!An(t,l)}catch{return!0}}function Ry(t){var r=ri(t,2);r!==null&&yn(r,t,2)}function sm(t){var r=on();if(typeof t=="function"){var l=t;if(t=l(),fi){Vn(!0);try{l()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t},r}function Iy(t,r,l,c){return t.baseState=l,tm(t,Ze,typeof c=="function"?c:hr)}function xE(t,r,l,c,f){if(id(t))throw Error(a(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};J.T!==null?l(!0):m.isTransition=!1,c(m),l=r.pending,l===null?(m.next=r.pending=m,Dy(r,m)):(m.next=l.next,r.pending=l.next=m)}}function Dy(t,r){var l=r.action,c=r.payload,f=t.state;if(r.isTransition){var m=J.T,b={};J.T=b;try{var N=l(f,c),P=J.S;P!==null&&P(b,N),ky(t,r,N)}catch(Y){rm(t,r,Y)}finally{m!==null&&b.types!==null&&(m.types=b.types),J.T=m}}else try{m=l(f,c),ky(t,r,m)}catch(Y){rm(t,r,Y)}}function ky(t,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){My(t,r,c)},function(c){return rm(t,r,c)}):My(t,r,l)}function My(t,r,l){r.status="fulfilled",r.value=l,Oy(r),t.state=l,r=t.pending,r!==null&&(l=r.next,l===r?t.pending=null:(l=l.next,r.next=l,Dy(t,l)))}function rm(t,r,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Oy(r),r=r.next;while(r!==c)}t.action=null}function Oy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Py(t,r){return r}function Ly(t,r){if(ze){var l=st.formState;if(l!==null){e:{var c=Ae;if(ze){if(it){t:{for(var f=it,m=Yn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){it=Qn(f.nextSibling),c=f.data==="F!";break e}}Wr(c)}c=!1}c&&(r=l[0])}}return l=on(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},l.queue=c,l=nv.bind(null,Ae,c),c.dispatch=l,c=sm(!1),m=um.bind(null,Ae,!1,c.queue),c=on(),f={state:r,dispatch:null,action:t,pending:null},c.queue=f,l=xE.bind(null,Ae,f,m,l),f.dispatch=l,c.memoizedState=t,[r,l,!1]}function Vy(t){var r=_t();return Uy(r,Ze,t)}function Uy(t,r,l){if(r=tm(t,r,Py)[0],t=sd(hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Qo(r)}catch(b){throw b===fl?Yu:b}else c=r;r=_t();var f=r.queue,m=f.dispatch;return l!==r.memoizedState&&(Ae.flags|=2048,yl(9,{destroy:void 0},yE.bind(null,f,l),null)),[c,m,t]}function yE(t,r){t.action=r}function zy(t){var r=_t(),l=Ze;if(l!==null)return Uy(r,l,t);_t(),r=r.memoizedState,l=_t();var c=l.queue.dispatch;return l.memoizedState=t,[r,c,!1]}function yl(t,r,l,c){return t={tag:t,create:l,deps:c,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=td(),Ae.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,r.lastEffect=t),t}function By(){return _t().memoizedState}function rd(t,r,l,c){var f=on();Ae.flags|=t,f.memoizedState=yl(1|r,{destroy:void 0},l,c===void 0?null:c)}function ad(t,r,l,c){var f=_t();c=c===void 0?null:c;var m=f.memoizedState.inst;Ze!==null&&c!==null&&Qf(c,Ze.memoizedState.deps)?f.memoizedState=yl(r,m,l,c):(Ae.flags|=t,f.memoizedState=yl(1|r,m,l,c))}function Fy(t,r){rd(8390656,8,t,r)}function am(t,r){ad(2048,8,t,r)}function vE(t){Ae.flags|=4;var r=Ae.updateQueue;if(r===null)r=td(),Ae.updateQueue=r,r.events=[t];else{var l=r.events;l===null?r.events=[t]:l.push(t)}}function qy(t){var r=_t().memoizedState;return vE({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Hy(t,r){return ad(4,2,t,r)}function Gy(t,r){return ad(4,4,t,r)}function $y(t,r){if(typeof r=="function"){t=t();var l=r(t);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Yy(t,r,l){l=l!=null?l.concat([t]):null,ad(4,4,$y.bind(null,r,t),l)}function im(){}function Ky(t,r){var l=_t();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Qf(r,c[1])?c[0]:(l.memoizedState=[t,r],t)}function Qy(t,r){var l=_t();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Qf(r,c[1]))return c[0];if(c=t(),fi){Vn(!0);try{t()}finally{Vn(!1)}}return l.memoizedState=[c,r],c}function lm(t,r,l){return l===void 0||(dr&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=r:(t.memoizedState=l,t=Xv(),Ae.lanes|=t,ia|=t,l)}function Xy(t,r,l,c){return An(l,r)?l:pl.current!==null?(t=lm(t,l,c),An(t,r)||(Rt=!0),t):(dr&42)===0||(dr&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=l):(t=Xv(),Ae.lanes|=t,ia|=t,r)}function Wy(t,r,l,c,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=J.T,N={};J.T=N,um(t,!1,r,l);try{var P=f(),Y=J.S;if(Y!==null&&Y(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=mE(P,c);Xo(t,r,Z,Mn(t))}else Xo(t,r,c,Mn(t))}catch(se){Xo(t,r,{then:function(){},status:"rejected",reason:se},Mn())}finally{ce.p=m,b!==null&&N.types!==null&&(b.types=N.types),J.T=b}}function bE(){}function om(t,r,l,c){if(t.tag!==5)throw Error(a(476));var f=Jy(t).queue;Wy(t,f,r,ge,l===null?bE:function(){return Zy(t),l(c)})}function Jy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ge},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:l},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Zy(t){var r=Jy(t);r.next===null&&(r=t.alternate.memoizedState),Xo(t,r.next.queue,{},Mn())}function cm(){return $t(fc)}function ev(){return _t().memoizedState}function tv(){return _t().memoizedState}function _E(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var l=Mn();t=ea(l);var c=ta(r,t,l);c!==null&&(yn(c,r,l),Go(c,r,l)),r={cache:Vf()},t.payload=r;return}r=r.return}}function wE(t,r,l){var c=Mn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},id(t)?sv(r,l):(l=Sf(t,r,l,c),l!==null&&(yn(l,t,c),rv(l,r,c)))}function nv(t,r,l){var c=Mn();Xo(t,r,l,c)}function Xo(t,r,l,c){var f={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(id(t))sv(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,N=m(b,l);if(f.hasEagerState=!0,f.eagerState=N,An(N,b))return zu(t,r,f,0),st===null&&Uu(),!1}catch{}if(l=Sf(t,r,f,c),l!==null)return yn(l,t,c),rv(l,r,c),!0}return!1}function um(t,r,l,c){if(c={lane:2,revertLane:Fm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},id(t)){if(r)throw Error(a(479))}else r=Sf(t,l,c,2),r!==null&&yn(r,t,2)}function id(t){var r=t.alternate;return t===Ae||r!==null&&r===Ae}function sv(t,r){gl=Zu=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function rv(t,r,l){if((l&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,l|=c,r.lanes=l,yo(t,l)}}var Wo={readContext:$t,use:nd,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Wo.useEffectEvent=mt;var av={readContext:$t,use:nd,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:Fy,useImperativeHandle:function(t,r,l){l=l!=null?l.concat([t]):null,rd(4194308,4,$y.bind(null,r,t),l)},useLayoutEffect:function(t,r){return rd(4194308,4,t,r)},useInsertionEffect:function(t,r){rd(4,2,t,r)},useMemo:function(t,r){var l=on();r=r===void 0?null:r;var c=t();if(fi){Vn(!0);try{t()}finally{Vn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(t,r,l){var c=on();if(l!==void 0){var f=l(r);if(fi){Vn(!0);try{l(r)}finally{Vn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=wE.bind(null,Ae,t),[c.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=sm(t);var r=t.queue,l=nv.bind(null,Ae,r);return r.dispatch=l,[t.memoizedState,l]},useDebugValue:im,useDeferredValue:function(t,r){var l=on();return lm(l,t,r)},useTransition:function(){var t=sm(!1);return t=Wy.bind(null,Ae,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,l){var c=Ae,f=on();if(ze){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),st===null)throw Error(a(349));(Oe&127)!==0||jy(c,r,l)}f.memoizedState=l;var m={value:l,getSnapshot:r};return f.queue=m,Fy(Ay.bind(null,c,m,t),[t]),c.flags|=2048,yl(9,{destroy:void 0},Sy.bind(null,c,m,l,r),null),l},useId:function(){var t=on(),r=st.identifierPrefix;if(ze){var l=Hs,c=qs;l=(c&~(1<<32-yt(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=ed++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=pE++,r="_"+r+"r_"+l.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:cm,useFormState:Ly,useActionState:Ly,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=um.bind(null,Ae,!0,l),l.dispatch=r,[t,r]},useMemoCache:em,useCacheRefresh:function(){return on().memoizedState=_E.bind(null,Ae)},useEffectEvent:function(t){var r=on(),l={impl:t};return r.memoizedState=l,function(){if((Ye&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},dm={readContext:$t,use:nd,useCallback:Ky,useContext:$t,useEffect:am,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:Gy,useMemo:Qy,useReducer:sd,useRef:By,useState:function(){return sd(hr)},useDebugValue:im,useDeferredValue:function(t,r){var l=_t();return Xy(l,Ze.memoizedState,t,r)},useTransition:function(){var t=sd(hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Qo(t),r]},useSyncExternalStore:Ty,useId:ev,useHostTransitionStatus:cm,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,r){var l=_t();return Iy(l,Ze,t,r)},useMemoCache:em,useCacheRefresh:tv};dm.useEffectEvent=qy;var iv={readContext:$t,use:nd,useCallback:Ky,useContext:$t,useEffect:am,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:Gy,useMemo:Qy,useReducer:nm,useRef:By,useState:function(){return nm(hr)},useDebugValue:im,useDeferredValue:function(t,r){var l=_t();return Ze===null?lm(l,t,r):Xy(l,Ze.memoizedState,t,r)},useTransition:function(){var t=nm(hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Qo(t),r]},useSyncExternalStore:Ty,useId:ev,useHostTransitionStatus:cm,useFormState:zy,useActionState:zy,useOptimistic:function(t,r){var l=_t();return Ze!==null?Iy(l,Ze,t,r):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:em,useCacheRefresh:tv};iv.useEffectEvent=qy;function hm(t,r,l,c){r=t.memoizedState,l=l(c,r),l=l==null?r:w({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var fm={enqueueSetState:function(t,r,l){t=t._reactInternals;var c=Mn(),f=ea(c);f.payload=r,l!=null&&(f.callback=l),r=ta(t,f,c),r!==null&&(yn(r,t,c),Go(r,t,c))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var c=Mn(),f=ea(c);f.tag=1,f.payload=r,l!=null&&(f.callback=l),r=ta(t,f,c),r!==null&&(yn(r,t,c),Go(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Mn(),c=ea(l);c.tag=2,r!=null&&(c.callback=r),r=ta(t,c,l),r!==null&&(yn(r,t,l),Go(r,t,l))}};function lv(t,r,l,c,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):r.prototype&&r.prototype.isPureReactComponent?!Lo(l,c)||!Lo(f,m):!0}function ov(t,r,l,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==t&&fm.enqueueReplaceState(r,r.state,null)}function mi(t,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(t=t.defaultProps){l===r&&(l=w({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}function cv(t){Vu(t)}function uv(t){console.error(t)}function dv(t){Vu(t)}function ld(t,r){try{var l=t.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function hv(t,r,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(t,r,l){return l=ea(l),l.tag=3,l.payload={element:null},l.callback=function(){ld(t,r)},l}function fv(t){return t=ea(t),t.tag=3,t}function mv(t,r,l,c){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){hv(r,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){hv(r,l,c),typeof f!="function"&&(la===null?la=new Set([this]):la.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function NE(t,r,l,c,f){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&ul(r,l,f,!0),l=Rn.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?vd():l.alternate===null&&pt===0&&(pt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,c===Ku?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),Um(t,c,f)),!1;case 22:return l.flags|=65536,c===Ku?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),Um(t,c,f)),!1}throw Error(a(435,l.tag))}return Um(t,c,f),vd(),!1}if(ze)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==kf&&(t=Error(a(422),{cause:c}),zo(Hn(t,l)))):(c!==kf&&(r=Error(a(423),{cause:c}),zo(Hn(r,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Hn(c,l),f=mm(t.stateNode,c,f),Hf(t,f),pt!==4&&(pt=2)),!1;var m=Error(a(520),{cause:c});if(m=Hn(m,l),ac===null?ac=[m]:ac.push(m),pt!==4&&(pt=2),r===null)return!0;c=Hn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=mm(l.stateNode,c,t),Hf(l,t),!1;case 1:if(r=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(la===null||!la.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=fv(f),mv(f,t,l,c),Hf(l,f),!1}l=l.return}while(l!==null);return!1}var pm=Error(a(461)),Rt=!1;function Yt(t,r,l,c){r.child=t===null?yy(r,null,l,c):hi(r,t.child,l,c)}function pv(t,r,l,c,f){l=l.render;var m=r.ref;if("ref"in c){var b={};for(var N in c)N!=="ref"&&(b[N]=c[N])}else b=c;return oi(r),c=Xf(t,r,l,b,m,f),N=Wf(),t!==null&&!Rt?(Jf(t,r,f),fr(t,r,f)):(ze&&N&&If(r),r.flags|=1,Yt(t,r,c,f),r.child)}function gv(t,r,l,c,f){if(t===null){var m=l.type;return typeof m=="function"&&!Af(m)&&m.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=m,xv(t,r,m,c,f)):(t=Fu(l.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Nm(t,f)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Lo,l(b,c)&&t.ref===r.ref)return fr(t,r,f)}return r.flags|=1,t=lr(m,c),t.ref=r.ref,t.return=r,r.child=t}function xv(t,r,l,c,f){if(t!==null){var m=t.memoizedProps;if(Lo(m,c)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=c=m,Nm(t,f))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,fr(t,r,f)}return gm(t,r,l,c,f)}function yv(t,r,l,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(c=r.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,r.child=null;return vv(t,r,m,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(r,m!==null?m.cachePool:null),m!==null?_y(r,m):$f(),wy(r);else return c=r.lanes=536870912,vv(t,r,m!==null?m.baseLanes|l:l,l,c)}else m!==null?($u(r,m.cachePool),_y(r,m),sa(),r.memoizedState=null):(t!==null&&$u(r,null),$f(),sa());return Yt(t,r,f,l),r.child}function Jo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function vv(t,r,l,c,f){var m=zf();return m=m===null?null:{parent:At._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},t!==null&&$u(r,null),$f(),wy(r),t!==null&&ul(t,r,c,!0),r.childLanes=f,null}function od(t,r){return r=ud({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function bv(t,r,l){return hi(r,t.child,null,l),t=od(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function EE(t,r,l){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(c.mode==="hidden")return t=od(r,c),r.lanes=536870912,Jo(null,t);if(Kf(r),(t=it)?(t=Db(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:qs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},l=sy(t),l.return=r,r.child=l,Gt=r,it=null)):t=null,t===null)throw Wr(r);return r.lanes=536870912,null}return od(r,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Kf(r),f)if(r.flags&256)r.flags&=-257,r=bv(t,r,l);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Rt||ul(t,r,l,!1),f=(l&t.childLanes)!==0,Rt||f){if(c=st,c!==null&&(b=vo(c,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,ri(t,b),yn(c,t,b),pm;vd(),r=bv(t,r,l)}else t=m.treeContext,it=Qn(b.nextSibling),Gt=r,ze=!0,Xr=null,Yn=!1,t!==null&&iy(r,t),r=od(r,c),r.flags|=4096;return r}return t=lr(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function cd(t,r){var l=r.ref;if(l===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(r.flags|=4194816)}}function gm(t,r,l,c,f){return oi(r),l=Xf(t,r,l,c,void 0,f),c=Wf(),t!==null&&!Rt?(Jf(t,r,f),fr(t,r,f)):(ze&&c&&If(r),r.flags|=1,Yt(t,r,l,f),r.child)}function _v(t,r,l,c,f,m){return oi(r),r.updateQueue=null,l=Ey(r,c,l,f),Ny(t),c=Wf(),t!==null&&!Rt?(Jf(t,r,m),fr(t,r,m)):(ze&&c&&If(r),r.flags|=1,Yt(t,r,l,m),r.child)}function wv(t,r,l,c,f){if(oi(r),r.stateNode===null){var m=il,b=l.contextType;typeof b=="object"&&b!==null&&(m=$t(b)),m=new l(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},Ff(r),b=l.contextType,m.context=typeof b=="object"&&b!==null?$t(b):il,m.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(hm(r,l,b,c),m.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&fm.enqueueReplaceState(m,m.state,null),Yo(r,c,m,f),$o(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){m=r.stateNode;var N=r.memoizedProps,P=mi(l,N);m.props=P;var Y=m.context,Z=l.contextType;b=il,typeof Z=="object"&&Z!==null&&(b=$t(Z));var se=l.getDerivedStateFromProps;Z=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||Y!==b)&&ov(r,m,c,b),Zr=!1;var K=r.memoizedState;m.state=K,Yo(r,c,m,f),$o(),Y=r.memoizedState,N||K!==Y||Zr?(typeof se=="function"&&(hm(r,l,se,c),Y=r.memoizedState),(P=Zr||lv(r,l,P,c,K,Y,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),m.props=c,m.state=Y,m.context=b,c=P):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,qf(t,r),b=r.memoizedProps,Z=mi(l,b),m.props=Z,se=r.pendingProps,K=m.context,Y=l.contextType,P=il,typeof Y=="object"&&Y!==null&&(P=$t(Y)),N=l.getDerivedStateFromProps,(Y=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==se||K!==P)&&ov(r,m,c,P),Zr=!1,K=r.memoizedState,m.state=K,Yo(r,c,m,f),$o();var W=r.memoizedState;b!==se||K!==W||Zr||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof N=="function"&&(hm(r,l,N,c),W=r.memoizedState),(Z=Zr||lv(r,l,Z,c,K,W,P)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,W,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,W,P)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),m.props=c,m.state=W,m.context=P,c=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),c=!1)}return m=c,cd(t,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&c?(r.child=hi(r,t.child,null,f),r.child=hi(r,null,l,f)):Yt(t,r,l,f),r.memoizedState=m.state,t=r.child):t=fr(t,r,f),t}function Nv(t,r,l,c){return ii(),r.flags|=256,Yt(t,r,l,c),r.child}var xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(t){return{baseLanes:t,cachePool:hy()}}function vm(t,r,l){return t=t!==null?t.childLanes&~l:0,r&&(t|=kn),t}function Ev(t,r,l){var c=r.pendingProps,f=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?na(r):sa(),(t=it)?(t=Db(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:qs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},l=sy(t),l.return=r,r.child=l,Gt=r,it=null)):t=null,t===null)throw Wr(r);return tp(t)?r.lanes=32:r.lanes=536870912,null}var N=c.children;return c=c.fallback,f?(sa(),f=r.mode,N=ud({mode:"hidden",children:N},f),c=ai(c,f,l,null),N.return=r,c.return=r,N.sibling=c,r.child=N,c=r.child,c.memoizedState=ym(l),c.childLanes=vm(t,b,l),r.memoizedState=xm,Jo(null,c)):(na(r),bm(r,N))}var P=t.memoizedState;if(P!==null&&(N=P.dehydrated,N!==null)){if(m)r.flags&256?(na(r),r.flags&=-257,r=_m(t,r,l)):r.memoizedState!==null?(sa(),r.child=t.child,r.flags|=128,r=null):(sa(),N=c.fallback,f=r.mode,c=ud({mode:"visible",children:c.children},f),N=ai(N,f,l,null),N.flags|=2,c.return=r,N.return=r,c.sibling=N,r.child=c,hi(r,t.child,null,l),c=r.child,c.memoizedState=ym(l),c.childLanes=vm(t,b,l),r.memoizedState=xm,r=Jo(null,c));else if(na(r),tp(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(a(419)),c.stack="",c.digest=b,zo({value:c,source:null,stack:null}),r=_m(t,r,l)}else if(Rt||ul(t,r,l,!1),b=(l&t.childLanes)!==0,Rt||b){if(b=st,b!==null&&(c=vo(b,l),c!==0&&c!==P.retryLane))throw P.retryLane=c,ri(t,c),yn(b,t,c),pm;ep(N)||vd(),r=_m(t,r,l)}else ep(N)?(r.flags|=192,r.child=t.child,r=null):(t=P.treeContext,it=Qn(N.nextSibling),Gt=r,ze=!0,Xr=null,Yn=!1,t!==null&&iy(r,t),r=bm(r,c.children),r.flags|=4096);return r}return f?(sa(),N=c.fallback,f=r.mode,P=t.child,Y=P.sibling,c=lr(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Y!==null?N=lr(Y,N):(N=ai(N,f,l,null),N.flags|=2),N.return=r,c.return=r,c.sibling=N,r.child=c,Jo(null,c),c=r.child,N=t.child.memoizedState,N===null?N=ym(l):(f=N.cachePool,f!==null?(P=At._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=hy(),N={baseLanes:N.baseLanes|l,cachePool:f}),c.memoizedState=N,c.childLanes=vm(t,b,l),r.memoizedState=xm,Jo(t.child,c)):(na(r),l=t.child,t=l.sibling,l=lr(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=l,r.memoizedState=null,l)}function bm(t,r){return r=ud({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ud(t,r){return t=Cn(22,t,null,r),t.lanes=0,t}function _m(t,r,l){return hi(r,t.child,null,l),t=bm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Tv(t,r,l){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Pf(t.return,r,l)}function wm(t,r,l,c,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=f,b.treeForkCount=m)}function jv(t,r,l){var c=r.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=bt.current,N=(b&2)!==0;if(N?(b=b&1|2,r.flags|=128):b&=1,Q(bt,b),Yt(t,r,c,l),c=ze?Uo:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,l,r);else if(t.tag===19)Tv(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(l=r.child,f=null;l!==null;)t=l.alternate,t!==null&&Ju(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=r.child,r.child=null):(f=l.sibling,l.sibling=null),wm(r,!1,f,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ju(t)===null){r.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}wm(r,!0,l,null,m,c);break;case"together":wm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function fr(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),ia|=r.lanes,(l&r.childLanes)===0)if(t!==null){if(ul(t,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,l=lr(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=lr(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function Nm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function TE(t,r,l){switch(r.tag){case 3:xt(r,r.stateNode.containerInfo),Jr(r,At,t.memoizedState.cache),ii();break;case 27:case 5:Ce(r);break;case 4:xt(r,r.stateNode.containerInfo);break;case 10:Jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kf(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(na(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Ev(t,r,l):(na(r),t=fr(t,r,l),t!==null?t.sibling:null);na(r);break;case 19:var f=(t.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(ul(t,r,l,!1),c=(l&r.childLanes)!==0),f){if(c)return jv(t,r,l);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(bt,bt.current),c)break;return null;case 22:return r.lanes=0,yv(t,r,l,r.pendingProps);case 24:Jr(r,At,t.memoizedState.cache)}return fr(t,r,l)}function Sv(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Nm(t,l)&&(r.flags&128)===0)return Rt=!1,TE(t,r,l);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(r.flags&1048576)!==0&&ay(r,Uo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(t=ui(r.elementType),r.type=t,typeof t=="function")Af(t)?(c=mi(t,c),r.tag=1,r=wv(null,r,t,c,l)):(r.tag=0,r=gm(null,r,t,c,l));else{if(t!=null){var f=t.$$typeof;if(f===ae){r.tag=11,r=pv(null,r,t,c,l);break e}else if(f===S){r.tag=14,r=gv(null,r,t,c,l);break e}}throw r=Ge(t)||t,Error(a(306,r,""))}}return r;case 0:return gm(t,r,r.type,r.pendingProps,l);case 1:return c=r.type,f=mi(c,r.pendingProps),wv(t,r,c,f,l);case 3:e:{if(xt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));c=r.pendingProps;var m=r.memoizedState;f=m.element,qf(t,r),Yo(r,c,null,l);var b=r.memoizedState;if(c=b.cache,Jr(r,At,c),c!==m.cache&&Lf(r,[At],l,!0),$o(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Nv(t,r,c,l);break e}else if(c!==f){f=Hn(Error(a(424)),r),zo(f),r=Nv(t,r,c,l);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Qn(t.firstChild),Gt=r,ze=!0,Xr=null,Yn=!0,l=yy(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ii(),c===f){r=fr(t,r,l);break e}Yt(t,r,c,l)}r=r.child}return r;case 26:return cd(t,r),t===null?(l=Vb(r.type,null,r.pendingProps,null))?r.memoizedState=l:ze||(l=r.type,t=r.pendingProps,c=jd(je.current).createElement(l),c[Tt]=r,c[Ut]=t,Kt(c,l,t),jt(c),r.stateNode=c):r.memoizedState=Vb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ce(r),t===null&&ze&&(c=r.stateNode=Ob(r.type,r.pendingProps,je.current),Gt=r,Yn=!0,f=it,da(r.type)?(np=f,it=Qn(c.firstChild)):it=f),Yt(t,r,r.pendingProps.children,l),cd(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=c=it)&&(c=tT(c,r.type,r.pendingProps,Yn),c!==null?(r.stateNode=c,Gt=r,it=Qn(c.firstChild),Yn=!1,f=!0):f=!1),f||Wr(r)),Ce(r),f=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,Wm(f,m)?c=null:b!==null&&Wm(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Xf(t,r,gE,null,null,l),fc._currentValue=f),cd(t,r),Yt(t,r,c,l),r.child;case 6:return t===null&&ze&&((t=l=it)&&(l=nT(l,r.pendingProps,Yn),l!==null?(r.stateNode=l,Gt=r,it=null,t=!0):t=!1),t||Wr(r)),null;case 13:return Ev(t,r,l);case 4:return xt(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=hi(r,null,c,l):Yt(t,r,c,l),r.child;case 11:return pv(t,r,r.type,r.pendingProps,l);case 7:return Yt(t,r,r.pendingProps,l),r.child;case 8:return Yt(t,r,r.pendingProps.children,l),r.child;case 12:return Yt(t,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,Jr(r,r.type,c.value),Yt(t,r,c.children,l),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,oi(r),f=$t(f),c=c(f),r.flags|=1,Yt(t,r,c,l),r.child;case 14:return gv(t,r,r.type,r.pendingProps,l);case 15:return xv(t,r,r.type,r.pendingProps,l);case 19:return jv(t,r,l);case 31:return EE(t,r,l);case 22:return yv(t,r,l,r.pendingProps);case 24:return oi(r),c=$t(At),t===null?(f=zf(),f===null&&(f=st,m=Vf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),r.memoizedState={parent:c,cache:f},Ff(r),Jr(r,At,f)):((t.lanes&l)!==0&&(qf(t,r),Yo(r,null,null,l),$o()),f=t.memoizedState,m=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Jr(r,At,c)):(c=m.cache,Jr(r,At,c),c!==f.cache&&Lf(r,[At],l,!0))),Yt(t,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function mr(t){t.flags|=4}function Em(t,r,l,c,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(eb())t.flags|=8192;else throw di=Ku,Bf}else t.flags&=-16777217}function Av(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qb(r))if(eb())t.flags|=8192;else throw di=Ku,Bf}function dd(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xu():536870912,t.lanes|=r,wl|=r)}function Zo(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(r)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=l,r}function jE(t,r,l){var c=r.pendingProps;switch(Df(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return l=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ur(At),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(cl(r)?mr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mf())),lt(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(mr(r),m!==null?(lt(r),Av(r,m)):(lt(r),Em(r,f,null,c,l))):m?m!==t.memoizedState?(mr(r),lt(r),Av(r,m)):(lt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&mr(r),lt(r),Em(r,f,t,c,l)),null;case 27:if(rs(r),l=je.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return lt(r),null}t=de.current,cl(r)?ly(r):(t=Ob(f,c,l),r.stateNode=t,mr(r))}return lt(r),null;case 5:if(rs(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return lt(r),null}if(m=de.current,cl(r))ly(r);else{var b=jd(je.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Tt]=r,m[Ut]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(Kt(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&mr(r)}}return lt(r),Em(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,l),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(t=je.current,cl(r)){if(t=r.stateNode,l=r.memoizedProps,c=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Eb(t.nodeValue,l)),t||Wr(r,!0)}else t=jd(t).createTextNode(c),t[Tt]=r,r.stateNode=t}return lt(r),null;case 31:if(l=r.memoizedState,t===null||t.memoizedState!==null){if(c=cl(r),l!==null){if(t===null){if(!c)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=r}else ii(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),t=!1}else l=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(a(558))}return lt(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=cl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Tt]=r}else ii(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),l!==t&&l&&(r.child.flags|=8192),dd(r,r.updateQueue),lt(r),null);case 4:return rt(),t===null&&$m(r.stateNode.containerInfo),lt(r),null;case 10:return ur(r.type),lt(r),null;case 19:if(te(bt),c=r.memoizedState,c===null)return lt(r),null;if(f=(r.flags&128)!==0,m=c.rendering,m===null)if(f)Zo(c,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ju(t),m!==null){for(r.flags|=128,Zo(c,!1),t=m.updateQueue,r.updateQueue=t,dd(r,t),r.subtreeFlags=0,t=l,l=r.child;l!==null;)ny(l,t),l=l.sibling;return Q(bt,bt.current&1|2),ze&&or(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&an()>gd&&(r.flags|=128,f=!0,Zo(c,!1),r.lanes=4194304)}else{if(!f)if(t=Ju(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,dd(r,t),Zo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!ze)return lt(r),null}else 2*an()-c.renderingStartTime>gd&&l!==536870912&&(r.flags|=128,f=!0,Zo(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(t=c.last,t!==null?t.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=an(),t.sibling=null,l=bt.current,Q(bt,f?l&1|2:l&1),ze&&or(r,c.treeForkCount),t):(lt(r),null);case 22:case 23:return In(r),Yf(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),l=r.updateQueue,l!==null&&dd(r,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),t!==null&&te(ci),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ur(At),lt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function SE(t,r){switch(Df(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ur(At),rt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return rs(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(a(340));ii()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ii()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(bt),null;case 4:return rt(),null;case 10:return ur(r.type),null;case 22:case 23:return In(r),Yf(),t!==null&&te(ci),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ur(At),null;case 25:return null;default:return null}}function Cv(t,r){switch(Df(r),r.tag){case 3:ur(At),rt();break;case 26:case 27:case 5:rs(r);break;case 4:rt();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:te(bt);break;case 10:ur(r.type);break;case 22:case 23:In(r),Yf(),t!==null&&te(ci);break;case 24:ur(At)}}function ec(t,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){c=void 0;var m=l.create,b=l.inst;c=m(),b.destroy=c}l=l.next}while(l!==f)}}catch(N){We(r,r.return,N)}}function ra(t,r,l){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var b=c.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,f=r;var P=l,Y=N;try{Y()}catch(Z){We(f,P,Z)}}}c=c.next}while(c!==m)}}catch(Z){We(r,r.return,Z)}}function Rv(t){var r=t.updateQueue;if(r!==null){var l=t.stateNode;try{by(r,l)}catch(c){We(t,t.return,c)}}}function Iv(t,r,l){l.props=mi(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){We(t,r,c)}}function tc(t,r){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(f){We(t,r,f)}}function Gs(t,r){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(f){We(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){We(t,r,f)}else l.current=null}function Dv(t){var r=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(f){We(t,t.return,f)}}function Tm(t,r,l){try{var c=t.stateNode;QE(c,t.type,l,r),c[Ut]=r}catch(f){We(t,t.return,f)}}function kv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,r,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(t),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=cs));else if(c!==4&&(c===27&&da(t.type)&&(l=t.stateNode,r=null),t=t.child,t!==null))for(Sm(t,r,l),t=t.sibling;t!==null;)Sm(t,r,l),t=t.sibling}function hd(t,r,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(c!==4&&(c===27&&da(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(hd(t,r,l),t=t.sibling;t!==null;)hd(t,r,l),t=t.sibling}function Mv(t){var r=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,c,l),r[Tt]=t,r[Ut]=l}catch(m){We(t,t.return,m)}}var pr=!1,It=!1,Am=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function AE(t,r){if(t=t.containerInfo,Qm=kd,t=Yx(t),_f(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,N=-1,P=-1,Y=0,Z=0,se=t,K=null;t:for(;;){for(var W;se!==l||f!==0&&se.nodeType!==3||(N=b+f),se!==m||c!==0&&se.nodeType!==3||(P=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(W=se.firstChild)!==null;)K=se,se=W;for(;;){if(se===t)break t;if(K===l&&++Y===f&&(N=b),K===m&&++Z===c&&(P=b),(W=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=W}l=N===-1||P===-1?null:{start:N,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xm={focusedElem:t,selectionRange:l},kd=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)f=t[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=r,f=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var me=mi(l.type,f);t=c.getSnapshotBeforeUpdate(me,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(l,l.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,l=t.nodeType,l===9)Zm(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function Pv(t,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:xr(t,l),c&4&&ec(5,l);break;case 1:if(xr(t,l),c&4)if(t=l.stateNode,r===null)try{t.componentDidMount()}catch(b){We(l,l.return,b)}else{var f=mi(l.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){We(l,l.return,b)}}c&64&&Rv(l),c&512&&tc(l,l.return);break;case 3:if(xr(t,l),c&64&&(t=l.updateQueue,t!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{by(t,r)}catch(b){We(l,l.return,b)}}break;case 27:r===null&&c&4&&Mv(l);case 26:case 5:xr(t,l),r===null&&c&4&&Dv(l),c&512&&tc(l,l.return);break;case 12:xr(t,l);break;case 31:xr(t,l),c&4&&Uv(t,l);break;case 13:xr(t,l),c&4&&zv(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=LE.bind(null,l),sT(t,l))));break;case 22:if(c=l.memoizedState!==null||pr,!c){r=r!==null&&r.memoizedState!==null||It,f=pr;var m=It;pr=c,(It=r)&&!m?yr(t,l,(l.subtreeFlags&8772)!==0):xr(t,l),pr=f,It=m}break;case 30:break;default:xr(t,l)}}function Lv(t){var r=t.alternate;r!==null&&(t.alternate=null,Lv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&$i(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,mn=!1;function gr(t,r,l){for(l=l.child;l!==null;)Vv(t,r,l),l=l.sibling}function Vv(t,r,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(as,l)}catch{}switch(l.tag){case 26:It||Gs(l,r),gr(t,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:It||Gs(l,r);var c=ut,f=mn;da(l.type)&&(ut=l.stateNode,mn=!1),gr(t,r,l),uc(l.stateNode),ut=c,mn=f;break;case 5:It||Gs(l,r);case 6:if(c=ut,f=mn,ut=null,gr(t,r,l),ut=c,mn=f,ut!==null)if(mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(l.stateNode)}catch(m){We(l,r,m)}else try{ut.removeChild(l.stateNode)}catch(m){We(l,r,m)}break;case 18:ut!==null&&(mn?(t=ut,Rb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Rl(t)):Rb(ut,l.stateNode));break;case 4:c=ut,f=mn,ut=l.stateNode.containerInfo,mn=!0,gr(t,r,l),ut=c,mn=f;break;case 0:case 11:case 14:case 15:ra(2,l,r),It||ra(4,l,r),gr(t,r,l);break;case 1:It||(Gs(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Iv(l,r,c)),gr(t,r,l);break;case 21:gr(t,r,l);break;case 22:It=(c=It)||l.memoizedState!==null,gr(t,r,l),It=c;break;default:gr(t,r,l)}}function Uv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rl(t)}catch(l){We(r,r.return,l)}}}function zv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(l){We(r,r.return,l)}}function CE(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ov),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ov),r;default:throw Error(a(435,t.tag))}}function fd(t,r){var l=CE(t);r.forEach(function(c){if(!l.has(c)){l.add(c);var f=VE.bind(null,t,c);c.then(f,f)}})}function pn(t,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c],m=t,b=r,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(da(N.type)){ut=N.stateNode,mn=!1;break e}break;case 5:ut=N.stateNode,mn=!1;break e;case 3:case 4:ut=N.stateNode.containerInfo,mn=!0;break e}N=N.return}if(ut===null)throw Error(a(160));Vv(m,b,f),ut=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Bv(r,t),r=r.sibling}var ps=null;function Bv(t,r){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),c&4&&(ra(3,t,t.return),ec(3,t),ra(5,t,t.return));break;case 1:pn(r,t),gn(t),c&512&&(It||l===null||Gs(l,l.return)),c&64&&pr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var f=ps;if(pn(r,t),gn(t),c&512&&(It||l===null||Gs(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Is]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,c,l),m[Tt]=t,jt(m),c=m;break e;case"link":var b=Bb("link","href",f).get(c+(l.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(N,1);break t}}m=f.createElement(c),Kt(m,c,l),f.head.appendChild(m);break;case"meta":if(b=Bb("meta","content",f).get(c+(l.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(N,1);break t}}m=f.createElement(c),Kt(m,c,l),f.head.appendChild(m);break;default:throw Error(a(468,c))}m[Tt]=t,jt(m),c=m}t.stateNode=c}else Fb(f,t.type,t.stateNode);else t.stateNode=zb(f,c,t.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?Fb(f,t.type,t.stateNode):zb(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Tm(t,t.memoizedProps,l.memoizedProps)}break;case 27:pn(r,t),gn(t),c&512&&(It||l===null||Gs(l,l.return)),l!==null&&c&4&&Tm(t,t.memoizedProps,l.memoizedProps);break;case 5:if(pn(r,t),gn(t),c&512&&(It||l===null||Gs(l,l.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(me){We(t,t.return,me)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Tm(t,f,l!==null?l.memoizedProps:f)),c&1024&&(Am=!0);break;case 6:if(pn(r,t),gn(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(me){We(t,t.return,me)}}break;case 3:if(Cd=null,f=ps,ps=Sd(r.containerInfo),pn(r,t),ps=f,gn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Rl(r.containerInfo)}catch(me){We(t,t.return,me)}Am&&(Am=!1,Fv(t));break;case 4:c=ps,ps=Sd(t.stateNode.containerInfo),pn(r,t),gn(t),ps=c;break;case 12:pn(r,t),gn(t);break;case 31:pn(r,t),gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(pd=an()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 22:f=t.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=pr,Z=It;if(pr=Y||f,It=Z||P,pn(r,t),It=Z,pr=Y,gn(t),c&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(l===null||P||pr||It||pi(t)),l=null,r=t;;){if(r.tag===5||r.tag===26){if(l===null){P=l=r;try{if(m=P.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=P.stateNode;var se=P.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){We(P,P.return,me)}}}else if(r.tag===6){if(l===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(me){We(P,P.return,me)}}}else if(r.tag===18){if(l===null){P=r;try{var W=P.stateNode;f?Ib(W,!0):Ib(P.stateNode,!1)}catch(me){We(P,P.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,fd(t,l))));break;case 19:pn(r,t),gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var l,c=t.return;c!==null;){if(kv(c)){l=c;break}c=c.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=jm(t);hd(t,m,f);break;case 5:var b=l.stateNode;l.flags&32&&(fn(b,""),l.flags&=-33);var N=jm(t);hd(t,N,b);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=jm(t);Sm(t,Y,P);break;default:throw Error(a(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Fv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Pv(t,r.alternate,r),r=r.sibling}function pi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ra(4,r,r.return),pi(r);break;case 1:Gs(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Iv(r,r.return,l),pi(r);break;case 27:uc(r.stateNode);case 26:case 5:Gs(r,r.return),pi(r);break;case 22:r.memoizedState===null&&pi(r);break;case 30:pi(r);break;default:pi(r)}t=t.sibling}}function yr(t,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:yr(f,m,l),ec(4,m);break;case 1:if(yr(f,m,l),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){We(c,c.return,Y)}if(c=m,f=c.updateQueue,f!==null){var N=c.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)vy(P[f],N)}catch(Y){We(c,c.return,Y)}}l&&b&64&&Rv(m),tc(m,m.return);break;case 27:Mv(m);case 26:case 5:yr(f,m,l),l&&c===null&&b&4&&Dv(m),tc(m,m.return);break;case 12:yr(f,m,l);break;case 31:yr(f,m,l),l&&b&4&&Uv(f,m);break;case 13:yr(f,m,l),l&&b&4&&zv(f,m);break;case 22:m.memoizedState===null&&yr(f,m,l),tc(m,m.return);break;case 30:break;default:yr(f,m,l)}r=r.sibling}}function Cm(t,r){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Bo(l))}function Rm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Bo(t))}function gs(t,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qv(t,r,l,c),r=r.sibling}function qv(t,r,l,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gs(t,r,l,c),f&2048&&ec(9,r);break;case 1:gs(t,r,l,c);break;case 3:gs(t,r,l,c),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Bo(t)));break;case 12:if(f&2048){gs(t,r,l,c),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){We(r,r.return,P)}}else gs(t,r,l,c);break;case 31:gs(t,r,l,c);break;case 13:gs(t,r,l,c);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?gs(t,r,l,c):nc(t,r):m._visibility&2?gs(t,r,l,c):(m._visibility|=2,vl(t,r,l,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Cm(b,r);break;case 24:gs(t,r,l,c),f&2048&&Rm(r.alternate,r);break;default:gs(t,r,l,c)}}function vl(t,r,l,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,N=l,P=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:vl(m,b,N,P,f),ec(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?vl(m,b,N,P,f):nc(m,b):(Z._visibility|=2,vl(m,b,N,P,f)),f&&Y&2048&&Cm(b.alternate,b);break;case 24:vl(m,b,N,P,f),f&&Y&2048&&Rm(b.alternate,b);break;default:vl(m,b,N,P,f)}r=r.sibling}}function nc(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=t,c=r,f=c.flags;switch(c.tag){case 22:nc(l,c),f&2048&&Cm(c.alternate,c);break;case 24:nc(l,c),f&2048&&Rm(c.alternate,c);break;default:nc(l,c)}r=r.sibling}}var sc=8192;function bl(t,r,l){if(t.subtreeFlags&sc)for(t=t.child;t!==null;)Hv(t,r,l),t=t.sibling}function Hv(t,r,l){switch(t.tag){case 26:bl(t,r,l),t.flags&sc&&t.memoizedState!==null&&pT(l,ps,t.memoizedState,t.memoizedProps);break;case 5:bl(t,r,l);break;case 3:case 4:var c=ps;ps=Sd(t.stateNode.containerInfo),bl(t,r,l),ps=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,bl(t,r,l),sc=c):bl(t,r,l));break;default:bl(t,r,l)}}function Gv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Bt=c,Yv(c,t)}Gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$v(t),t=t.sibling}function $v(t){switch(t.tag){case 0:case 11:case 15:rc(t),t.flags&2048&&ra(9,t,t.return);break;case 3:rc(t);break;case 12:rc(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,md(t)):rc(t);break;default:rc(t)}}function md(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Bt=c,Yv(c,t)}Gv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ra(8,r,r.return),md(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,md(r));break;default:md(r)}t=t.sibling}}function Yv(t,r){for(;Bt!==null;){var l=Bt;switch(l.tag){case 0:case 11:case 15:ra(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Bo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Bt=c;else e:for(l=t;Bt!==null;){c=Bt;var f=c.sibling,m=c.return;if(Lv(c),c===l){Bt=null;break e}if(f!==null){f.return=m,Bt=f;break e}Bt=m}}}var RE={getCacheForType:function(t){var r=$t(At),l=r.data.get(t);return l===void 0&&(l=t(),r.data.set(t,l)),l},cacheSignal:function(){return $t(At).controller.signal}},IE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,De=null,Oe=0,Xe=0,Dn=null,aa=!1,_l=!1,Im=!1,vr=0,pt=0,ia=0,gi=0,Dm=0,kn=0,wl=0,ac=null,xn=null,km=!1,pd=0,Kv=0,gd=1/0,xd=null,la=null,Lt=0,oa=null,Nl=null,br=0,Mm=0,Om=null,Qv=null,ic=0,Pm=null;function Mn(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:J.T!==null?Fm():yu()}function Xv(){if(kn===0)if((Oe&536870912)===0||ze){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),kn=t}else kn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),kn}function yn(t,r,l){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(El(t,0),ca(t,Oe,kn,!1)),Ha(t,l),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(gi|=l),pt===4&&ca(t,Oe,kn,!1)),$s(t))}function Wv(t,r,l){if((Ye&6)!==0)throw Error(a(327));var c=!l&&(r&127)===0&&(r&t.expiredLanes)===0||is(t,r),f=c?ME(t,r):Vm(t,r,!0),m=c;do{if(f===0){_l&&!c&&ca(t,r,0,!1);break}else{if(l=t.current.alternate,m&&!DE(l)){f=Vm(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var N=t;f=ac;var P=N.current.memoizedState.isDehydrated;if(P&&(El(N,b).flags|=256),b=Vm(N,b,!1),b!==2){if(Im&&!P){N.errorRecoveryDisabledLanes|=m,gi|=m,f=4;break e}m=xn,xn=f,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){El(t,0),ca(t,r,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ca(c,r,kn,!aa);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=pd+300-an(),10<f)){if(ca(c,r,kn,!aa),As(c,0,!0)!==0)break e;br=r,c.timeoutHandle=Ab(Jv.bind(null,c,l,xn,xd,km,r,kn,gi,wl,aa,m,"Throttled",-0,0),f);break e}Jv(c,l,xn,xd,km,r,kn,gi,wl,aa,m,null,-0,0)}}break}while(!0);$s(t)}function Jv(t,r,l,c,f,m,b,N,P,Y,Z,se,K,W){if(t.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},Hv(r,m,se);var me=(m&62914560)===m?pd-an():(m&4194048)===m?Kv-an():0;if(me=gT(se,me),me!==null){br=m,t.cancelPendingCommit=me(ib.bind(null,t,r,m,l,c,f,b,N,P,Z,se,null,K,W)),ca(t,m,b,!Y);return}}ib(t,r,m,l,c,f,b,N,P)}function DE(t){for(var r=t;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var f=l[c],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ca(t,r,l,c){r&=~Dm,r&=~gi,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var f=r;0<f;){var m=31-yt(f),b=1<<m;c[m]=-1,f&=~b}l!==0&&Ga(t,l,r)}function yd(){return(Ye&6)===0?(lc(0),!1):!0}function Lm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,cr=li=null,Zf(t),ml=null,qo=0,t=De;for(;t!==null;)Cv(t.alternate,t),t=t.return;De=null}}function El(t,r){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,JE(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),br=0,Lm(),st=t,De=l=lr(t.current,null),Oe=r,Xe=0,Dn=null,aa=!1,_l=is(t,r),Im=!1,wl=kn=Dm=gi=ia=pt=0,xn=ac=null,km=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var f=31-yt(c),m=1<<f;r|=t[f],c&=~m}return vr=r,Uu(),l}function Zv(t,r){Ae=null,J.H=Wo,r===fl||r===Yu?(r=py(),Xe=3):r===Bf?(r=py(),Xe=4):Xe=r===pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,De===null&&(pt=1,ld(t,Hn(r,t.current)))}function eb(){var t=Rn.current;return t===null?!0:(Oe&4194048)===Oe?Kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Kn:!1}function tb(){var t=J.H;return J.H=Wo,t===null?Wo:t}function nb(){var t=J.A;return J.A=RE,t}function vd(){pt=4,aa||(Oe&4194048)!==Oe&&Rn.current!==null||(_l=!0),(ia&134217727)===0&&(gi&134217727)===0||st===null||ca(st,Oe,kn,!1)}function Vm(t,r,l){var c=Ye;Ye|=2;var f=tb(),m=nb();(st!==t||Oe!==r)&&(xd=null,El(t,r)),r=!1;var b=pt;e:do try{if(Xe!==0&&De!==null){var N=De,P=Dn;switch(Xe){case 8:Lm(),b=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var Y=Xe;if(Xe=0,Dn=null,Tl(t,N,P,Y),l&&_l){b=0;break e}break;default:Y=Xe,Xe=0,Dn=null,Tl(t,N,P,Y)}}kE(),b=pt;break}catch(Z){Zv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,cr=li=null,Ye=c,J.H=f,J.A=m,De===null&&(st=null,Oe=0,Uu()),b}function kE(){for(;De!==null;)sb(De)}function ME(t,r){var l=Ye;Ye|=2;var c=tb(),f=nb();st!==t||Oe!==r?(xd=null,gd=an()+500,El(t,r)):_l=is(t,r);e:do try{if(Xe!==0&&De!==null){r=De;var m=Dn;t:switch(Xe){case 1:Xe=0,Dn=null,Tl(t,r,m,1);break;case 2:case 9:if(fy(m)){Xe=0,Dn=null,rb(r);break}r=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),$s(t)},m.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:fy(m)?(Xe=0,Dn=null,rb(r)):(Xe=0,Dn=null,Tl(t,r,m,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var N=De;if(b?qb(b):N.stateNode.complete){Xe=0,Dn=null;var P=N.sibling;if(P!==null)De=P;else{var Y=N.return;Y!==null?(De=Y,bd(Y)):De=null}break t}}Xe=0,Dn=null,Tl(t,r,m,5);break;case 6:Xe=0,Dn=null,Tl(t,r,m,6);break;case 8:Lm(),pt=6;break e;default:throw Error(a(462))}}OE();break}catch(Z){Zv(t,Z)}while(!0);return cr=li=null,J.H=c,J.A=f,Ye=l,De!==null?0:(st=null,Oe=0,Uu(),pt)}function OE(){for(;De!==null&&!mf();)sb(De)}function sb(t){var r=Sv(t.alternate,t,vr);t.memoizedProps=t.pendingProps,r===null?bd(t):De=r}function rb(t){var r=t,l=r.alternate;switch(r.tag){case 15:case 0:r=_v(l,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=_v(l,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Zf(r);default:Cv(l,r),r=De=ny(r,vr),r=Sv(l,r,vr)}t.memoizedProps=t.pendingProps,r===null?bd(t):De=r}function Tl(t,r,l,c){cr=li=null,Zf(r),ml=null,qo=0;var f=r.return;try{if(NE(t,f,r,l,Oe)){pt=1,ld(t,Hn(l,t.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;pt=1,ld(t,Hn(l,t.current)),De=null;return}r.flags&32768?(ze||c===1?t=!0:_l||(Oe&536870912)!==0?t=!1:(aa=t=!0,(c===2||c===9||c===3||c===6)&&(c=Rn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ab(r,t)):bd(r)}function bd(t){var r=t;do{if((r.flags&32768)!==0){ab(r,aa);return}t=r.return;var l=jE(r.alternate,r,vr);if(l!==null){De=l;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);pt===0&&(pt=5)}function ab(t,r){do{var l=SE(t.alternate,t);if(l!==null){l.flags&=32767,De=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=l}while(t!==null);pt=6,De=null}function ib(t,r,l,c,f,m,b,N,P){t.cancelPendingCommit=null;do _d();while(Lt!==0);if((Ye&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(m=r.lanes|r.childLanes,m|=jf,xf(t,l,m,b,N,P),t===st&&(De=st=null,Oe=0),Nl=r,oa=t,br=l,Mm=m,Om=f,Qv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,UE(Ur,function(){return db(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,f=ce.p,ce.p=2,b=Ye,Ye|=4;try{AE(t,r,l)}finally{Ye=b,ce.p=f,J.T=c}}Lt=1,lb(),ob(),cb()}}function lb(){if(Lt===1){Lt=0;var t=oa,r=Nl,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=ce.p;ce.p=2;var f=Ye;Ye|=4;try{Bv(r,t);var m=Xm,b=Yx(t.containerInfo),N=m.focusedElem,P=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&$x(N.ownerDocument.documentElement,N)){if(P!==null&&_f(N)){var Y=P.start,Z=P.end;if(Z===void 0&&(Z=Y),"selectionStart"in N)N.selectionStart=Y,N.selectionEnd=Math.min(Z,N.value.length);else{var se=N.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var W=K.getSelection(),me=N.textContent.length,ve=Math.min(P.start,me),tt=P.end===void 0?ve:Math.min(P.end,me);!W.extend&&ve>tt&&(b=tt,tt=ve,ve=b);var F=Gx(N,ve),V=Gx(N,tt);if(F&&V&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==V.node||W.focusOffset!==V.offset)){var $=se.createRange();$.setStart(F.node,F.offset),W.removeAllRanges(),ve>tt?(W.addRange($),W.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),W.addRange($))}}}}for(se=[],W=N;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var ee=se[N];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}kd=!!Qm,Xm=Qm=null}finally{Ye=f,ce.p=c,J.T=l}}t.current=r,Lt=2}}function ob(){if(Lt===2){Lt=0;var t=oa,r=Nl,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=ce.p;ce.p=2;var f=Ye;Ye|=4;try{Pv(t,r.alternate,r)}finally{Ye=f,ce.p=c,J.T=l}}Lt=3}}function cb(){if(Lt===4||Lt===3){Lt=0,du();var t=oa,r=Nl,l=br,c=Qv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,Nl=oa=null,ub(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(la=null),sr(l),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(as,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,f=ce.p,ce.p=2,J.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var N=c[b];m(N.value,{componentStack:N.stack})}}finally{J.T=r,ce.p=f}}(br&3)!==0&&_d(),$s(t),f=t.pendingLanes,(l&261930)!==0&&(f&42)!==0?t===Pm?ic++:(ic=0,Pm=t):ic=0,lc(0)}}function ub(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Bo(r)))}function _d(){return lb(),ob(),cb(),db()}function db(){if(Lt!==5)return!1;var t=oa,r=Mm;Mm=0;var l=sr(br),c=J.T,f=ce.p;try{ce.p=32>l?32:l,J.T=null,l=Om,Om=null;var m=oa,b=br;if(Lt=0,Nl=oa=null,br=0,(Ye&6)!==0)throw Error(a(331));var N=Ye;if(Ye|=4,$v(m.current),qv(m,m.current,b,l),Ye=N,lc(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(as,m)}catch{}return!0}finally{ce.p=f,J.T=c,ub(t,r)}}function hb(t,r,l){r=Hn(l,r),r=mm(t.stateNode,r,2),t=ta(t,r,2),t!==null&&(Ha(t,2),$s(t))}function We(t,r,l){if(t.tag===3)hb(t,t,l);else for(;r!==null;){if(r.tag===3){hb(r,t,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(la===null||!la.has(c))){t=Hn(l,t),l=fv(2),c=ta(r,l,2),c!==null&&(mv(l,c,r,t),Ha(c,2),$s(c));break}}r=r.return}}function Um(t,r,l){var c=t.pingCache;if(c===null){c=t.pingCache=new IE;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(l)||(Im=!0,f.add(l),t=PE.bind(null,t,r,l),r.then(t,t))}function PE(t,r,l){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,st===t&&(Oe&l)===l&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>an()-pd?(Ye&2)===0&&El(t,0):Dm|=l,wl===Oe&&(wl=0)),$s(t)}function fb(t,r){r===0&&(r=xu()),t=ri(t,r),t!==null&&(Ha(t,r),$s(t))}function LE(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),fb(t,l)}function VE(t,r){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),fb(t,l)}function UE(t,r){return Pt(t,r)}var wd=null,jl=null,zm=!1,Nd=!1,Bm=!1,ua=0;function $s(t){t!==jl&&t.next===null&&(jl===null?wd=jl=t:jl=jl.next=t),Nd=!0,zm||(zm=!0,BE())}function lc(t,r){if(!Bm&&Nd){Bm=!0;do for(var l=!1,c=wd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,N=c.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=f&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,xb(c,m))}else m=Oe,m=As(c,c===st?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||is(c,m)||(l=!0,xb(c,m));c=c.next}while(l);Bm=!1}}function zE(){mb()}function mb(){Nd=zm=!1;var t=0;ua!==0&&WE()&&(t=ua);for(var r=an(),l=null,c=wd;c!==null;){var f=c.next,m=pb(c,r);m===0?(c.next=null,l===null?wd=f:l.next=f,f===null&&(jl=l)):(l=c,(t!==0||(m&3)!==0)&&(Nd=!0)),c=f}Lt!==0&&Lt!==5||lc(t),ua!==0&&(ua=0)}function pb(t,r){for(var l=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-yt(m),N=1<<b,P=f[b];P===-1?((N&l)===0||(N&c)!==0)&&(f[b]=gf(N,r)):P<=r&&(t.expiredLanes|=N),m&=~N}if(r=st,l=Oe,l=As(t,t===r?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Vr(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||is(t,l)){if(r=l&-l,r===t.callbackPriority)return r;switch(c!==null&&Vr(c),sr(l)){case 2:case 8:l=xo;break;case 32:l=Ur;break;case 268435456:l=hu;break;default:l=Ur}return c=gb.bind(null,t),l=Pt(l,c),t.callbackPriority=r,t.callbackNode=l,r}return c!==null&&c!==null&&Vr(c),t.callbackPriority=2,t.callbackNode=null,2}function gb(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(_d()&&t.callbackNode!==l)return null;var c=Oe;return c=As(t,t===st?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Wv(t,c,r),pb(t,an()),t.callbackNode!=null&&t.callbackNode===l?gb.bind(null,t):null)}function xb(t,r){if(_d())return null;Wv(t,r,!0)}function BE(){ZE(function(){(Ye&6)!==0?Pt(go,zE):mb()})}function Fm(){if(ua===0){var t=dl;t===0&&(t=js,js<<=1,(js&261888)===0&&(js=256)),ua=t}return ua}function yb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xi(""+t)}function vb(t,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,t.id&&l.setAttribute("form",t.id),r.parentNode.insertBefore(l,r),t=new FormData(t),l.parentNode.removeChild(l),t}function FE(t,r,l,c,f){if(r==="submit"&&l&&l.stateNode===f){var m=yb((f[Ut]||null).action),b=c.submitter;b&&(r=(r=b[Ut]||null)?yb(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var N=new Us("action","action",null,c,f);t.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ua!==0){var P=b?vb(f,b):new FormData(f);om(l,{pending:!0,data:P,method:f.method,action:m},null,P)}}else typeof m=="function"&&(N.preventDefault(),P=b?vb(f,b):new FormData(f),om(l,{pending:!0,data:P,method:f.method,action:m},m,P))},currentTarget:f}]})}}for(var qm=0;qm<Tf.length;qm++){var Hm=Tf[qm],qE=Hm.toLowerCase(),HE=Hm[0].toUpperCase()+Hm.slice(1);ms(qE,"on"+HE)}ms(Xx,"onAnimationEnd"),ms(Wx,"onAnimationIteration"),ms(Jx,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(iE,"onTransitionRun"),ms(lE,"onTransitionStart"),ms(oE,"onTransitionCancel"),ms(Zx,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function bb(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var b=c.length-1;0<=b;b--){var N=c[b],P=N.instance,Y=N.currentTarget;if(N=N.listener,P!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=Y;try{m(f)}catch(Z){Vu(Z)}f.currentTarget=null,m=P}else for(b=0;b<c.length;b++){if(N=c[b],P=N.instance,Y=N.currentTarget,N=N.listener,P!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=Y;try{m(f)}catch(Z){Vu(Z)}f.currentTarget=null,m=P}}}}function ke(t,r){var l=r[Gi];l===void 0&&(l=r[Gi]=new Set);var c=t+"__bubble";l.has(c)||(_b(r,t,2,!1),l.add(c))}function Gm(t,r,l){var c=0;r&&(c|=4),_b(l,t,c,r)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function $m(t){if(!t[Ed]){t[Ed]=!0,bo.forEach(function(l){l!=="selectionchange"&&(GE.has(l)||Gm(l,!1,t),Gm(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ed]||(r[Ed]=!0,Gm("selectionchange",!1,r))}}function _b(t,r,l,c){switch(Xb(r)){case 2:var f=vT;break;case 8:f=bT;break;default:f=lp}l=f.bind(null,r,l,t),f=void 0,!Xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,l,{capture:!0,passive:f}):t.addEventListener(r,l,!0):f!==void 0?t.addEventListener(r,l,{passive:f}):t.addEventListener(r,l,!1)}function Ym(t,r,l,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var N=c.stateNode.containerInfo;if(N===f)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;N!==null;){if(b=Ds(N),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){c=m=b;continue e}N=N.parentNode}}c=c.return}Gr(function(){var Y=m,Z=zn(l),se=[];e:{var K=ey.get(t);if(K!==void 0){var W=Us,me=t;switch(t){case"keypress":if(Ja(l)===0)break e;case"keydown":case"keyup":W=Ou;break;case"focusin":me="focus",W=ei;break;case"focusout":me="blur",W=ei;break;case"beforeblur":case"afterblur":W=ei;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case Xx:case Wx:case Jx:W=Au;break;case Zx:W=C;break;case"scroll":case"scrollend":W=Do;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ir;break;case"toggle":case"beforetoggle":W=Se}var ve=(r&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),F=ve?K!==null?K+"Capture":null:K;ve=[];for(var V=Y,$;V!==null;){var ee=V;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||F===null||(ee=us(V,F),ee!=null&&ve.push(cc(V,ee,$))),tt)break;V=V.return}0<ve.length&&(K=new W(K,me,null,l,Z),se.push({event:K,listeners:ve}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&l!==Co&&(me=l.relatedTarget||l.fromElement)&&(Ds(me)||me[Rs]))break e;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=l.relatedTarget||l.toElement,W=Y,me=me?Ds(me):null,me!==null&&(tt=u(me),ve=me.tag,me!==tt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(W=null,me=Y),W!==me)){if(ve=ko,ee="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ir,ee="onPointerLeave",F="onPointerEnter",V="pointer"),tt=W==null?K:jn(W),$=me==null?K:jn(me),K=new ve(ee,V+"leave",W,l,Z),K.target=tt,K.relatedTarget=$,ee=null,Ds(Z)===Y&&(ve=new ve(F,V+"enter",me,l,Z),ve.target=$,ve.relatedTarget=tt,ee=ve),tt=ee,W&&me)t:{for(ve=$E,F=W,V=me,$=0,ee=F;ee;ee=ve(ee))$++;ee=0;for(var xe=V;xe;xe=ve(xe))ee++;for(;0<$-ee;)F=ve(F),$--;for(;0<ee-$;)V=ve(V),ee--;for(;$--;){if(F===V||V!==null&&F===V.alternate){ve=F;break t}F=ve(F),V=ve(V)}ve=null}else ve=null;W!==null&&wb(se,K,W,ve,!1),me!==null&&tt!==null&&wb(se,tt,me,ve,!0)}}e:{if(K=Y?jn(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var qe=Ux;else if(Lx(K))if(zx)qe=sE;else{qe=tE;var pe=eE}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Qi(Y.elementType)&&(qe=Ux):qe=nE;if(qe&&(qe=qe(t,Y))){Vx(se,qe,l,Z);break e}pe&&pe(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&jo(K,"number",K.value)}switch(pe=Y?jn(Y):window,t){case"focusin":(Lx(pe)||pe.contentEditable==="true")&&(sl=pe,wf=Y,Vo=null);break;case"focusout":Vo=wf=sl=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Kx(se,l,Z);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":Kx(se,l,Z)}var Re;if($e)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else nl?ti(t,l)&&(Pe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Fs&&l.locale!=="ko"&&(nl||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&nl&&(Re=Io()):(Vs=Z,Ro="value"in Vs?Vs.value:Vs.textContent,nl=!0)),pe=Td(Y,Pe),0<pe.length&&(Pe=new Bs(Pe,t,null,l,Z),se.push({event:Pe,listeners:pe}),Re?Pe.data=Re:(Re=tl(l),Re!==null&&(Pe.data=Re)))),(Re=Fn?X2(t,l):W2(t,l))&&(Pe=Td(Y,"onBeforeInput"),0<Pe.length&&(pe=new Bs("onBeforeInput","beforeinput",null,l,Z),se.push({event:pe,listeners:Pe}),pe.data=Re)),FE(se,t,Y,l,Z)}bb(se,r)})}function cc(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Td(t,r){for(var l=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=us(t,l),f!=null&&c.unshift(cc(t,f,m)),f=us(t,r),f!=null&&c.push(cc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wb(t,r,l,c,f){for(var m=r._reactName,b=[];l!==null&&l!==c;){var N=l,P=N.alternate,Y=N.stateNode;if(N=N.tag,P!==null&&P===c)break;N!==5&&N!==26&&N!==27||Y===null||(P=Y,f?(Y=us(l,m),Y!=null&&b.unshift(cc(l,Y,P))):f||(Y=us(l,m),Y!=null&&b.push(cc(l,Y,P)))),l=l.return}b.length!==0&&t.push({event:r,listeners:b})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Nb(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function Eb(t,r){return r=Nb(r),Nb(t)===r}function et(t,r,l,c,f,m){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||fn(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&fn(t,""+c);break;case"className":Sn(t,"class",c);break;case"tabIndex":Sn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,l,c);break;case"style":Ao(t,c,m);break;case"data":if(r!=="object"){Sn(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Xi(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Xi(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=cs);break;case"onScroll":c!=null&&ke("scroll",t);break;case"onScrollEnd":c!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=Xi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Yi(t,"popover",c);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yi(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tu.get(l)||l,Yi(t,l,c))}}function Km(t,r,l,c,f,m){switch(l){case"style":Ao(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof c=="string"?fn(t,c):(typeof c=="number"||typeof c=="bigint")&&fn(t,""+c);break;case"onScroll":c!=null&&ke("scroll",t);break;case"onScrollEnd":c!=null&&ke("scrollend",t);break;case"onClick":c!=null&&(t.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),r=l.slice(2,f?l.length-7:void 0),m=t[Ut]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(r,c,f);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):Yi(t,l,c)}}}function Kt(t,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var c=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(t,r,m,b,l,null)}}f&&et(t,r,"srcSet",l.srcSet,l,null),c&&et(t,r,"src",l.src,l,null);return;case"input":ke("invalid",t);var N=m=b=f=null,P=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":P=Z;break;case"defaultChecked":Y=Z;break;case"value":m=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:et(t,r,c,Z,l,null)}}wu(t,m,N,P,Y,b,f,!1);return;case"select":ke("invalid",t),c=b=m=null;for(f in l)if(l.hasOwnProperty(f)&&(N=l[f],N!=null))switch(f){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":c=N;default:et(t,r,f,N,l,null)}r=m,l=b,t.multiple=!!c,r!=null?Br(t,!!c,r,!1):l!=null&&Br(t,!!c,l,!0);return;case"textarea":ke("invalid",t),m=f=c=null;for(b in l)if(l.hasOwnProperty(b)&&(N=l[b],N!=null))switch(b){case"value":c=N;break;case"defaultValue":f=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:et(t,r,b,N,l,null)}Fr(t,c,f,m);return;case"option":for(P in l)l.hasOwnProperty(P)&&(c=l[P],c!=null)&&(P==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":et(t,r,P,c,l,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(c=0;c<oc.length;c++)ke(oc[c],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(t,r,Y,c,l,null)}return;default:if(Qi(r)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&Km(t,r,Z,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&et(t,r,N,c,l,null))}function QE(t,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,N=null,P=null,Y=null,Z=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=se;default:c.hasOwnProperty(W)||et(t,r,W,null,c,se)}}for(var K in c){var W=c[K];if(se=l[K],c.hasOwnProperty(K)&&(W!=null||se!=null))switch(K){case"type":m=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":Z=W;break;case"value":b=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:W!==se&&et(t,r,K,W,c,se)}}Ki(t,b,N,P,Y,Z,m,f);return;case"select":W=b=N=K=null;for(m in l)if(P=l[m],l.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":W=P;default:c.hasOwnProperty(m)||et(t,r,m,null,c,P)}for(f in c)if(m=c[f],P=l[f],c.hasOwnProperty(f)&&(m!=null||P!=null))switch(f){case"value":K=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==P&&et(t,r,f,m,c,P)}r=N,l=b,c=W,K!=null?Br(t,!!l,K,!1):!!c!=!!l&&(r!=null?Br(t,!!l,r,!0):Br(t,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(N in l)if(f=l[N],l.hasOwnProperty(N)&&f!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:et(t,r,N,null,c,f)}for(b in c)if(f=c[b],m=l[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":K=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&et(t,r,b,f,c,m)}Nu(t,K,W);return;case"option":for(var me in l)K=l[me],l.hasOwnProperty(me)&&K!=null&&!c.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:et(t,r,me,null,c,K));for(P in c)K=c[P],W=l[P],c.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null)&&(P==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":et(t,r,P,K,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)K=l[ve],l.hasOwnProperty(ve)&&K!=null&&!c.hasOwnProperty(ve)&&et(t,r,ve,null,c,K);for(Y in c)if(K=c[Y],W=l[Y],c.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:et(t,r,Y,K,c,W)}return;default:if(Qi(r)){for(var tt in l)K=l[tt],l.hasOwnProperty(tt)&&K!==void 0&&!c.hasOwnProperty(tt)&&Km(t,r,tt,void 0,c,K);for(Z in c)K=c[Z],W=l[Z],!c.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||Km(t,r,Z,K,c,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&et(t,r,F,null,c,K);for(se in c)K=c[se],W=l[se],!c.hasOwnProperty(se)||K===W||K==null&&W==null||et(t,r,se,K,c,W)}function Tb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var f=l[c],m=f.transferSize,b=f.initiatorType,N=f.duration;if(m&&N&&Tb(b)){for(b=0,N=f.responseEnd,c+=1;c<l.length;c++){var P=l[c],Y=P.startTime;if(Y>N)break;var Z=P.transferSize,se=P.initiatorType;Z&&Tb(se)&&(P=P.responseEnd,b+=Z*(P<N?1:(N-Y)/(P-Y)))}if(--c,r+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qm=null,Xm=null;function jd(t){return t.nodeType===9?t:t.ownerDocument}function jb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Wm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jm=null;function WE(){var t=window.event;return t&&t.type==="popstate"?t===Jm?!1:(Jm=t,!0):(Jm=null,!1)}var Ab=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(eT)}:Ab;function eT(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function Rb(t,r){var l=r,c=0;do{var f=l.nextSibling;if(t.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(f),Rl(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")uc(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,uc(l);for(var m=l.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Is]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&uc(t.ownerDocument.body);l=f}while(l);Rl(r)}function Ib(t,r){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function Zm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zm(l),$i(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function tT(t,r,l,c){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Is])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function nT(t,r,l){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Qn(t.nextSibling),t===null))return null;return t}function Db(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function ep(t){return t.data==="$?"||t.data==="$~"}function tp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sT(t,r){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var np=null;function kb(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(r===0)return Qn(t.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}t=t.nextSibling}return null}function Mb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return t;r--}else l!=="/$"&&l!=="/&"||r++}t=t.previousSibling}return null}function Ob(t,r,l){switch(r=jd(l),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uc(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);$i(t)}var Xn=new Map,Pb=new Set;function Sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=ce.d;ce.d={f:rT,r:aT,D:iT,C:lT,L:oT,m:cT,X:dT,S:uT,M:hT};function rT(){var t=_r.f(),r=yd();return t||r}function aT(t){var r=Un(t);r!==null&&r.tag===5&&r.type==="form"?Zy(r):_r.r(t)}var Sl=typeof document>"u"?null:document;function Lb(t,r,l){var c=Sl;if(c&&typeof r=="string"&&r){var f=hn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Pb.has(f)||(Pb.add(f),t={rel:t,crossOrigin:l,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),Kt(r,"link",t),jt(r),c.head.appendChild(r)))}}function iT(t){_r.D(t),Lb("dns-prefetch",t,null)}function lT(t,r){_r.C(t,r),Lb("preconnect",t,r)}function oT(t,r,l){_r.L(t,r,l);var c=Sl;if(c&&t&&r){var f='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+hn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+hn(l.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var m=f;switch(r){case"style":m=Al(t);break;case"script":m=Cl(t)}Xn.has(m)||(t=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:t,as:r},l),Xn.set(m,t),c.querySelector(f)!==null||r==="style"&&c.querySelector(dc(m))||r==="script"&&c.querySelector(hc(m))||(r=c.createElement("link"),Kt(r,"link",t),jt(r),c.head.appendChild(r)))}}function cT(t,r){_r.m(t,r);var l=Sl;if(l&&t){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+hn(c)+'"][href="'+hn(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!Xn.has(m)&&(t=w({rel:"modulepreload",href:t},r),Xn.set(m,t),l.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hc(m)))return}c=l.createElement("link"),Kt(c,"link",t),jt(c),l.head.appendChild(c)}}}function uT(t,r,l){_r.S(t,r,l);var c=Sl;if(c&&t){var f=ks(c).hoistableStyles,m=Al(t);r=r||"default";var b=f.get(m);if(!b){var N={loading:0,preload:null};if(b=c.querySelector(dc(m)))N.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},l),(l=Xn.get(m))&&sp(t,l);var P=b=c.createElement("link");jt(P),Kt(P,"link",t),P._p=new Promise(function(Y,Z){P.onload=Y,P.onerror=Z}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ad(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:N},f.set(m,b)}}}function dT(t,r){_r.X(t,r);var l=Sl;if(l&&t){var c=ks(l).hoistableScripts,f=Cl(t),m=c.get(f);m||(m=l.querySelector(hc(f)),m||(t=w({src:t,async:!0},r),(r=Xn.get(f))&&rp(t,r),m=l.createElement("script"),jt(m),Kt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function hT(t,r){_r.M(t,r);var l=Sl;if(l&&t){var c=ks(l).hoistableScripts,f=Cl(t),m=c.get(f);m||(m=l.querySelector(hc(f)),m||(t=w({src:t,async:!0,type:"module"},r),(r=Xn.get(f))&&rp(t,r),m=l.createElement("script"),jt(m),Kt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Vb(t,r,l,c){var f=(f=je.current)?Sd(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Al(l.href),l=ks(f).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Al(l.href);var m=ks(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(dc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Xn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(t,l),m||fT(f,t,l,b.state))),r&&c===null)throw Error(a(528,""));return b}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Cl(l),l=ks(f).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+hn(t)+'"'}function dc(t){return'link[rel="stylesheet"]['+t+"]"}function Ub(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,r,l,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Kt(r,"link",l),jt(r),t.head.appendChild(r))}function Cl(t){return'[src="'+hn(t)+'"]'}function hc(t){return"script[async]"+t}function zb(t,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+hn(l.href)+'"]');if(c)return r.instance=c,jt(c),c;var f=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),jt(c),Kt(c,"style",f),Ad(c,l.precedence,t),r.instance=c;case"stylesheet":f=Al(l.href);var m=t.querySelector(dc(f));if(m)return r.state.loading|=4,r.instance=m,jt(m),m;c=Ub(l),(f=Xn.get(f))&&sp(c,f),m=(t.ownerDocument||t).createElement("link"),jt(m);var b=m;return b._p=new Promise(function(N,P){b.onload=N,b.onerror=P}),Kt(m,"link",c),r.state.loading|=4,Ad(m,l.precedence,t),r.instance=m;case"script":return m=Cl(l.src),(f=t.querySelector(hc(m)))?(r.instance=f,jt(f),f):(c=l,(f=Xn.get(m))&&(c=w({},l),rp(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),jt(f),Kt(f,"link",c),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Ad(c,l.precedence,t));return r.instance}function Ad(t,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var N=c[b];if(N.dataset.precedence===r)m=N;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(t,r.firstChild))}function sp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function rp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Cd=null;function Bb(t,r,l){if(Cd===null){var c=new Map,f=Cd=new Map;f.set(l,c)}else f=Cd,c=f.get(l),c||(c=new Map,f.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var m=l[f];if(!(m[Is]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var N=c.get(b);N?N.push(m):c.set(b,[m])}}return c}function Fb(t,r,l){t=t.ownerDocument||t,t.head.insertBefore(l,r==="title"?t.querySelector("head > title"):null)}function mT(t,r,l){if(l===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function qb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pT(t,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Al(c.href),m=r.querySelector(dc(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Rd.bind(t),r.then(t,t)),l.state.loading|=4,l.instance=m,jt(m);return}m=r.ownerDocument||r,c=Ub(c),(f=Xn.get(f))&&sp(c,f),m=m.createElement("link"),jt(m);var b=m;b._p=new Promise(function(N,P){b.onload=N,b.onerror=P}),Kt(m,"link",c),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Rd.bind(t),r.addEventListener("load",l),r.addEventListener("error",l))}}var ap=0;function gT(t,r){return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&ap===0&&(ap=62500*XE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ap?50:800)+r);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Id=null;function Dd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Id=new Map,r.forEach(xT,t),Id=null,Rd.call(t))}function xT(t,r){if(!(r.state.loading&4)){var l=Id.get(t);if(l)var c=l.get(null);else{l=new Map,Id.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),m=l.get(b)||c,m===c&&l.set(null,f),l.set(b,f),this.count++,c=Rd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var fc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function yT(t,r,l,c,f,m,b,N,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Hb(t,r,l,c,f,m,b,N,P,Y,Z,se){return t=new yT(t,r,l,b,P,Y,Z,se,N),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),t.current=m,m.stateNode=t,r=Vf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:r},Ff(m),t}function Gb(t){return t?(t=il,t):il}function $b(t,r,l,c,f,m){f=Gb(f),c.context===null?c.context=f:c.pendingContext=f,c=ea(r),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=ta(t,c,r),l!==null&&(yn(l,t,r),Go(l,t,r))}function Yb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function ip(t,r){Yb(t,r),(t=t.alternate)&&Yb(t,r)}function Kb(t){if(t.tag===13||t.tag===31){var r=ri(t,67108864);r!==null&&yn(r,t,67108864),ip(t,67108864)}}function Qb(t){if(t.tag===13||t.tag===31){var r=Mn();r=$a(r);var l=ri(t,r);l!==null&&yn(l,t,r),ip(t,r)}}var kd=!0;function vT(t,r,l,c){var f=J.T;J.T=null;var m=ce.p;try{ce.p=2,lp(t,r,l,c)}finally{ce.p=m,J.T=f}}function bT(t,r,l,c){var f=J.T;J.T=null;var m=ce.p;try{ce.p=8,lp(t,r,l,c)}finally{ce.p=m,J.T=f}}function lp(t,r,l,c){if(kd){var f=op(c);if(f===null)Ym(t,r,c,Md,l),Wb(t,c);else if(wT(f,t,r,l,c))c.stopPropagation();else if(Wb(t,c),r&4&&-1<_T.indexOf(t)){for(;f!==null;){var m=Un(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ss(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var P=1<<31-yt(b);N.entanglements[1]|=P,b&=~P}$s(m),(Ye&6)===0&&(gd=an()+500,lc(0))}}break;case 31:case 13:N=ri(m,2),N!==null&&yn(N,m,2),yd(),ip(m,2)}if(m=op(c),m===null&&Ym(t,r,c,Md,l),m===f)break;f=m}f!==null&&c.stopPropagation()}else Ym(t,r,c,null,l)}}function op(t){return t=zn(t),cp(t)}var Md=null;function cp(t){if(Md=null,t=Ds(t),t!==null){var r=u(t);if(r===null)t=null;else{var l=r.tag;if(l===13){if(t=d(r),t!==null)return t;t=null}else if(l===31){if(t=p(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Md=t,null}function Xb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case go:return 2;case xo:return 8;case Ur:case pf:return 32;case hu:return 268435456;default:return 32}default:return 32}}var up=!1,ha=null,fa=null,ma=null,mc=new Map,pc=new Map,pa=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wb(t,r){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":mc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(r.pointerId)}}function gc(t,r,l,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Un(r),r!==null&&Kb(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function wT(t,r,l,c,f){switch(r){case"focusin":return ha=gc(ha,t,r,l,c,f),!0;case"dragenter":return fa=gc(fa,t,r,l,c,f),!0;case"mouseover":return ma=gc(ma,t,r,l,c,f),!0;case"pointerover":var m=f.pointerId;return mc.set(m,gc(mc.get(m)||null,t,r,l,c,f)),!0;case"gotpointercapture":return m=f.pointerId,pc.set(m,gc(pc.get(m)||null,t,r,l,c,f)),!0}return!1}function Jb(t){var r=Ds(t.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){t.blockedOn=r,ls(t.priority,function(){Qb(l)});return}}else if(r===31){if(r=p(l),r!==null){t.blockedOn=r,ls(t.priority,function(){Qb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=op(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Co=c,l.target.dispatchEvent(c),Co=null}else return r=Un(l),r!==null&&Kb(r),t.blockedOn=l,!1;r.shift()}return!0}function Zb(t,r,l){Od(t)&&l.delete(r)}function NT(){up=!1,ha!==null&&Od(ha)&&(ha=null),fa!==null&&Od(fa)&&(fa=null),ma!==null&&Od(ma)&&(ma=null),mc.forEach(Zb),pc.forEach(Zb)}function Pd(t,r){t.blockedOn===r&&(t.blockedOn=null,up||(up=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,NT)))}var Ld=null;function e0(t){Ld!==t&&(Ld=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ld===t&&(Ld=null);for(var r=0;r<t.length;r+=3){var l=t[r],c=t[r+1],f=t[r+2];if(typeof c!="function"){if(cp(c||l)===null)continue;break}var m=Un(l);m!==null&&(t.splice(r,3),r-=3,om(m,{pending:!0,data:f,method:l.method,action:c},c,f))}}))}function Rl(t){function r(P){return Pd(P,t)}ha!==null&&Pd(ha,t),fa!==null&&Pd(fa,t),ma!==null&&Pd(ma,t),mc.forEach(r),pc.forEach(r);for(var l=0;l<pa.length;l++){var c=pa[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<pa.length&&(l=pa[0],l.blockedOn===null);)Jb(l),l.blockedOn===null&&pa.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var f=l[c],m=l[c+1],b=f[Ut]||null;if(typeof m=="function")b||e0(l);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[Ut]||null)N=b.formAction;else if(cp(f)!==null)continue}else N=b.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),e0(l)}}}function t0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function dp(t){this._internalRoot=t}Vd.prototype.render=dp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var l=r.current,c=Mn();$b(l,c,t,r,null,null)},Vd.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;$b(t.current,2,null,t,null,null),yd(),r[Rs]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var r=yu();t={blockedOn:null,target:t,priority:r};for(var l=0;l<pa.length&&r!==0&&r<pa[l].priority;l++);pa.splice(l,0,t),l===0&&Jb(t)}};var n0=e.version;if(n0!=="19.2.4")throw Error(a(527,n0,"19.2.4"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=x(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var ET={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{as=Ud.inject(ET),qt=Ud}catch{}}return yc.createRoot=function(t,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=cv,m=uv,b=dv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Hb(t,1,!1,null,null,l,c,null,f,m,b,t0),t[Rs]=r.current,$m(t),new dp(r)},yc.hydrateRoot=function(t,r,l){if(!o(t))throw Error(a(299));var c=!1,f="",m=cv,b=uv,N=dv,P=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),r=Hb(t,1,!0,r,l??null,c,f,P,m,b,N,t0),r.context=Gb(null),l=r.current,c=Mn(),c=$a(c),f=ea(c),f.callback=null,ta(l,f,c),l=c,r.current.lanes=l,Ha(r,l),$s(r),t[Rs]=r.current,$m(t),new Vd(r)},yc.version="19.2.4",yc}var h0;function OT(){if(h0)return mp.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mp.exports=MT(),mp.exports}var PT=OT();const LT=y_(PT);var f0="popstate";function VT(s={}){function e(a,o){let{pathname:u,search:d,hash:p}=a.location;return Up("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Lc(o)}return zT(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UT(){return Math.random().toString(36).substring(2,10)}function m0(s,e){return{usr:s.state,key:s.key,idx:e}}function Up(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:n,key:e&&e.key||a||UT()}}function Lc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function eo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function zT(s,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,p="POP",g=null,x=v();x==null&&(x=0,d.replaceState({...d.state,idx:x},""));function v(){return(d.state||{idx:null}).idx}function w(){p="POP";let D=v(),z=D==null?null:D-x;x=D,g&&g({action:p,location:M.location,delta:z})}function A(D,z){p="PUSH";let G=Up(M.location,D,z);x=v()+1;let L=m0(G,x),ae=M.createHref(G);try{d.pushState(L,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}u&&g&&g({action:p,location:M.location,delta:1})}function O(D,z){p="REPLACE";let G=Up(M.location,D,z);x=v();let L=m0(G,x),ae=M.createHref(G);d.replaceState(L,"",ae),u&&g&&g({action:p,location:M.location,delta:0})}function H(D){return BT(D)}let M={get action(){return p},get location(){return s(o,d)},listen(D){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(f0,w),g=D,()=>{o.removeEventListener(f0,w),g=null}},createHref(D){return e(o,D)},createURL:H,encodeLocation(D){let z=H(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:A,replace:O,go(D){return d.go(D)}};return M}function BT(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Lc(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function v_(s,e,n="/"){return FT(s,e,n,!1)}function FT(s,e,n,a){let o=typeof e=="string"?eo(e):e,u=Cr(o.pathname||"/",n);if(u==null)return null;let d=b_(s);qT(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let x=ej(u);p=JT(d[g],x,a)}return p}function b_(s,e=[],n=[],a="",o=!1){let u=(d,p,g=o,x)=>{let v={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&g)return;dt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let w=Tr([a,v.relativePath]),A=n.concat(v);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),b_(d.children,e,A,w,g)),!(d.path==null&&!d.index)&&e.push({path:w,score:XT(w,d.index),routesMeta:A})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of __(d.path))u(d,p,!0,g)}),e}function __(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=__(a.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function qT(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:WT(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var HT=/^:[\w-]+$/,GT=3,$T=2,YT=1,KT=10,QT=-2,p0=s=>s==="*";function XT(s,e){let n=s.split("/"),a=n.length;return n.some(p0)&&(a+=QT),e&&(a+=$T),n.filter(o=>!p0(o)).reduce((o,u)=>o+(HT.test(u)?GT:u===""?YT:KT),a)}function WT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function JT(s,e,n=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let p=0;p<a.length;++p){let g=a[p],x=p===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},v),A=g.route;if(!w&&x&&n&&!a[a.length-1].route.index&&(w=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Tr([u,w.pathname]),pathnameBase:rj(Tr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Tr([u,w.pathnameBase]))}return d}function ch(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=ZT(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((x,{paramName:v,isOptional:w},A)=>{if(v==="*"){let H=p[A]||"";d=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const O=p[A];return w&&!O?x[v]=void 0:x[v]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:d,pattern:s}}function ZT(s,e=!1,n=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function ej(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Cr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var tj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function nj(s,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?eo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=g0(n.substring(1),"/"):u=g0(n,e)):u=e,{pathname:u,search:aj(a),hash:ij(o)}}function g0(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function yp(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sj(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ng(s){let e=sj(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Eg(s,e,n,a=!1){let o;typeof s=="string"?o=eo(s):(o={...s},dt(!o.pathname||!o.pathname.includes("?"),yp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),yp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),yp("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let w=e.length-1;if(!a&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}p=w>=0?e[w]:"/"}let g=nj(o,p),x=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(x||v)&&(g.pathname+="/"),g}var Tr=s=>s.join("/").replace(/\/\/+/g,"/"),rj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),aj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ij=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,lj=class{constructor(s,e,n,a=!1){this.status=s,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oj(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function cj(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function N_(s,e){let n=s;if(typeof n!="string"||!tj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(w_)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=Cr(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{Zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E_=["POST","PUT","PATCH","DELETE"];new Set(E_);var uj=["GET",...E_];new Set(uj);var to=R.createContext(null);to.displayName="DataRouter";var Lh=R.createContext(null);Lh.displayName="DataRouterState";var dj=R.createContext(!1),T_=R.createContext({isTransitioning:!1});T_.displayName="ViewTransition";var hj=R.createContext(new Map);hj.displayName="Fetchers";var fj=R.createContext(null);fj.displayName="Await";var Ln=R.createContext(null);Ln.displayName="Navigation";var Wc=R.createContext(null);Wc.displayName="Location";var Es=R.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var Tg=R.createContext(null);Tg.displayName="RouteError";var j_="REACT_ROUTER_ERROR",mj="REDIRECT",pj="ROUTE_ERROR_RESPONSE";function gj(s){if(s.startsWith(`${j_}:${mj}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xj(s){if(s.startsWith(`${j_}:${pj}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lj(e.status,e.statusText,e.data)}catch{}}function yj(s,{relative:e}={}){dt(no(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=R.useContext(Ln),{hash:o,pathname:u,search:d}=Jc(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Tr([n,u])),a.createHref({pathname:p,search:d,hash:o})}function no(){return R.useContext(Wc)!=null}function ns(){return dt(no(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Wc).location}var S_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(s){R.useContext(Ln).static||R.useLayoutEffect(s)}function un(){let{isDataRoute:s}=R.useContext(Es);return s?Dj():vj()}function vj(){dt(no(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(to),{basename:e,navigator:n}=R.useContext(Ln),{matches:a}=R.useContext(Es),{pathname:o}=ns(),u=JSON.stringify(Ng(a)),d=R.useRef(!1);return A_(()=>{d.current=!0}),R.useCallback((g,x={})=>{if(Zn(d.current,S_),!d.current)return;if(typeof g=="number"){n.go(g);return}let v=Eg(g,JSON.parse(u),o,x.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Tr([e,v.pathname])),(x.replace?n.replace:n.push)(v,x.state,x)},[e,n,u,o,s])}R.createContext(null);function bj(){let{matches:s}=R.useContext(Es),e=s[s.length-1];return e?e.params:{}}function Jc(s,{relative:e}={}){let{matches:n}=R.useContext(Es),{pathname:a}=ns(),o=JSON.stringify(Ng(n));return R.useMemo(()=>Eg(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function _j(s,e){return C_(s,e)}function C_(s,e,n,a,o){dt(no(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(Ln),{matches:d}=R.useContext(Es),p=d[d.length-1],g=p?p.params:{},x=p?p.pathname:"/",v=p?p.pathnameBase:"/",w=p&&p.route;{let G=w&&w.path||"";I_(x,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=ns(),O;if(e){let G=typeof e=="string"?eo(e):e;dt(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),O=G}else O=A;let H=O.pathname||"/",M=H;if(v!=="/"){let G=v.replace(/^\//,"").split("/");M="/"+H.replace(/^\//,"").split("/").slice(G.length).join("/")}let D=v_(s,{pathname:M});Zn(w||D!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Zn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=jj(D&&D.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:Tr([v,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Tr([v,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),d,n,a,o);return e&&z?R.createElement(Wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},z):z}function wj(){let s=Ij(),e=oj(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,d)}var Nj=R.createElement(wj,null),R_=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=xj(s.digest);n&&(s=n)}let e=s!==void 0?R.createElement(Es.Provider,{value:this.props.routeContext},R.createElement(Tg.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?R.createElement(Ej,{error:s},e):e}};R_.contextType=dj;var vp=new WeakMap;function Ej({children:s,error:e}){let{basename:n}=R.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=gj(e.digest);if(a){let o=vp.get(e);if(o)throw o;let u=N_(a.location,n);if(w_&&!vp.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw vp.set(e,d),d}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Tj({routeContext:s,match:e,children:n}){let a=R.useContext(to);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Es.Provider,{value:s},n)}function jj(s,e=[],n=null,a=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,g=-1;if(n)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=v),w.route.id){let{loaderData:A,errors:O}=n,H=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!O||O[w.route.id]===void 0);if(w.route.lazy||H){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let x=n&&a?(v,w)=>{a(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cj(n.matches),errorInfo:w})}:void 0;return u.reduceRight((v,w,A)=>{let O,H=!1,M=null,D=null;n&&(O=d&&w.route.id?d[w.route.id]:void 0,M=w.route.errorElement||Nj,p&&(g<0&&A===0?(I_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,D=null):g===A&&(H=!0,D=w.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,A+1)),G=()=>{let L;return O?L=M:H?L=D:w.route.Component?L=R.createElement(w.route.Component,null):w.route.element?L=w.route.element:L=v,R.createElement(Tj,{match:w,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:L})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?R.createElement(R_,{location:n.location,revalidation:n.revalidation,component:M,error:O,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:x}):G()},null)}function jg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sj(s){let e=R.useContext(to);return dt(e,jg(s)),e}function Aj(s){let e=R.useContext(Lh);return dt(e,jg(s)),e}function Cj(s){let e=R.useContext(Es);return dt(e,jg(s)),e}function Sg(s){let e=Cj(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Rj(){return Sg("useRouteId")}function Ij(){let s=R.useContext(Tg),e=Aj("useRouteError"),n=Sg("useRouteError");return s!==void 0?s:e.errors?.[n]}function Dj(){let{router:s}=Sj("useNavigate"),e=Sg("useNavigate"),n=R.useRef(!1);return A_(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{Zn(n.current,S_),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var x0={};function I_(s,e,n){!e&&!x0[s]&&(x0[s]=!0,Zn(!1,n))}R.memo(kj);function kj({routes:s,future:e,state:n,onError:a}){return C_(s,void 0,n,a,e)}function Ag({to:s,replace:e,state:n,relative:a}){dt(no(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Ln);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(Es),{pathname:d}=ns(),p=un(),g=Eg(s,Ng(u),d,a==="path"),x=JSON.stringify(g);return R.useEffect(()=>{p(JSON.parse(x),{replace:e,state:n,relative:a})},[p,x,a,e,n]),null}function tn(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mj({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){dt(!no(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=eo(n));let{pathname:x="/",search:v="",hash:w="",state:A=null,key:O="default"}=n,H=R.useMemo(()=>{let M=Cr(x,p);return M==null?null:{location:{pathname:M,search:v,hash:w,state:A,key:O},navigationType:a}},[p,x,v,w,A,O,a]);return Zn(H!=null,`<Router basename="${p}"> is not able to match the URL "${x}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:R.createElement(Ln.Provider,{value:g},R.createElement(Wc.Provider,{children:e,value:H}))}function Oj({children:s,location:e}){return _j(zp(s),e)}function zp(s,e=[]){let n=[];return R.Children.forEach(s,(a,o)=>{if(!R.isValidElement(a))return;let u=[...e,o];if(a.type===R.Fragment){n.push.apply(n,zp(a.props.children,u));return}dt(a.type===tn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=zp(a.props.children,u)),n.push(d)}),n}var Qd="get",Xd="application/x-www-form-urlencoded";function Vh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Pj(s){return Vh(s)&&s.tagName.toLowerCase()==="button"}function Lj(s){return Vh(s)&&s.tagName.toLowerCase()==="form"}function Vj(s){return Vh(s)&&s.tagName.toLowerCase()==="input"}function Uj(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function zj(s,e){return s.button===0&&(!e||e==="_self")&&!Uj(s)}function Bp(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let a=s[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function Bj(s,e){let n=Bp(s);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var zd=null;function Fj(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(s){return s!=null&&!qj.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xd}"`),null):s}function Hj(s,e){let n,a,o,u,d;if(Lj(s)){let p=s.getAttribute("action");a=p?Cr(p,e):null,n=s.getAttribute("method")||Qd,o=bp(s.getAttribute("enctype"))||Xd,u=new FormData(s)}else if(Pj(s)||Vj(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(a=g?Cr(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Qd,o=bp(s.getAttribute("formenctype"))||bp(p.getAttribute("enctype"))||Xd,u=new FormData(p,s),!Fj()){let{name:x,type:v,value:w}=s;if(v==="image"){let A=x?`${x}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else x&&u.append(x,w)}}else{if(Vh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qd,a=null,o=Xd,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Gj(s,e,n,a){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Cr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function $j(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yj(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Kj(s,e,n){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await $j(u,n);return d.links?d.links():[]}return[]}));return Jj(a.flat(1).filter(Yj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y0(s,e,n,a,o,u){let d=(g,x)=>n[x]?g.route.id!==n[x].route.id:!0,p=(g,x)=>n[x].pathname!==g.pathname||n[x].route.path?.endsWith("*")&&n[x].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,x)=>d(g,x)||p(g,x)):u==="data"?e.filter((g,x)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(d(g,x)||p(g,x))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Qj(s,e,{includeHydrateFallback:n}={}){return Xj(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xj(s){return[...new Set(s)]}function Wj(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function Jj(s,e){let n=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(Wj(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function D_(){let s=R.useContext(to);return Cg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Zj(){let s=R.useContext(Lh);return Cg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rg=R.createContext(void 0);Rg.displayName="FrameworkContext";function k_(){let s=R.useContext(Rg);return Cg(s,"You must render this element inside a <HydratedRouter> element"),s}function eS(s,e){let n=R.useContext(Rg),[a,o]=R.useState(!1),[u,d]=R.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:x,onMouseLeave:v,onTouchStart:w}=e,A=R.useRef(null);R.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let M=z=>{z.forEach(G=>{d(G.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return A.current&&D.observe(A.current),()=>{D.disconnect()}}},[s]),R.useEffect(()=>{if(a){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[a]);let O=()=>{o(!0)},H=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:vc(p,O),onBlur:vc(g,H),onMouseEnter:vc(x,O),onMouseLeave:vc(v,H),onTouchStart:vc(w,O)}]:[!1,A,{}]}function vc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function tS({page:s,...e}){let{router:n}=D_(),a=R.useMemo(()=>v_(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?R.createElement(sS,{page:s,matches:a,...e}):null}function nS(s){let{manifest:e,routeModules:n}=k_(),[a,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return Kj(s,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,e,n]),a}function sS({page:s,matches:e,...n}){let a=ns(),{future:o,manifest:u,routeModules:d}=k_(),{basename:p}=D_(),{loaderData:g,matches:x}=Zj(),v=R.useMemo(()=>y0(s,e,x,u,a,"data"),[s,e,x,u,a]),w=R.useMemo(()=>y0(s,e,x,u,a,"assets"),[s,e,x,u,a]),A=R.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let M=new Set,D=!1;if(e.forEach(G=>{let L=u.routes[G.route.id];!L||!L.hasLoader||(!v.some(ae=>ae.route.id===G.route.id)&&G.route.id in g&&d[G.route.id]?.shouldRevalidate||L.hasClientLoader?D=!0:M.add(G.route.id))}),M.size===0)return[];let z=Gj(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return D&&M.size>0&&z.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,a,u,v,e,s,d]),O=R.useMemo(()=>Qj(w,u),[w,u]),H=nS(w);return R.createElement(R.Fragment,null,A.map(M=>R.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),O.map(M=>R.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),H.map(({key:M,link:D})=>R.createElement("link",{key:M,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function rS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aS&&(window.__reactRouterVersion="7.13.0")}catch{}function iS({basename:s,children:e,unstable_useTransitions:n,window:a}){let o=R.useRef();o.current==null&&(o.current=VT({window:a,v5Compat:!0}));let u=o.current,[d,p]=R.useState({action:u.action,location:u.location}),g=R.useCallback(x=>{n===!1?p(x):R.startTransition(()=>p(x))},[n]);return R.useLayoutEffect(()=>u.listen(g),[u,g]),R.createElement(Mj,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=R.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:p,target:g,to:x,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A,...O},H){let{basename:M,unstable_useTransitions:D}=R.useContext(Ln),z=typeof x=="string"&&M_.test(x),G=N_(x,M);x=G.to;let L=yj(x,{relative:o}),[ae,ie,oe]=eS(a,O),S=uS(x,{replace:d,state:p,target:g,preventScrollReset:v,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:D});function T(E){e&&e(E),E.defaultPrevented||S(E)}let j=R.createElement("a",{...O,...oe,href:G.absoluteURL||L,onClick:G.isExternal||u?e:T,ref:rS(H,ie),target:g,"data-discover":!z&&n==="render"?"true":void 0});return ae&&!z?R.createElement(R.Fragment,null,j,R.createElement(tS,{page:L})):j});Aa.displayName="Link";var lS=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:p,children:g,...x},v){let w=Jc(d,{relative:x.relative}),A=ns(),O=R.useContext(Lh),{navigator:H,basename:M}=R.useContext(Ln),D=O!=null&&gS(w)&&p===!0,z=H.encodeLocation?H.encodeLocation(w).pathname:w.pathname,G=A.pathname,L=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(G=G.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&M&&(L=Cr(L,M)||L);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ie=G===z||!o&&G.startsWith(z)&&G.charAt(ae)==="/",oe=L!=null&&(L===z||!o&&L.startsWith(z)&&L.charAt(z.length)==="/"),S={isActive:ie,isPending:oe,isTransitioning:D},T=ie?e:void 0,j;typeof a=="function"?j=a(S):j=[a,ie?"active":null,oe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let E=typeof u=="function"?u(S):u;return R.createElement(Aa,{...x,"aria-current":T,className:j,ref:v,style:E,to:d,viewTransition:p},typeof g=="function"?g(S):g)});lS.displayName="NavLink";var oS=R.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Qd,action:p,onSubmit:g,relative:x,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A,...O},H)=>{let{unstable_useTransitions:M}=R.useContext(Ln),D=mS(),z=pS(p,{relative:x}),G=d.toLowerCase()==="get"?"get":"post",L=typeof p=="string"&&M_.test(p),ae=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let oe=ie.nativeEvent.submitter,S=oe?.getAttribute("formmethod")||d,T=()=>D(oe||ie.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:o,state:u,relative:x,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A});M&&n!==!1?R.startTransition(()=>T()):T()};return R.createElement("form",{ref:H,method:G,action:z,onSubmit:a?g:ae,...O,"data-discover":!L&&s==="render"?"true":void 0})});oS.displayName="Form";function cS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O_(s){let e=R.useContext(to);return dt(e,cS(s)),e}function uS(s,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let x=un(),v=ns(),w=Jc(s,{relative:u});return R.useCallback(A=>{if(zj(A,e)){A.preventDefault();let O=n!==void 0?n:Lc(v)===Lc(w),H=()=>x(s,{replace:O,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?R.startTransition(()=>H()):H()}},[v,x,w,n,a,e,s,o,u,d,p,g])}function dS(s){Zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(Bp(s)),n=R.useRef(!1),a=ns(),o=R.useMemo(()=>Bj(a.search,n.current?null:e.current),[a.search]),u=un(),d=R.useCallback((p,g)=>{const x=Bp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+x,g)},[u,o]);return[o,d]}var hS=0,fS=()=>`__${String(++hS)}__`;function mS(){let{router:s}=O_("useSubmit"),{basename:e}=R.useContext(Ln),n=Rj(),a=s.fetch,o=s.navigate;return R.useCallback(async(u,d={})=>{let{action:p,method:g,encType:x,formData:v,body:w}=Hj(u,e);if(d.navigate===!1){let A=d.fetcherKey||fS();await a(A,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:w,formMethod:d.method||g,formEncType:d.encType||x,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:w,formMethod:d.method||g,formEncType:d.encType||x,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,e,n])}function pS(s,{relative:e}={}){let{basename:n}=R.useContext(Ln),a=R.useContext(Es);dt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Jc(s||".",{relative:e})},d=ns();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(v=>v==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Tr([n,u.pathname])),Lc(u)}function gS(s,{relative:e}={}){let n=R.useContext(T_);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=O_("useViewTransitionState"),o=Jc(s,{relative:e});if(!n.isTransitioning)return!1;let u=Cr(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Cr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ch(o.pathname,d)!=null||ch(o.pathname,u)!=null}const xS=()=>{};var v0={};const P_=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],d=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,x=g?s[o+2]:0,v=u>>2,w=(u&3)<<4|p>>4;let A=(p&15)<<2|x>>6,O=x&63;g||(O=64,d||(A=64)),a.push(n[v],n[w],n[A],n[O])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(P_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):yS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const x=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||x==null||w==null)throw new vS;const A=u<<2|p>>4;if(a.push(A),x!==64){const O=p<<4&240|x>>2;if(a.push(O),w!==64){const H=x<<6&192|w;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bS=function(s){const e=P_(s);return L_.encodeByteArray(e,!0)},uh=function(s){return bS(s).replace(/\./g,"")},V_=function(s){try{return L_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wS=()=>_S().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof v0>"u")return;const s=v0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ES=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&V_(s[1]);return e&&JSON.parse(e)},Uh=()=>{try{return xS()||wS()||NS()||ES()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U_=s=>Uh()?.emulatorHosts?.[s],z_=s=>{const e=U_(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},B_=()=>Uh()?.config,F_=s=>Uh()?.[`_${s}`];class TS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Pi(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ig(s){return(await fetch(s,{credentials:"include"})).ok}function q_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(n)),uh(JSON.stringify(d)),""].join(".")}const Cc={};function jS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?s.emulator.push(e):s.prod.push(e);return s}function SS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let b0=!1;function Dg(s,e){if(typeof window>"u"||typeof document>"u"||!Pi(window.location.host)||Cc[s]===e||Cc[s]||b0)return;Cc[s]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=jS().prod.length>0;function d(){const A=document.getElementById(a);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function x(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{b0=!0,d()},A}function v(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=SS(a),O=n("text"),H=document.getElementById(O)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),z=n("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const L=A.element;p(L),v(D,M);const ae=x();g(G,z),L.append(G,H,D,ae),document.body.appendChild(L)}u?(H.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function CS(){const s=Uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H_(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G_(){try{return typeof indexedDB=="object"}catch{return!1}}function $_(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function MS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const OS="FirebaseError";class ss extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=OS,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li.prototype.create)}}class Li{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?PS(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ss(o,p,a)}}function PS(s,e){return s.replace(LS,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const LS=/\{\$([^}]+)}/g;function VS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ca(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=s[o],d=e[o];if(_0(u)&&_0(d)){if(!Ca(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function _0(s){return s!==null&&typeof s=="object"}function Zc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function US(s,e){const n=new zS(s,e);return n.subscribe.bind(n)}class zS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");BS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function _p(){}const FS=1e3,qS=2,HS=14400*1e3,GS=.5;function w0(s,e=FS,n=qS){const a=e*Math.pow(n,s),o=Math.round(GS*a*(Math.random()-.5)*2);return Math.min(HS,a+o)}function ht(s){return s&&s._delegate?s._delegate:s}class es{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vi="[DEFAULT]";class $S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new TS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(s){return s===vi?void 0:s}function KS(s){return s.instantiationMode==="EAGER"}class QS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const XS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},WS=Le.INFO,JS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ZS=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=JS[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zh{constructor(e){this.name=e,this._logLevel=WS,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const eA=(s,e)=>e.some(n=>s instanceof n);let N0,E0;function tA(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y_=new WeakMap,Fp=new WeakMap,K_=new WeakMap,wp=new WeakMap,kg=new WeakMap;function sA(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Ea(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Y_.set(n,s)}).catch(()=>{}),kg.set(e,s),e}function rA(s){if(Fp.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Fp.set(s,e)}let qp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Fp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||K_.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function aA(s){qp=s(qp)}function iA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Np(this),e,...n);return K_.set(a,e.sort?e.sort():[e]),Ea(a)}:nA().includes(s)?function(...e){return s.apply(Np(this),e),Ea(Y_.get(this))}:function(...e){return Ea(s.apply(Np(this),e))}}function lA(s){return typeof s=="function"?iA(s):(s instanceof IDBTransaction&&rA(s),eA(s,tA())?new Proxy(s,qp):s)}function Ea(s){if(s instanceof IDBRequest)return sA(s);if(wp.has(s))return wp.get(s);const e=lA(s);return e!==s&&(wp.set(s,e),kg.set(e,s)),e}const Np=s=>kg.get(s);function Q_(s,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=Ea(d);return a&&d.addEventListener("upgradeneeded",g=>{a(Ea(d.result),g.oldVersion,g.newVersion,Ea(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}const oA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Ep=new Map;function T0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=cA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||oA.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let x=g.store;return a&&(x=x.index(p.shift())),(await Promise.all([x[n](...p),o&&g.done]))[0]};return Ep.set(e,u),u}aA(s=>({...s,get:(e,n,a)=>T0(e,n)||s.get(e,n,a),has:(e,n)=>!!T0(e,n)||s.has(e,n)}));class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function dA(s){return s.getComponent()?.type==="VERSION"}const Hp="@firebase/app",j0="0.14.7";const Rr=new zh("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",mA="@firebase/analytics",pA="@firebase/app-check-compat",gA="@firebase/app-check",xA="@firebase/auth",yA="@firebase/auth-compat",vA="@firebase/database",bA="@firebase/data-connect",_A="@firebase/database-compat",wA="@firebase/functions",NA="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",jA="@firebase/messaging",SA="@firebase/messaging-compat",AA="@firebase/performance",CA="@firebase/performance-compat",RA="@firebase/remote-config",IA="@firebase/remote-config-compat",DA="@firebase/storage",kA="@firebase/storage-compat",MA="@firebase/firestore",OA="@firebase/ai",PA="@firebase/firestore-compat",LA="firebase",VA="12.8.0";const Gp="[DEFAULT]",UA={[Hp]:"fire-core",[hA]:"fire-core-compat",[mA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[pA]:"fire-app-check-compat",[xA]:"fire-auth",[yA]:"fire-auth-compat",[vA]:"fire-rtdb",[bA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[wA]:"fire-fn",[NA]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[jA]:"fire-fcm",[SA]:"fire-fcm-compat",[AA]:"fire-perf",[CA]:"fire-perf-compat",[RA]:"fire-rc",[IA]:"fire-rc-compat",[DA]:"fire-gcs",[kA]:"fire-gcs-compat",[MA]:"fire-fst",[PA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};const dh=new Map,zA=new Map,$p=new Map;function S0(s,e){try{s.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ws(s){const e=s.name;if($p.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,s);for(const n of dh.values())S0(n,s);for(const n of zA.values())S0(n,s);return!0}function La(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function wn(s){return s==null?!1:s.settings!==void 0}const BA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Li("app","Firebase",BA);class FA{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}const Vi=VA;function X_(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Gp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ta.create("bad-app-name",{appName:String(o)});if(n||(n=B_()),!n)throw Ta.create("no-options");const u=dh.get(o);if(u){if(Ca(n,u.options)&&Ca(a,u.config))return u;throw Ta.create("duplicate-app",{appName:o})}const d=new QS(o);for(const g of $p.values())d.addComponent(g);const p=new FA(n,a,d);return dh.set(o,p),p}function Bh(s=Gp){const e=dh.get(s);if(!e&&s===Gp&&B_())return X_();if(!e)throw Ta.create("no-app",{appName:s});return e}function Tn(s,e,n){let a=UA[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(d.join(" "));return}ws(new es(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,Vc="firebase-heartbeat-store";let Tp=null;function W_(){return Tp||(Tp=Q_(qA,HA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ta.create("idb-open",{originalErrorMessage:s.message})})),Tp}async function GA(s){try{const n=(await W_()).transaction(Vc),a=await n.objectStore(Vc).get(J_(s));return await n.done,a}catch(e){if(e instanceof ss)Rr.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(n.message)}}}async function A0(s,e){try{const a=(await W_()).transaction(Vc,"readwrite");await a.objectStore(Vc).put(e,J_(s)),await a.done}catch(n){if(n instanceof ss)Rr.warn(n.message);else{const a=Ta.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(a.message)}}}function J_(s){return`${s.name}!${s.options.appId}`}const $A=1024,YA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>YA){const o=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C0(),{heartbeatsToSend:n,unsentEntries:a}=QA(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function C0(){return new Date().toISOString().substring(0,10)}function QA(s,e=$A){const n=[];let a=s.slice();for(const o of s){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),R0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G_()?$_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function R0(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function WA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function JA(s){ws(new es("platform-logger",e=>new uA(e),"PRIVATE")),ws(new es("heartbeat",e=>new KA(e),"PRIVATE")),Tn(Hp,j0,s),Tn(Hp,j0,"esm2020"),Tn("fire-js","")}JA("");var ZA="firebase",e4="12.8.0";Tn(ZA,e4,"app");const Z_="@firebase/installations",Mg="0.6.19";const ew=1e4,tw=`w:${Mg}`,nw="FIS_v2",t4="https://firebaseinstallations.googleapis.com/v1",n4=3600*1e3,s4="installations",r4="Installations";const a4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ji=new Li(s4,r4,a4);function sw(s){return s instanceof ss&&s.code.includes("request-failed")}function rw({projectId:s}){return`${t4}/projects/${s}/installations`}function aw(s){return{token:s.token,requestStatus:2,expiresIn:l4(s.expiresIn),creationTime:Date.now()}}async function iw(s,e){const a=(await e.json()).error;return ji.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function lw({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function i4(s,{refreshToken:e}){const n=lw(s);return n.append("Authorization",o4(e)),n}async function ow(s){const e=await s();return e.status>=500&&e.status<600?s():e}function l4(s){return Number(s.replace("s","000"))}function o4(s){return`${nw} ${s}`}async function c4({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const a=rw(s),o=lw(s),u=e.getImmediate({optional:!0});if(u){const x=await u.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const d={fid:n,authVersion:nw,appId:s.appId,sdkVersion:tw},p={method:"POST",headers:o,body:JSON.stringify(d)},g=await ow(()=>fetch(a,p));if(g.ok){const x=await g.json();return{fid:x.fid||n,registrationStatus:2,refreshToken:x.refreshToken,authToken:aw(x.authToken)}}else throw await iw("Create Installation",g)}function cw(s){return new Promise(e=>{setTimeout(e,s)})}function u4(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const d4=/^[cdef][\w-]{21}$/,Yp="";function h4(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=f4(s);return d4.test(n)?n:Yp}catch{return Yp}}function f4(s){return u4(s).substr(0,22)}function Fh(s){return`${s.appName}!${s.appId}`}const uw=new Map;function dw(s,e){const n=Fh(s);hw(n,e),m4(n,e)}function hw(s,e){const n=uw.get(s);if(n)for(const a of n)a(e)}function m4(s,e){const n=p4();n&&n.postMessage({key:s,fid:e}),g4()}let _i=null;function p4(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=s=>{hw(s.data.key,s.data.fid)}),_i}function g4(){uw.size===0&&_i&&(_i.close(),_i=null)}const x4="firebase-installations-database",y4=1,Si="firebase-installations-store";let jp=null;function Og(){return jp||(jp=Q_(x4,y4,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Si)}})),jp}async function hh(s,e){const n=Fh(s),o=(await Og()).transaction(Si,"readwrite"),u=o.objectStore(Si),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&dw(s,e.fid),e}async function fw(s){const e=Fh(s),a=(await Og()).transaction(Si,"readwrite");await a.objectStore(Si).delete(e),await a.done}async function qh(s,e){const n=Fh(s),o=(await Og()).transaction(Si,"readwrite"),u=o.objectStore(Si),d=await u.get(n),p=e(d);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!d||d.fid!==p.fid)&&dw(s,p.fid),p}async function Pg(s){let e;const n=await qh(s.appConfig,a=>{const o=v4(a),u=b4(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Yp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function v4(s){const e=s||{fid:h4(),registrationStatus:0};return mw(e)}function b4(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ji.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=_4(s,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:w4(s)}:{installationEntry:e}}async function _4(s,e){try{const n=await c4(s,e);return hh(s.appConfig,n)}catch(n){throw sw(n)&&n.customData.serverCode===409?await fw(s.appConfig):await hh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function w4(s){let e=await I0(s.appConfig);for(;e.registrationStatus===1;)await cw(100),e=await I0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Pg(s);return a||n}return e}function I0(s){return qh(s,e=>{if(!e)throw ji.create("installation-not-found");return mw(e)})}function mw(s){return N4(s)?{fid:s.fid,registrationStatus:0}:s}function N4(s){return s.registrationStatus===1&&s.registrationTime+ew<Date.now()}async function E4({appConfig:s,heartbeatServiceProvider:e},n){const a=T4(s,n),o=i4(s,n),u=e.getImmediate({optional:!0});if(u){const x=await u.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const d={installation:{sdkVersion:tw,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},g=await ow(()=>fetch(a,p));if(g.ok){const x=await g.json();return aw(x)}else throw await iw("Generate Auth Token",g)}function T4(s,{fid:e}){return`${rw(s)}/${e}/authTokens:generate`}async function Lg(s,e=!1){let n;const a=await qh(s.appConfig,u=>{if(!pw(u))throw ji.create("not-registered");const d=u.authToken;if(!e&&A4(d))return u;if(d.requestStatus===1)return n=j4(s,e),u;{if(!navigator.onLine)throw ji.create("app-offline");const p=R4(u);return n=S4(s,p),p}});return n?await n:a.authToken}async function j4(s,e){let n=await D0(s.appConfig);for(;n.authToken.requestStatus===1;)await cw(100),n=await D0(s.appConfig);const a=n.authToken;return a.requestStatus===0?Lg(s,e):a}function D0(s){return qh(s,e=>{if(!pw(e))throw ji.create("not-registered");const n=e.authToken;return I4(n)?{...e,authToken:{requestStatus:0}}:e})}async function S4(s,e){try{const n=await E4(s,e),a={...e,authToken:n};return await hh(s.appConfig,a),n}catch(n){if(sw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fw(s.appConfig);else{const a={...e,authToken:{requestStatus:0}};await hh(s.appConfig,a)}throw n}}function pw(s){return s!==void 0&&s.registrationStatus===2}function A4(s){return s.requestStatus===2&&!C4(s)}function C4(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+n4}function R4(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function I4(s){return s.requestStatus===1&&s.requestTime+ew<Date.now()}async function D4(s){const e=s,{installationEntry:n,registrationPromise:a}=await Pg(e);return a?a.catch(console.error):Lg(e).catch(console.error),n.fid}async function k4(s,e=!1){const n=s;return await M4(n),(await Lg(n,e)).token}async function M4(s){const{registrationPromise:e}=await Pg(s);e&&await e}function O4(s){if(!s||!s.options)throw Sp("App Configuration");if(!s.name)throw Sp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw Sp(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Sp(s){return ji.create("missing-app-config-values",{valueName:s})}const gw="installations",P4="installations-internal",L4=s=>{const e=s.getProvider("app").getImmediate(),n=O4(e),a=La(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},V4=s=>{const e=s.getProvider("app").getImmediate(),n=La(e,gw).getImmediate();return{getId:()=>D4(n),getToken:o=>k4(n,o)}};function U4(){ws(new es(gw,L4,"PUBLIC")),ws(new es(P4,V4,"PRIVATE"))}U4();Tn(Z_,Mg);Tn(Z_,Mg,"esm2020");const fh="analytics",z4="firebase_id",B4="origin",F4=60*1e3,q4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vg="https://www.googletagmanager.com/gtag/js";const cn=new zh("@firebase/analytics");const H4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new Li("analytics","Analytics",H4);function G4(s){if(!s.startsWith(Vg)){const e=Pn.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(e.message),""}return s}function xw(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function $4(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function Y4(s,e){const n=$4("firebase-js-sdk-policy",{createScriptURL:G4}),a=document.createElement("script"),o=`${Vg}?l=${s}&id=${e}`;a.src=n?n?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function K4(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function Q4(s,e,n,a,o,u){const d=a[o];try{if(d)await e[d];else{const g=(await xw(n)).find(x=>x.measurementId===o);g&&await e[g.appId]}}catch(p){cn.error(p)}s("config",o,u)}async function X4(s,e,n,a,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await xw(n);for(const g of d){const x=p.find(w=>w.measurementId===g),v=x&&e[x.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",a,o||{})}catch(u){cn.error(u)}}function W4(s,e,n,a){async function o(u,...d){try{if(u==="event"){const[p,g]=d;await X4(s,e,n,p,g)}else if(u==="config"){const[p,g]=d;await Q4(s,e,n,a,p,g)}else if(u==="consent"){const[p,g]=d;s("consent",p,g)}else if(u==="get"){const[p,g,x]=d;s("get",p,g,x)}else if(u==="set"){const[p]=d;s("set",p)}else s(u,...d)}catch(p){cn.error(p)}}return o}function J4(s,e,n,a,o){let u=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=W4(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Z4(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Vg)&&n.src.includes(s))return n;return null}const eC=30,tC=1e3;class nC{constructor(e={},n=tC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yw=new nC;function sC(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function rC(s){const{appId:e,apiKey:n}=s,a={method:"GET",headers:sC(n)},o=q4.replace("{app-id}",e),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();p.error?.message&&(d=p.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function aC(s,e=yw,n){const{appId:a,apiKey:o,measurementId:u}=s.options;if(!a)throw Pn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Pn.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new oC;return setTimeout(async()=>{p.abort()},F4),vw({appId:a,apiKey:o,measurementId:u},d,p,e)}async function vw(s,{throttleEndTimeMillis:e,backoffCount:n},a,o=yw){const{appId:u,measurementId:d}=s;try{await iC(a,e)}catch(p){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{const p=await rC(s);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!lC(g)){if(o.deleteThrottleMetadata(u),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw p}const x=Number(g?.customData?.httpStatus)===503?w0(n,o.intervalMillis,eC):w0(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return o.setThrottleMetadata(u,v),cn.debug(`Calling attemptFetch again in ${x} millis`),vw(s,v,a,o)}}function iC(s,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),a(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lC(s){if(!(s instanceof ss)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class oC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cC(s,e,n,a,o){if(o&&o.global){s("event",n,a);return}else{const u=await e,d={...a,send_to:u};s("event",n,d)}}async function uC(s,e,n,a){if(a&&a.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function dC(){if(G_())try{await $_()}catch(s){return cn.warn(Pn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hC(s,e,n,a,o,u,d){const p=aC(s);p.then(A=>{n[A.measurementId]=A.appId,s.options.measurementId&&A.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>cn.error(A)),e.push(p);const g=dC().then(A=>{if(A)return a.getId()}),[x,v]=await Promise.all([p,g]);Z4(u)||Y4(u,x.measurementId),o("js",new Date);const w=d?.config??{};return w[B4]="firebase",w.update=!0,v!=null&&(w[z4]=v),o("config",x.measurementId,w),x.measurementId}class fC{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},k0=[];const M0={};let Ap="dataLayer",mC="gtag",O0,Ug,P0=!1;function pC(){const s=[];if(H_()&&s.push("This is a browser extension environment."),MS()||s.push("Cookies are not available."),s.length>0){const e=s.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Pn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function gC(s,e,n){pC();const a=s.options.appId;if(!a)throw Pn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(Ul[a]!=null)throw Pn.create("already-exists",{id:a});if(!P0){K4(Ap);const{wrappedGtag:u,gtagCore:d}=J4(Ul,k0,M0,Ap,mC);Ug=u,O0=d,P0=!0}return Ul[a]=hC(s,k0,M0,e,O0,Ap,n),new fC(s)}function xC(s=Bh()){s=ht(s);const e=La(s,fh);return e.isInitialized()?e.getImmediate():yC(s)}function yC(s,e={}){const n=La(s,fh);if(n.isInitialized()){const o=n.getImmediate();if(Ca(e,n.getOptions()))return o;throw Pn.create("already-initialized")}return n.initialize({options:e})}function vC(s,e,n){s=ht(s),uC(Ug,Ul[s.app.options.appId],e,n).catch(a=>cn.error(a))}function bC(s,e,n,a){s=ht(s),cC(Ug,Ul[s.app.options.appId],e,n,a).catch(o=>cn.error(o))}const L0="@firebase/analytics",V0="0.10.19";function _C(){ws(new es(fh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return gC(a,o,n)},"PUBLIC")),ws(new es("analytics-internal",s,"PRIVATE")),Tn(L0,V0),Tn(L0,V0,"esm2020");function s(e){try{const n=e.getProvider(fh).getImmediate();return{logEvent:(a,o,u)=>bC(n,a,o,u),setUserProperties:(a,o)=>vC(n,a,o)}}catch(n){throw Pn.create("interop-component-reg-failed",{reason:n})}}}_C();function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wC=bw,_w=new Li("auth","Firebase",bw());const mh=new zh("@firebase/auth");function NC(s,...e){mh.logLevel<=Le.WARN&&mh.warn(`Auth (${Vi}): ${s}`,...e)}function Wd(s,...e){mh.logLevel<=Le.ERROR&&mh.error(`Auth (${Vi}): ${s}`,...e)}function ts(s,...e){throw Bg(s,...e)}function bs(s,...e){return Bg(s,...e)}function zg(s,e,n){const a={...wC(),[e]:n};return new Li("auth","Firebase",a).create(e,{appName:s.name})}function jr(s){return zg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EC(s,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&ts(s,"argument-error"),zg(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return _w.create(s,...e)}function be(s,e,...n){if(!s)throw Bg(e,...n)}function Nr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Wd(e),new Error(e)}function Ir(s,e){s||Nr(e)}function Kp(){return typeof self<"u"&&self.location?.href||""}function TC(){return U0()==="http:"||U0()==="https:"}function U0(){return typeof self<"u"&&self.location?.protocol||null}function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TC()||H_()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=AS()||IS()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fg(s,e){Ir(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ww{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RC=new eu(3e4,6e4);function Or(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function tr(s,e,n,a,o={}){return Nw(s,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=Zc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const x={method:e,headers:g,...u};return RS()||(x.referrerPolicy="no-referrer"),s.emulatorConfig&&Pi(s.emulatorConfig.host)&&(x.credentials="include"),ww.fetch()(await Ew(s,s.config.apiHost,n,p),x)})}async function Nw(s,e,n){s._canInitEmulator=!1;const a={...AC,...e};try{const o=new DC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Bd(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,x]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Bd(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Bd(s,"user-disabled",d);const v=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw zg(s,v,x);ts(s,v)}}catch(o){if(o instanceof ss)throw o;ts(s,"network-request-failed",{message:String(o)})}}async function tu(s,e,n,a,o={}){const u=await tr(s,e,n,a,o);return"mfaPendingCredential"in u&&ts(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ew(s,e,n,a){const o=`${e}${n}?${a}`,u=s,d=u.config.emulator?Fg(s.config,o):`${s.config.apiScheme}://${o}`;return CC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function IC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(bs(this.auth,"network-request-failed")),RC.get())})}}function Bd(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=bs(s,e,a);return o.customData._tokenResponse=n,o}function z0(s){return s!==void 0&&s.enterprise!==void 0}class kC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(s,e){return tr(s,"GET","/v2/recaptchaConfig",Or(s,e))}async function OC(s,e){return tr(s,"POST","/v1/accounts:delete",e)}async function ph(s,e){return tr(s,"POST","/v1/accounts:lookup",e)}function Rc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PC(s,e=!1){const n=ht(s),a=await n.getIdToken(e),o=qg(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:Rc(Cp(o.auth_time)),issuedAtTime:Rc(Cp(o.iat)),expirationTime:Rc(Cp(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cp(s){return Number(s)*1e3}function qg(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const o=V_(n);return o?JSON.parse(o):(Wd("Failed to decode base64 JWT payload"),null)}catch(o){return Wd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B0(s){const e=qg(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ss&&LC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function LC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class VC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(s){const e=s.auth,n=await s.getIdToken(),a=await Gl(s,ph(e,{idToken:n}));be(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?Tw(o.providerUserInfo):[],d=zC(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,x=p?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(s,v)}async function UC(s){const e=ht(s);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zC(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Tw(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BC(s,e){const n=await Nw(s,{},async()=>{const a=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await Ew(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&Pi(s.emulatorConfig.host)&&(g.credentials="include"),ww.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FC(s,e){return tr(s,"POST","/v2/accounts:revokeToken",Or(s,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=B0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await BC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new zl;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function xa(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ys{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PC(this,e)}reload(){return UC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await Gl(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,x=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:O,providerData:H,stsTokenManager:M}=n;be(w&&M,e,"internal-error");const D=zl.fromJSON(this.name,M);be(typeof w=="string",e,"internal-error"),xa(a,e.name),xa(o,e.name),be(typeof A=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),xa(u,e.name),xa(d,e.name),xa(p,e.name),xa(g,e.name),xa(x,e.name),xa(v,e.name);const z=new ys({uid:w,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:O,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:D,createdAt:x,lastLoginAt:v});return H&&Array.isArray(H)&&(z.providerData=H.map(G=>({...G}))),g&&(z._redirectEventId=g),z}static async _fromIdTokenResponse(e,n,a=!1){const o=new zl;o.updateFromServerResponse(n);const u=new ys({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await gh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Tw(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new zl;p.updateFromIdToken(a);const g=new ys({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,x),g}}const F0=new Map;function Er(s){Ir(s instanceof Function,"Expected a class definition");let e=F0.get(s);return e?(Ir(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,F0.set(s,e),e)}class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jw.type="NONE";const q0=jw;function Jd(s,e,n){return`firebase:${s}:${e}:${n}`}class Bl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Jd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,e):null}return ys._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Bl(Er(q0),e,a);const o=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let u=o[0]||Er(q0);const d=Jd(a,e.config.apiKey,e.name);let p=null;for(const x of n)try{const v=await x._get(d);if(v){let w;if(typeof v=="string"){const A=await ph(e,{idToken:v}).catch(()=>{});if(!A)break;w=await ys._fromGetAccountInfoResponse(e,A,v)}else w=ys._fromJSON(e,v);x!==u&&(p=w),u=x;break}}catch{}const g=o.filter(x=>x._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Bl(u,e,a):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async x=>{if(x!==u)try{await x._remove(d)}catch{}})),new Bl(u,e,a))}}function H0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dw(e))return"Blackberry";if(kw(e))return"Webos";if(Aw(e))return"Safari";if((e.includes("chrome/")||Cw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function Sw(s=rn()){return/firefox\//i.test(s)}function Aw(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cw(s=rn()){return/crios\//i.test(s)}function Rw(s=rn()){return/iemobile/i.test(s)}function Iw(s=rn()){return/android/i.test(s)}function Dw(s=rn()){return/blackberry/i.test(s)}function kw(s=rn()){return/webos/i.test(s)}function Hg(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function qC(s=rn()){return Hg(s)&&!!window.navigator?.standalone}function HC(){return DS()&&document.documentMode===10}function Mw(s=rn()){return Hg(s)||Iw(s)||kw(s)||Dw(s)||/windows phone/i.test(s)||Rw(s)}function Ow(s,e=[]){let n;switch(s){case"Browser":n=H0(rn());break;case"Worker":n=`${H0(rn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${a}`}class GC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $C(s,e={}){return tr(s,"GET","/v2/passwordPolicy",Or(s,e))}const YC=6;class KC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class QC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G0(this),this.idTokenSubscription=new G0(this),this.beforeStateQueue=new GC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),a=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(jr(this));const n=e?ht(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $C(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Li("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await FC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pr(s){return ht(s)}class G0{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XC(s){Hh=s}function Pw(s){return Hh.loadJS(s)}function WC(){return Hh.recaptchaEnterpriseScript}function JC(){return Hh.gapiScript}function ZC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class eR{constructor(){this.enterprise=new tR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nR="recaptcha-enterprise",Lw="NO_RECAPTCHA";class sR{constructor(e){this.type=nR,this.auth=Pr(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{MC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const x=new kC(g);return u.tenantId==null?u._agentRecaptchaConfig=x:u._tenantRecaptchaConfigs[u.tenantId]=x,d(x.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;z0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(x=>{d(x)}).catch(()=>{d(Lw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(p=>{if(!n&&z0(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=WC();g.length!==0&&(g+=p),Pw(g).then(()=>{o(p,u,d)}).catch(x=>{d(x)})}}).catch(p=>{d(p)})})}}async function $0(s,e,n,a=!1,o=!1){const u=new sR(s);let d;if(o)d=Lw;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,x=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:x,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function xh(s,e,n,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $0(s,e,n,n==="getOobCode");return a(s,u)}else return a(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $0(s,e,n,n==="getOobCode");return a(s,d)}else return Promise.reject(u)})}function rR(s,e){const n=La(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ca(u,e??{}))return o;ts(o,"already-initialized")}return n.initialize({options:e})}function aR(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Er);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function iR(s,e,n){const a=Pr(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Vw(e),{host:d,port:p}=lR(e),g=p===null?"":`:${p}`,x={url:`${u}//${d}${g}/`},v=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Ca(x,a.config.emulator)&&Ca(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=x,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Pi(d)?(Ig(`${u}//${d}${g}`),Dg("Auth",!0)):oR()}function Vw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lR(s){const e=Vw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Y0(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Y0(d)}}}function Y0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Gg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function cR(s,e){return tr(s,"POST","/v1/accounts:signUp",e)}async function uR(s,e){return tu(s,"POST","/v1/accounts:signInWithPassword",Or(s,e))}async function dR(s,e){return tr(s,"POST","/v1/accounts:sendOobCode",Or(s,e))}async function hR(s,e){return dR(s,e)}async function fR(s,e){return tu(s,"POST","/v1/accounts:signInWithEmailLink",Or(s,e))}async function mR(s,e){return tu(s,"POST","/v1/accounts:signInWithEmailLink",Or(s,e))}class Uc extends Gg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Uc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xh(e,n,"signInWithPassword",uR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xh(e,a,"signUpPassword",cR);case"emailLink":return mR(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fl(s,e){return tu(s,"POST","/v1/accounts:signInWithIdp",Or(s,e))}const pR="http://localhost";class Ai extends Gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new Ai(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Fl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}function gR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xR(s){const e=wc(Nc(s)).link,n=e?wc(Nc(e)).deep_link_id:null,a=wc(Nc(s)).deep_link_id;return(a?wc(Nc(a)).link:null)||a||n||e||s}class $g{constructor(e){const n=wc(Nc(e)),a=n.apiKey??null,o=n.oobCode??null,u=gR(n.mode??null);be(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xR(e);try{return new $g(n)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=$g.parseLink(n);return be(a,"argument-error"),Uc._fromEmailAndCode(e,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class va extends nu{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";class wr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return wr.credential(n,a)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class ba extends nu{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";class _a extends nu{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return _a.credential(n,a)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";async function yR(s,e){return tu(s,"POST","/v1/accounts:signUp",Or(s,e))}class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await ys._fromIdTokenResponse(e,a,o),d=K0(a);return new Ci({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=K0(a);return new Ci({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function K0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class yh extends ss{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new yh(e,n,a,o)}}function Uw(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(s,u,e,a):u})}async function vR(s,e,n=!1){const a=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ci._forOperation(s,"link",a)}async function bR(s,e,n=!1){const{auth:a}=s;if(wn(a.app))return Promise.reject(jr(a));const o="reauthenticate";try{const u=await Gl(s,Uw(a,o,e,s),n);be(u.idToken,a,"internal-error");const d=qg(u.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),Ci._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ts(a,"user-mismatch"),u}}async function zw(s,e,n=!1){if(wn(s.app))return Promise.reject(jr(s));const a="signIn",o=await Uw(s,a,e),u=await Ci._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(u.user),u}async function _R(s,e){return zw(Pr(s),e)}async function Bw(s){const e=Pr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wR(s,e,n){const a=Pr(s);await xh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hR)}async function NR(s,e,n){if(wn(s.app))return Promise.reject(jr(s));const a=Pr(s),d=await xh(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Bw(s),g}),p=await Ci._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function ER(s,e,n){return wn(s.app)?Promise.reject(jr(s)):_R(ht(s),so.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Bw(s),a})}async function TR(s,e){return tr(s,"POST","/v1/accounts:update",e)}async function jR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=ht(s),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Gl(a,TR(a.auth,u));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function SR(s,e,n,a){return ht(s).onIdTokenChanged(e,n,a)}function AR(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function CR(s,e,n,a){return ht(s).onAuthStateChanged(e,n,a)}function RR(s){return ht(s).signOut()}const vh="__sak";class Fw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IR=1e3,DR=10;class qw extends Fw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);HC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qw.type="LOCAL";const kR=qw;class Hw extends Fw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hw.type="SESSION";const Gw=Hw;function MR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async x=>x(n.origin,u)),g=await MR(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Kg(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const x=Kg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===x)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:x,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ks(){return window}function PR(s){Ks().location.href=s}function $w(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VR(){return navigator?.serviceWorker?.controller||null}function UR(){return $w()?self:null}const Yw="firebaseLocalStorageDb",zR=1,bh="firebaseLocalStorage",Kw="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(s,e){return s.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function BR(){const s=indexedDB.deleteDatabase(Yw);return new su(s).toPromise()}function Xp(){const s=indexedDB.open(Yw,zR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(bh,{keyPath:Kw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(bh)?e(a):(a.close(),await BR(),e(await Xp()))})})}async function Q0(s,e,n){const a=$h(s,!0).put({[Kw]:e,value:n});return new su(a).toPromise()}async function FR(s,e){const n=$h(s,!1).get(e),a=await new su(n).toPromise();return a===void 0?null:a.value}function X0(s,e){const n=$h(s,!0).delete(e);return new su(n).toPromise()}const qR=800,HR=3;class Qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>HR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Q0(e,vh,"1"),await X0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Q0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>FR(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qw.type="LOCAL";const GR=Qw;new eu(3e4,6e4);function Xw(s,e){return e?Er(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Qg extends Gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $R(s){return zw(s.auth,new Qg(s),s.bypassAuthState)}function YR(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),bR(n,new Qg(s),s.bypassAuthState)}async function KR(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),vR(n,new Qg(s),s.bypassAuthState)}class Ww{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return KR;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:ts(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QR=new eu(2e3,1e4);async function XR(s,e,n){if(wn(s.app))return Promise.reject(bs(s,"operation-not-supported-in-this-environment"));const a=Pr(s);EC(s,e,Yg);const o=Xw(a,n);return new wi(a,"signInViaPopup",e,o).executeNotNull()}class wi extends Ww{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QR.get())};e()}}wi.currentPopupAction=null;const WR="pendingRedirect",Zd=new Map;class JR extends Ww{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const a=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const n=nI(e),a=tI(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function eI(s,e){Zd.set(s._key(),e)}function tI(s){return Er(s._redirectPersistence)}function nI(s){return Jd(WR,s.config.apiKey,s.name)}async function sI(s,e,n=!1){if(wn(s.app))return Promise.reject(jr(s));const a=Pr(s),o=Xw(a,e),d=await new JR(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const rI=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Jw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rI&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(e))}saveEventToCache(e){this.cachedEventUids.add(W0(e)),this.lastProcessedEventTime=Date.now()}}function W0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Jw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function iI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jw(s);default:return!1}}async function lI(s,e={}){return tr(s,"GET","/v1/projects",e)}const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cI=/^https?/;async function uI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lI(s);for(const n of e)try{if(dI(n))return}catch{}ts(s,"unauthorized-domain")}function dI(s){const e=Kp(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!cI.test(n))return!1;if(oI.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const hI=new eu(3e4,6e4);function J0(){const s=Ks().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fI(s){return new Promise((e,n)=>{function a(){J0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J0(),n(bs(s,"network-request-failed"))},timeout:hI.get()})}if(Ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ks().gapi?.load)a();else{const o=ZC("iframefcb");return Ks()[o]=()=>{gapi.load?a():n(bs(s,"network-request-failed"))},Pw(`${JC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function mI(s){return eh=eh||fI(s),eh}const pI=new eu(5e3,15e3),gI="__/auth/iframe",xI="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bI(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Fg(e,xI):`https://${s.config.authDomain}/${gI}`,a={apiKey:e.apiKey,appName:s.name,v:Vi},o=vI.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Zc(a).slice(1)}`}async function _I(s){const e=await mI(s),n=Ks().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:bI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=bs(s,"network-request-failed"),p=Ks().setTimeout(()=>{u(d)},pI.get());function g(){Ks().clearTimeout(p),o(a)}a.ping(g).then(g,()=>{u(d)})}))}const wI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NI=500,EI=600,TI="_blank",jI="http://localhost";class Z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(s,e,n,a=NI,o=EI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...wI,width:a.toString(),height:o.toString(),top:u,left:d},x=rn().toLowerCase();n&&(p=Cw(x)?TI:n),Sw(x)&&(e=e||jI,g.scrollbars="yes");const v=Object.entries(g).reduce((A,[O,H])=>`${A}${O}=${H},`,"");if(qC(x)&&p!=="_self")return AI(e||"",p),new Z0(null);const w=window.open(e||"",p,v);be(w,s,"popup-blocked");try{w.focus()}catch{}return new Z0(w)}function AI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const CI="__/auth/handler",RI="emulator/auth/handler",II=encodeURIComponent("fac");async function e1(s,e,n,a,o,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:Vi,eventId:o};if(e instanceof Yg){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",VS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))d[v]=w}if(e instanceof nu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(d.scopes=v.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const g=await s._getAppCheckToken(),x=g?`#${II}=${encodeURIComponent(g)}`:"";return`${DI(s)}?${Zc(p).slice(1)}${x}`}function DI({config:s}){return s.emulator?Fg(s,RI):`https://${s.authDomain}/${CI}`}const Rp="webStorageSupport";class kI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=sI,this._overrideRedirectResult=eI}async _openPopup(e,n,a,o){Ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await e1(e,n,a,Kp(),o);return SI(e,u,Kg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await e1(e,n,a,Kp(),o);return PR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ir(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await _I(e),a=new aI(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},o=>{const u=o?.[0]?.[Rp];u!==void 0&&n(!!u),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mw()||Aw()||Hg()}}const MI=kI;var t1="@firebase/auth",n1="1.12.0";class OI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(s){ws(new es("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(s)},x=new QC(a,o,u,g);return aR(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ws(new es("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(a=>new OI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(t1,n1,PI(s)),Tn(t1,n1,"esm2020")}const VI=300,UI=F_("authIdTokenMaxAge")||VI;let s1=null;const zI=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>UI)return;const o=n?.token;s1!==o&&(s1=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BI(s=Bh()){const e=La(s,"auth");if(e.isInitialized())return e.getImmediate();const n=rR(s,{popupRedirectResolver:MI,persistence:[GR,kR,Gw]}),a=F_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=zI(u.toString());AR(n,d,()=>d(n.currentUser)),SR(n,p=>d(p))}}const o=U_("auth");return o&&iR(n,`http://${o}`),n}function FI(){return document.getElementsByTagName("head")?.[0]??document}XC({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=bs("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",FI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var r1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ja,Zw;(function(){var s;function e(S,T){function j(){}j.prototype=T.prototype,S.F=T.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(E,k,B){for(var I=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)I[Ge-2]=arguments[Ge];return T.prototype[k].apply(E,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,T,j){j||(j=0);const E=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)E[k]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(k=0;k<16;++k)E[k]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=S.g[0],j=S.g[1],k=S.g[2];let B=S.g[3],I;I=T+(B^j&(k^B))+E[0]+3614090360&4294967295,T=j+(I<<7&4294967295|I>>>25),I=B+(k^T&(j^k))+E[1]+3905402710&4294967295,B=T+(I<<12&4294967295|I>>>20),I=k+(j^B&(T^j))+E[2]+606105819&4294967295,k=B+(I<<17&4294967295|I>>>15),I=j+(T^k&(B^T))+E[3]+3250441966&4294967295,j=k+(I<<22&4294967295|I>>>10),I=T+(B^j&(k^B))+E[4]+4118548399&4294967295,T=j+(I<<7&4294967295|I>>>25),I=B+(k^T&(j^k))+E[5]+1200080426&4294967295,B=T+(I<<12&4294967295|I>>>20),I=k+(j^B&(T^j))+E[6]+2821735955&4294967295,k=B+(I<<17&4294967295|I>>>15),I=j+(T^k&(B^T))+E[7]+4249261313&4294967295,j=k+(I<<22&4294967295|I>>>10),I=T+(B^j&(k^B))+E[8]+1770035416&4294967295,T=j+(I<<7&4294967295|I>>>25),I=B+(k^T&(j^k))+E[9]+2336552879&4294967295,B=T+(I<<12&4294967295|I>>>20),I=k+(j^B&(T^j))+E[10]+4294925233&4294967295,k=B+(I<<17&4294967295|I>>>15),I=j+(T^k&(B^T))+E[11]+2304563134&4294967295,j=k+(I<<22&4294967295|I>>>10),I=T+(B^j&(k^B))+E[12]+1804603682&4294967295,T=j+(I<<7&4294967295|I>>>25),I=B+(k^T&(j^k))+E[13]+4254626195&4294967295,B=T+(I<<12&4294967295|I>>>20),I=k+(j^B&(T^j))+E[14]+2792965006&4294967295,k=B+(I<<17&4294967295|I>>>15),I=j+(T^k&(B^T))+E[15]+1236535329&4294967295,j=k+(I<<22&4294967295|I>>>10),I=T+(k^B&(j^k))+E[1]+4129170786&4294967295,T=j+(I<<5&4294967295|I>>>27),I=B+(j^k&(T^j))+E[6]+3225465664&4294967295,B=T+(I<<9&4294967295|I>>>23),I=k+(T^j&(B^T))+E[11]+643717713&4294967295,k=B+(I<<14&4294967295|I>>>18),I=j+(B^T&(k^B))+E[0]+3921069994&4294967295,j=k+(I<<20&4294967295|I>>>12),I=T+(k^B&(j^k))+E[5]+3593408605&4294967295,T=j+(I<<5&4294967295|I>>>27),I=B+(j^k&(T^j))+E[10]+38016083&4294967295,B=T+(I<<9&4294967295|I>>>23),I=k+(T^j&(B^T))+E[15]+3634488961&4294967295,k=B+(I<<14&4294967295|I>>>18),I=j+(B^T&(k^B))+E[4]+3889429448&4294967295,j=k+(I<<20&4294967295|I>>>12),I=T+(k^B&(j^k))+E[9]+568446438&4294967295,T=j+(I<<5&4294967295|I>>>27),I=B+(j^k&(T^j))+E[14]+3275163606&4294967295,B=T+(I<<9&4294967295|I>>>23),I=k+(T^j&(B^T))+E[3]+4107603335&4294967295,k=B+(I<<14&4294967295|I>>>18),I=j+(B^T&(k^B))+E[8]+1163531501&4294967295,j=k+(I<<20&4294967295|I>>>12),I=T+(k^B&(j^k))+E[13]+2850285829&4294967295,T=j+(I<<5&4294967295|I>>>27),I=B+(j^k&(T^j))+E[2]+4243563512&4294967295,B=T+(I<<9&4294967295|I>>>23),I=k+(T^j&(B^T))+E[7]+1735328473&4294967295,k=B+(I<<14&4294967295|I>>>18),I=j+(B^T&(k^B))+E[12]+2368359562&4294967295,j=k+(I<<20&4294967295|I>>>12),I=T+(j^k^B)+E[5]+4294588738&4294967295,T=j+(I<<4&4294967295|I>>>28),I=B+(T^j^k)+E[8]+2272392833&4294967295,B=T+(I<<11&4294967295|I>>>21),I=k+(B^T^j)+E[11]+1839030562&4294967295,k=B+(I<<16&4294967295|I>>>16),I=j+(k^B^T)+E[14]+4259657740&4294967295,j=k+(I<<23&4294967295|I>>>9),I=T+(j^k^B)+E[1]+2763975236&4294967295,T=j+(I<<4&4294967295|I>>>28),I=B+(T^j^k)+E[4]+1272893353&4294967295,B=T+(I<<11&4294967295|I>>>21),I=k+(B^T^j)+E[7]+4139469664&4294967295,k=B+(I<<16&4294967295|I>>>16),I=j+(k^B^T)+E[10]+3200236656&4294967295,j=k+(I<<23&4294967295|I>>>9),I=T+(j^k^B)+E[13]+681279174&4294967295,T=j+(I<<4&4294967295|I>>>28),I=B+(T^j^k)+E[0]+3936430074&4294967295,B=T+(I<<11&4294967295|I>>>21),I=k+(B^T^j)+E[3]+3572445317&4294967295,k=B+(I<<16&4294967295|I>>>16),I=j+(k^B^T)+E[6]+76029189&4294967295,j=k+(I<<23&4294967295|I>>>9),I=T+(j^k^B)+E[9]+3654602809&4294967295,T=j+(I<<4&4294967295|I>>>28),I=B+(T^j^k)+E[12]+3873151461&4294967295,B=T+(I<<11&4294967295|I>>>21),I=k+(B^T^j)+E[15]+530742520&4294967295,k=B+(I<<16&4294967295|I>>>16),I=j+(k^B^T)+E[2]+3299628645&4294967295,j=k+(I<<23&4294967295|I>>>9),I=T+(k^(j|~B))+E[0]+4096336452&4294967295,T=j+(I<<6&4294967295|I>>>26),I=B+(j^(T|~k))+E[7]+1126891415&4294967295,B=T+(I<<10&4294967295|I>>>22),I=k+(T^(B|~j))+E[14]+2878612391&4294967295,k=B+(I<<15&4294967295|I>>>17),I=j+(B^(k|~T))+E[5]+4237533241&4294967295,j=k+(I<<21&4294967295|I>>>11),I=T+(k^(j|~B))+E[12]+1700485571&4294967295,T=j+(I<<6&4294967295|I>>>26),I=B+(j^(T|~k))+E[3]+2399980690&4294967295,B=T+(I<<10&4294967295|I>>>22),I=k+(T^(B|~j))+E[10]+4293915773&4294967295,k=B+(I<<15&4294967295|I>>>17),I=j+(B^(k|~T))+E[1]+2240044497&4294967295,j=k+(I<<21&4294967295|I>>>11),I=T+(k^(j|~B))+E[8]+1873313359&4294967295,T=j+(I<<6&4294967295|I>>>26),I=B+(j^(T|~k))+E[15]+4264355552&4294967295,B=T+(I<<10&4294967295|I>>>22),I=k+(T^(B|~j))+E[6]+2734768916&4294967295,k=B+(I<<15&4294967295|I>>>17),I=j+(B^(k|~T))+E[13]+1309151649&4294967295,j=k+(I<<21&4294967295|I>>>11),I=T+(k^(j|~B))+E[4]+4149444226&4294967295,T=j+(I<<6&4294967295|I>>>26),I=B+(j^(T|~k))+E[11]+3174756917&4294967295,B=T+(I<<10&4294967295|I>>>22),I=k+(T^(B|~j))+E[2]+718787259&4294967295,k=B+(I<<15&4294967295|I>>>17),I=j+(B^(k|~T))+E[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+B&4294967295}a.prototype.v=function(S,T){T===void 0&&(T=S.length);const j=T-this.blockSize,E=this.C;let k=this.h,B=0;for(;B<T;){if(k==0)for(;B<=j;)o(this,S,B),B+=this.blockSize;if(typeof S=="string"){for(;B<T;)if(E[k++]=S.charCodeAt(B++),k==this.blockSize){o(this,E),k=0;break}}else for(;B<T;)if(E[k++]=S[B++],k==this.blockSize){o(this,E),k=0;break}}this.h=k,this.o+=T},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,j=0;j<4;++j)for(let E=0;E<32;E+=8)S[T++]=this.g[j]>>>E&255;return S};function u(S,T){var j=p;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=T(S)}function d(S,T){this.h=T;const j=[];let E=!0;for(let k=S.length-1;k>=0;k--){const B=S[k]|0;E&&B==T||(j[k]=B,E=!1)}this.g=j}var p={};function g(S){return-128<=S&&S<128?u(S,function(T){return new d([T|0],T<0?-1:0)}):new d([S|0],S<0?-1:0)}function x(S){if(isNaN(S)||!isFinite(S))return w;if(S<0)return D(x(-S));const T=[];let j=1;for(let E=0;S>=j;E++)T[E]=S/j|0,j*=4294967296;return new d(T,0)}function v(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return D(v(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=x(Math.pow(T,8));let E=w;for(let B=0;B<S.length;B+=8){var k=Math.min(8,S.length-B);const I=parseInt(S.substring(B,B+k),T);k<8?(k=x(Math.pow(T,k)),E=E.j(k).add(x(I))):(E=E.j(j),E=E.add(x(I)))}return E}var w=g(0),A=g(1),O=g(16777216);s=d.prototype,s.m=function(){if(M(this))return-D(this).m();let S=0,T=1;for(let j=0;j<this.g.length;j++){const E=this.i(j);S+=(E>=0?E:4294967296+E)*T,T*=4294967296}return S},s.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(H(this))return"0";if(M(this))return"-"+D(this).toString(S);const T=x(Math.pow(S,6));var j=this;let E="";for(;;){const k=ae(j,T).g;j=z(j,k.j(T));let B=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=k,H(j))return B+E;for(;B.length<6;)B="0"+B;E=B+E}},s.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function H(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function M(S){return S.h==-1}s.l=function(S){return S=z(this,S),M(S)?-1:H(S)?0:1};function D(S){const T=S.g.length,j=[];for(let E=0;E<T;E++)j[E]=~S.g[E];return new d(j,~S.h).add(A)}s.abs=function(){return M(this)?D(this):this},s.add=function(S){const T=Math.max(this.g.length,S.g.length),j=[];let E=0;for(let k=0;k<=T;k++){let B=E+(this.i(k)&65535)+(S.i(k)&65535),I=(B>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);E=I>>>16,B&=65535,I&=65535,j[k]=I<<16|B}return new d(j,j[j.length-1]&-2147483648?-1:0)};function z(S,T){return S.add(D(T))}s.j=function(S){if(H(this)||H(S))return w;if(M(this))return M(S)?D(this).j(D(S)):D(D(this).j(S));if(M(S))return D(this.j(D(S)));if(this.l(O)<0&&S.l(O)<0)return x(this.m()*S.m());const T=this.g.length+S.g.length,j=[];for(var E=0;E<2*T;E++)j[E]=0;for(E=0;E<this.g.length;E++)for(let k=0;k<S.g.length;k++){const B=this.i(E)>>>16,I=this.i(E)&65535,Ge=S.i(k)>>>16,nt=S.i(k)&65535;j[2*E+2*k]+=I*nt,G(j,2*E+2*k),j[2*E+2*k+1]+=B*nt,G(j,2*E+2*k+1),j[2*E+2*k+1]+=I*Ge,G(j,2*E+2*k+1),j[2*E+2*k+2]+=B*Ge,G(j,2*E+2*k+2)}for(S=0;S<T;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=T;S<2*T;S++)j[S]=0;return new d(j,0)};function G(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function L(S,T){this.g=S,this.h=T}function ae(S,T){if(H(T))throw Error("division by zero");if(H(S))return new L(w,w);if(M(S))return T=ae(D(S),T),new L(D(T.g),D(T.h));if(M(T))return T=ae(S,D(T)),new L(D(T.g),T.h);if(S.g.length>30){if(M(S)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var j=A,E=T;E.l(S)<=0;)j=ie(j),E=ie(E);var k=oe(j,1),B=oe(E,1);for(E=oe(E,2),j=oe(j,2);!H(E);){var I=B.add(E);I.l(S)<=0&&(k=k.add(j),B=I),E=oe(E,1),j=oe(j,1)}return T=z(S,k.j(T)),new L(k,T)}for(k=w;S.l(T)>=0;){for(j=Math.max(1,Math.floor(S.m()/T.m())),E=Math.ceil(Math.log(j)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),B=x(j),I=B.j(T);M(I)||I.l(S)>0;)j-=E,B=x(j),I=B.j(T);H(B)&&(B=A),k=k.add(B),S=z(S,I)}return new L(k,S)}s.B=function(S){return ae(this,S).h},s.and=function(S){const T=Math.max(this.g.length,S.g.length),j=[];for(let E=0;E<T;E++)j[E]=this.i(E)&S.i(E);return new d(j,this.h&S.h)},s.or=function(S){const T=Math.max(this.g.length,S.g.length),j=[];for(let E=0;E<T;E++)j[E]=this.i(E)|S.i(E);return new d(j,this.h|S.h)},s.xor=function(S){const T=Math.max(this.g.length,S.g.length),j=[];for(let E=0;E<T;E++)j[E]=this.i(E)^S.i(E);return new d(j,this.h^S.h)};function ie(S){const T=S.g.length+1,j=[];for(let E=0;E<T;E++)j[E]=S.i(E)<<1|S.i(E-1)>>>31;return new d(j,S.h)}function oe(S,T){const j=T>>5;T%=32;const E=S.g.length-j,k=[];for(let B=0;B<E;B++)k[B]=T>0?S.i(B+j)>>>T|S.i(B+j+1)<<32-T:S.i(B+j);return new d(k,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Zw=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=x,d.fromString=v,ja=d}).apply(typeof r1<"u"?r1:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eN,Ec,tN,th,Wp,nN,sN,rN;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(h,y){if(y)e:{var _=a;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in _))break e;_=_[q]}h=h[h.length-1],C=_[h],y=y(C),y!=C&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var _=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&_.push([C,y[C]]);return _}});var u=u||{},d=this||self;function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,_){return h.call.apply(h.bind,arguments)}function x(h,y,_){return x=g,x.apply(null,arguments)}function v(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function w(h,y){function _(){}_.prototype=y.prototype,h.Z=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(C,q,X){for(var le=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)le[Se-2]=arguments[Se];return y.prototype[q].apply(C,le)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const y=h.length;if(y>0){const _=Array(y);for(let C=0;C<y;C++)_[C]=h[C];return _}return[]}function H(h,y){for(let C=1;C<arguments.length;C++){const q=arguments[C];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=h.length||0;const X=q.length||0;h.length=_+X;for(let le=0;le<X;le++)h[_+le]=q[le]}else h.push(q)}}class M{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(h){d.setTimeout(()=>{throw h},0)}function z(){var h=S;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,_){const C=L.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var L=new M(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,S=new G,T=()=>{const h=Promise.resolve(void 0);ie=()=>{h.then(j)}};function j(){for(var h;h=z();){try{h.h.call(h.g)}catch(_){D(_)}var y=L;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}oe=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Ge(h,y){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}w(Ge,k),Ge.prototype.init=function(h,y){const _=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(_=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ce(h,y,_,C,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=q,this.key=++J,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,y,_){for(const C in h)y.call(_,h[C],C,h)}function Fe(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function U(h){const y={};for(const _ in h)y[_]=h[_];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(h,y){let _,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(_ in C)h[_]=C[_];for(let X=0;X<te.length;X++)_=te[X],Object.prototype.hasOwnProperty.call(C,_)&&(h[_]=C[_])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,_,C,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const le=je(h,y,C,q);return le>-1?(y=h[le],_||(y.fa=!1)):(y=new ce(y,this.src,X,!!C,q),y.fa=_,h.push(y)),y};function we(h,y){const _=y.type;if(_ in h.g){var C=h.g[_],q=Array.prototype.indexOf.call(C,y,void 0),X;(X=q>=0)&&Array.prototype.splice.call(C,q,1),X&&(ge(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function je(h,y,_,C){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==C)return q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),xt={};function rt(h,y,_,C,q){if(Array.isArray(y)){for(let X=0;X<y.length;X++)rt(h,y[X],_,C,q);return null}return _=po(_),h&&h[nt]?h.J(y,_,p(C)?!!C.capture:!1,q):Ce(h,y,_,!1,C,q)}function Ce(h,y,_,C,q,X){if(!y)throw Error("Invalid event type");const le=p(q)?!!q.capture:!!q;let Se=Ba(h);if(Se||(h[Me]=Se=new de(h)),_=Se.add(y,_,C,le,X),_.proxy)return _;if(C=rs(),_.proxy=C,C.src=h,C.listener=_,h.addEventListener)B||(q=le),q===void 0&&(q=!1),h.addEventListener(y.toString(),C,q);else if(h.attachEvent)h.attachEvent(Ts(y.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rs(){function h(_){return y.call(h.src,h.listener,_)}const y=fo;return h}function Fi(h,y,_,C,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Fi(h,y[X],_,C,q);else C=p(C)?!!C.capture:!!C,_=po(_),h&&h[nt]?(h=h.i,X=String(y).toString(),X in h.g&&(y=h.g[X],_=je(y,_,C,q),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete h.g[X],h.h--)))):h&&(h=Ba(h))&&(y=h.g[y.toString()],h=-1,y&&(h=je(y,_,C,q)),(_=h>-1?y[h]:null)&&qi(_))}function qi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[nt])we(y.i,h);else{var _=h.type,C=h.proxy;y.removeEventListener?y.removeEventListener(_,C,h.capture):y.detachEvent?y.detachEvent(Ts(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=Ba(y))?(we(_,h),_.h==0&&(_.src=null,y[Me]=null)):ge(h)}}}function Ts(h){return h in xt?xt[h]:xt[h]="on"+h}function fo(h,y){if(h.da)h=!0;else{y=new Ge(y,this);const _=h.listener,C=h.ha||h.src;h.fa&&qi(h),h=_.call(C,y)}return h}function Ba(h){return h=h[Me],h instanceof de?h:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(h){return typeof h=="function"?h:(h[mo]||(h[mo]=function(y){return h.handleEvent(y)}),h[mo])}function Nt(){E.call(this),this.i=new de(this),this.M=this,this.G=null}w(Nt,E),Nt.prototype[nt]=!0,Nt.prototype.removeEventListener=function(h,y,_,C){Fi(this,h,y,_,C)};function Pt(h,y){var _,C=h.G;if(C)for(_=[];C;C=C.G)_.push(C);if(h=h.M,C=y.type||y,typeof y=="string")y=new k(y,h);else if(y instanceof k)y.target=y.target||h;else{var q=y;y=new k(C,h),Q(y,q)}q=!0;let X,le;if(_)for(le=_.length-1;le>=0;le--)X=y.g=_[le],q=Vr(X,C,!0,y)&&q;if(X=y.g=h,q=Vr(X,C,!0,y)&&q,q=Vr(X,C,!1,y)&&q,_)for(le=0;le<_.length;le++)X=y.g=_[le],q=Vr(X,C,!1,y)&&q}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const _=h.g[y];for(let C=0;C<_.length;C++)ge(_[C]);delete h.g[y],h.h--}}this.G=null},Nt.prototype.J=function(h,y,_,C){return this.i.add(String(h),y,!1,_,C)},Nt.prototype.K=function(h,y,_,C){return this.i.add(String(h),y,!0,_,C)};function Vr(h,y,_,C){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let X=0;X<y.length;++X){const le=y[X];if(le&&!le.da&&le.capture==_){const Se=le.listener,vt=le.ha||le.src;le.fa&&we(h.i,le),q=Se.call(vt,C)!==!1&&q}}return q&&!C.defaultPrevented}function mf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:d.setTimeout(h,y||0)}function du(h){h.g=mf(()=>{h.g=null,h.i&&(h.i=!1,du(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends E{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fa(h){E.call(this),this.h=h,this.g={}}w(Fa,E);var go=[];function xo(h){Ie(h.g,function(y,_){this.g.hasOwnProperty(_)&&qi(y)},h),h.g={}}Fa.prototype.N=function(){Fa.Z.N.call(this),xo(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=d.JSON.stringify,pf=d.JSON.parse,hu=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function fu(){}function mu(){}var as={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){k.call(this,"d")}w(qt,k);function Vn(){k.call(this,"c")}w(Vn,k);var yt={},pu=null;function Hi(){return pu=pu||new Nt}yt.Ia="serverreachability";function gu(h){k.call(this,yt.Ia,h)}w(gu,k);function js(h){const y=Hi();Pt(y,new gu(y))}yt.STAT_EVENT="statevent";function qa(h,y){k.call(this,yt.STAT_EVENT,h),this.stat=y}w(qa,k);function Et(h){const y=Hi();Pt(y,new qa(y,h))}yt.Ja="timingevent";function Ss(h,y){k.call(this,yt.Ja,h),this.size=y}w(Ss,k);function As(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function gf(h,y,_,C,q,X){h.info(function(){if(h.g)if(X){var le="",Se=X.split("&");for(let $e=0;$e<Se.length;$e++){var vt=Se[$e].split("=");if(vt.length>1){const ct=vt[0];vt=vt[1];const Fn=ct.split("_");le=Fn.length>=2&&Fn[1]=="type"?le+(ct+"="+vt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+y+`
`+_+`
`+le})}function xu(h,y,_,C,q,X,le){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+y+`
`+_+`
`+X+" "+le})}function Cs(h,y,_,C){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+xf(h,_)+(C?" "+C:"")})}function Ha(h,y){h.info(function(){return"TIMEOUT: "+y})}is.prototype.info=function(){};function xf(h,y){if(!h.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var _=X[h];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<C.length;le++)C[le]=""}}}}return Ur(X)}catch{return y}}var Ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function $a(){}w($a,fu),$a.prototype.g=function(){return new XMLHttpRequest},vo=new $a;function sr(h){return encodeURIComponent(String(h))}function yu(h){var y=1;h=h.split(":");const _=[];for(;y>0&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function ls(h,y,_,C){this.j=h,this.i=y,this.l=_,this.S=C||1,this.V=new Fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function Rs(h,y,_){h.M=1,h.A=Ya(St(y)),h.u=_,h.R=!0,Gi(h,null)}function Gi(h,y){h.F=Date.now(),Is(h),h.B=St(h.A);var _=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Qi(_.i,"t",C),h.C=0,_=h.j.L,h.h=new os,h.g=ku(h.j,_?y:null,!h.u),h.P>0&&(h.O=new an(x(h.Y,h,h.g),h.P)),y=h.V,_=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(go[0]=q.toString()),q=go);for(let X=0;X<q.length;X++){const le=rt(_,q[X],C||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),js(),gf(h.i,h.v,h.B,h.l,h.S,h.u)}ls.prototype.ba=function(h){h=h.target;const y=this.O;y&&ds(h)==3?y.j():this.Y(h)},ls.prototype.Y=function(h){try{if(h==this.g)e:{const Se=ds(this.g),vt=this.g.ya(),$e=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||vt==7||(vt==8||$e<=0?js(3):js(2)),Ds(this);var y=this.g.ca();this.X=y;var _=yf(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var X=C;break t}}X=null}if(h=X)Cs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ks(this,h);else{this.o=!1,this.m=3,Et(12),jn(this),Un(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=bu(this,_),ct==Ut){Se==4&&(this.m=4,Et(14),h=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Tt){this.m=4,Et(15),Cs(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else Cs(this.i,this.l,ct,null),ks(this,ct);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||_.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)Cs(this.i,this.l,_,"[Invalid Chunked Response]"),jn(this),Un(this);else if(_.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Mo(le),le.P=!0,Et(11))}}else Cs(this.i,this.l,_,null),ks(this,_);Se==4&&jn(this),this.o&&!this.K&&(Se==4?Cu(this.j,this):(this.o=!1,Is(this)))}else ar(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),jn(this),Un(this)}}}catch{}};function yf(h){if(!vu(h))return h.g.la();const y=Ht(h.g);if(y==="")return"";let _="";const C=y.length,q=ds(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Un(h),"";h.h.i=new d.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,_+=h.h.i.decode(y[X],{stream:!(q&&X==C-1)});return y.length=0,h.h.g+=_,h.C=0,h.h.g}function vu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function bu(h,y){var _=h.C,C=y.indexOf(`
`,_);return C==-1?Ut:(_=Number(y.substring(_,C)),isNaN(_)?Tt:(C+=1,C+_>y.length?Ut:(y=y.slice(C,C+_),h.C=C+_,y)))}ls.prototype.cancel=function(){this.K=!0,jn(this)};function Is(h){h.T=Date.now()+h.H,$i(h,h.H)}function $i(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=As(x(h.aa,h),y)}function Ds(h){h.D&&(d.clearTimeout(h.D),h.D=null)}ls.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(js(),Et(17)),jn(this),this.m=2,Un(this)):$i(this,this.T-h)};function Un(h){h.j.I==0||h.K||Cu(h.j,h)}function jn(h){Ds(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,xo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function ks(h,y){try{var _=h.j;if(_.I!=0&&(_.g==h||Os(_.h,h))){if(!h.L&&Os(_.h,h)&&_.I==3){try{var C=_.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)el(_),Yr(_);else break e;ei(_),Et(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=As(x(_.Va,_),6e3));Ms(_.h)<=1&&_.ta&&(_.ta=void 0)}else Bs(_,11)}else if((h.L||_.g==h)&&el(_),!I(y))for(q=_.Ba.g.parse(y),y=0;y<q.length;y++){let $e=q[y];const ct=$e[0];if(!(ct<=_.K))if(_.K=ct,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const Fn=$e[3];Fn!=null&&(_.ka=Fn,_.j.info("VER="+_.ka));const Fs=$e[4];Fs!=null&&(_.za=Fs,_.j.info("SVER="+_.za));const hs=$e[5];hs!=null&&typeof hs=="number"&&hs>0&&(C=1.5*hs,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const fs=h.g;if(fs){const ti=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var X=C.h;X.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wo(X,X.h),X.h=null))}if(C.G){const tl=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(C.wa=tl,Qe(C.J,C.G,tl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var le=h;if(C.na=Du(C,C.L?C.ba:null,C.W),le.L){No(C.h,le);var Se=le,vt=C.O;vt&&(Se.H=vt),Se.D&&(Ds(Se),Is(Se)),C.g=le}else Su(C);_.i.length>0&&zs(_)}else $e[0]!="stop"&&$e[0]!="close"||Bs(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Bs(_,7):Do(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}js(4)}catch{}}var jt=class{constructor(h,y){this.g=h,this.map=y}};function bo(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ms(h){return h.h?1:h.g?h.g.size:0}function Os(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wo(h,y){h.g?h.g.add(y):h.h=y}function No(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}bo.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Eo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.G);return y}return O(h.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yi(h,y){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const C=h[_].indexOf("=");let q,X=null;C>=0?(q=h[_].substring(0,C),X=h[_].substring(C+1)):q=h[_],y(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,zr(this,h.u),this.h=h.h,To(this,Tu(h.i)),this.m=h.m):h&&(y=String(h).match(_u))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ps(y[2]||""),this.g=Ps(y[3]||"",!0),zr(this,y[4]),this.h=Ps(y[5]||"",!0),To(this,y[6]||"",!0),this.m=Ps(y[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ka(y,Ki,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ka(y,Ki,!0),"@"),h.push(sr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ka(_,_.charAt(0)=="/"?jo:wu,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ka(_,Nu)),h.join("")},Sn.prototype.resolve=function(h){const y=St(this);let _=!!h.j;_?zt(y,h.j):_=!!h.o,_?y.o=h.o:_=!!h.g,_?y.g=h.g:_=h.u!=null;var C=h.h;if(_)zr(y,h.u);else if(_=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=y.h.lastIndexOf("/");q!=-1&&(C=y.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Se=q[le++];Se=="."?C&&le==q.length&&X.push(""):Se==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&le==q.length&&X.push("")):(X.push(Se),C=!0)}C=X.join("/")}else C=q}return _?y.h=C:_=h.i.toString()!=="",_?To(y,Tu(h.i)):_=!!h.m,_&&(y.m=h.m),y};function St(h){return new Sn(h)}function zt(h,y,_){h.j=_?Ps(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function zr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function To(h,y,_){y instanceof Fr?(h.i=y,Xi(h.i,h.l)):(_||(y=Ka(y,Br)),h.i=new Fr(y,h.l))}function Qe(h,y,_){h.i.set(y,_)}function Ya(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ps(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ka(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ki=/[#\/\?@]/g,wu=/[#\?:]/g,jo=/[#\?]/g,Br=/[#\?@]/g,Nu=/#/g;function Fr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Yi(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}s=Fr.prototype,s.add=function(h,y){fn(this),this.i=null,h=qr(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Eu(h,y){fn(h),y=qr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function So(h,y){return fn(h),y=qr(h,y),h.g.has(y)}s.forEach=function(h,y){fn(this),this.g.forEach(function(_,C){_.forEach(function(q){h.call(y,q,C,this)},this)},this)};function Ao(h,y){fn(h);let _=[];if(typeof y=="string")So(h,y)&&(_=_.concat(h.g.get(qr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)_=_.concat(h[y]);return _}s.set=function(h,y){return fn(this),this.i=null,h=qr(this,h),So(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=Ao(this,h),h.length>0?String(h[0]):y):y};function Qi(h,y,_){Eu(h,y),_.length>0&&(h.i=null,h.g.set(qr(h,y),O(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var _=y[C];const q=sr(_);_=Ao(this,_);for(let X=0;X<_.length;X++){let le=q;_[X]!==""&&(le+="="+sr(_[X])),h.push(le)}}return this.i=h.join("&")};function Tu(h){const y=new Fr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function qr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Xi(h,y){y&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(_,C){const q=C.toLowerCase();C!=q&&(Eu(this,C),Qi(this,q,_))},h)),h.j=y}function cs(h,y){const _=new is;if(d.Image){const C=new Image;C.onload=v(zn,_,"TestLoadImage: loaded",!0,y,C),C.onerror=v(zn,_,"TestLoadImage: error",!1,y,C),C.onabort=v(zn,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=v(zn,_,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else y(!1)}function Co(h,y){const _=new is,C=new AbortController,q=setTimeout(()=>{C.abort(),zn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(q),X.ok?zn(_,"TestPingServer: ok",!0,y):zn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),zn(_,"TestPingServer: error",!1,y)})}function zn(h,y,_,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(_)}catch{}}function Hr(){this.g=new hu}function Ls(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Ls,fu),Ls.prototype.g=function(){return new Qa(this.i,this.h)};function Qa(h,y){Nt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Qa,Nt),s=Qa.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,us(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||d).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Gr(this):us(this),this.readyState==3&&Wi(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Gr(this))},s.Na=function(h){this.g&&(this.response=h,Gr(this))},s.ga=function(){this.g&&Gr(this)};function Gr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,us(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let y="";return Ie(h,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function Xa(h,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Bn(_),typeof h=="string"?_!=null&&sr(_):Qe(h,y,_))}function Je(h){Nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Nt);var Vs=/^https?$/i,Ro=["POST","PUT"];s=Je.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=A(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){Wa(this,X);return}if(h=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)_.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())_.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,y,void 0)>=0)||C||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Wa(this,X)}};function Wa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Io(h),rr(h)}function Io(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),rr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},s.Xa=function(){Ja(this)};function Ja(h){if(h.h&&typeof u<"u"){if(h.v&&ds(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),ds(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=X===0){let le=String(h.D).match(_u)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),C=!Vs.test(le?le.toLowerCase():"")}_=C}if(_)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var q=ds(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Io(h)}}finally{rr(h)}}}}function rr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,y||Pt(h,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ds(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),pf(y)}};function Ht(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(h){const y={};h=(h.g&&ds(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(I(h[C]))continue;var _=yu(h[C]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[q]||[];y[q]=X,X.push(_)}Fe(y,function(C){return C.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function $r(h){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Us("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Us("baseRetryDelayMs",5e3,h),this.Za=Us("retryDelaySeedMs",1e4,h),this.Ta=Us("forwardChannelMaxRetries",2,h),this.va=Us("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(h&&h.concurrentRequestLimit),this.Ba=new Hr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$r.prototype,s.ka=8,s.I=1,s.connect=function(h,y,_,C){Et(0),this.W=h,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=Du(this,null,this.W),zs(this)};function Do(h){if(Ji(h),h.I==3){var y=h.V++,_=St(h.J);if(Qe(_,"SID",h.M),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Za(h,_),y=new ls(h,h.j,y),y.M=2,y.A=Ya(St(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.A,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Is(y)}Iu(h)}function Yr(h){h.g&&(Mo(h),h.g.cancel(),h.g=null)}function Ji(h){Yr(h),h.v&&(d.clearTimeout(h.v),h.v=null),el(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function zs(h){if(!_o(h.h)&&!h.m){h.m=!0;var y=h.Ea;ie||T(),oe||(ie(),oe=!0),S.add(y,h),h.D=0}}function Zi(h,y){return Ms(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=As(x(h.Ea,h,y),Ru(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ls(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),Q(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,q,y),_=St(this.J),Qe(_,"RID",h),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),Za(this,_),X&&(this.R?y="headers="+sr(Bn(X))+"&"+y:this.u&&Xa(_,this.u,X)),wo(this.h,q),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",y),Qe(_,"SID","null"),q.U=!0,Rs(q,_,null)):Rs(q,_,y),this.I=2}}else this.I==3&&(h?ko(this,h):this.i.length==0||_o(this.h)||ko(this))};function ko(h,y){var _;y?_=y.l:_=h.V++;const C=St(h.J);Qe(C,"SID",h.M),Qe(C,"RID",_),Qe(C,"AID",h.K),Za(h,C),h.u&&h.o&&Xa(C,h.u,h.o),_=new ls(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ju(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wo(h.h,_),Rs(_,C,y)}function Za(h,y){h.H&&Ie(h.H,function(_,C){Qe(y,C,_)}),h.l&&Ie({},function(_,C){Qe(y,C,_)})}function ju(h,y,_){_=Math.min(h.i.length,_);const C=h.l?x(h.l.Ka,h.l,h):null;e:{var q=h.i;let Se=-1;for(;;){const vt=["count="+_];Se==-1?_>0?(Se=q[0].g,vt.push("ofs="+Se)):Se=0:vt.push("ofs="+Se);let $e=!0;for(let ct=0;ct<_;ct++){var X=q[ct].g;const Fn=q[ct].map;if(X-=Se,X<0)Se=Math.max(0,q[ct].g-100),$e=!1;else try{X="req"+X+"_"||"";try{var le=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Fs,hs]of le){let fs=hs;p(hs)&&(fs=Ur(hs)),vt.push(X+Fs+"="+encodeURIComponent(fs))}}catch(Fs){throw vt.push(X+"type="+encodeURIComponent("_badmap")),Fs}}catch{C&&C(Fn)}}if($e){le=vt.join("&");break e}}le=void 0}return h=h.i.splice(0,_),y.G=h,le}function Su(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ie||T(),oe||(ie(),oe=!0),S.add(y,h),h.A=0}}function ei(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=As(x(h.Da,h),Ru(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=As(x(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Yr(this),Au(this))};function Mo(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Au(h){h.g=new ls(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=St(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),Za(h,y),h.u&&h.o&&Xa(y,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=Ya(St(y)),_.u=null,_.R=!0,Gi(_,h)}s.Va=function(){this.C!=null&&(this.C=null,Yr(this),ei(this),Et(19))};function el(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Cu(h,y){var _=null;if(h.g==y){el(h),Mo(h),h.g=null;var C=2}else if(Os(h.h,y))_=y.G,No(h.h,y),C=1;else return;if(h.I!=0){if(y.o)if(C==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;C=Hi(),Pt(C,new Ss(C,_)),zs(h)}else Su(h);else if(q=y.m,q==3||q==0&&y.X>0||!(C==1&&Zi(h,y)||C==2&&ei(h)))switch(_&&_.length>0&&(y=h.h,y.i=y.i.concat(_)),q){case 1:Bs(h,5);break;case 4:Bs(h,10);break;case 3:Bs(h,6);break;default:Bs(h,2)}}}function Ru(h,y){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*y}function Bs(h,y){if(h.j.info("Error code "+y),y==2){var _=x(h.bb,h),C=h.Ua;const q=!C;C=new Sn(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(C,"https"),Ya(C),q?cs(C.toString(),_):Co(C.toString(),_)}else Et(2);h.I=0,h.l&&h.l.pa(y),Iu(h),Ji(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Iu(h){if(h.I=0,h.ja=[],h.l){const y=Eo(h.h);(y.length!=0||h.i.length!=0)&&(H(h.ja,y),H(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function Du(h,y,_){var C=_ instanceof Sn?St(_):new Sn(_);if(C.g!="")y&&(C.g=y+"."+C.g),zr(C,C.u);else{var q=d.location;C=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const X=new Sn(null);C&&zt(X,C),y&&(X.g=y),q&&zr(X,q),_&&(X.h=_),C=X}return _=h.G,y=h.wa,_&&y&&Qe(C,_,y),Qe(C,"VER",h.ka),Za(h,C),C}function ku(h,y,_){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Ls({ab:_})):new Je(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Kr(){}Kr.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Nt.call(this),this.g=new $r(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}w(ln,Nt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Do(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=Ur(h),h=_);y.i.push(new jt(y.Ya++,h)),y.I==3&&zs(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,ln.Z.N.call(this)};function Ou(h){qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}w(Ou,qt);function Pu(){Vn.call(this),this.status=1}w(Pu,Vn);function ir(h){this.g=h}w(ir,Mu),ir.prototype.ra=function(){Pt(this.g,"a")},ir.prototype.qa=function(h){Pt(this.g,new Ou(h))},ir.prototype.pa=function(h){Pt(this.g,new Pu)},ir.prototype.oa=function(){Pt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,rN=function(){return new Kr},sN=function(){return Hi()},nN=yt,Wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,th=Ga,yo.COMPLETE="complete",tN=yo,mu.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Ec=mu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,eN=Je}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let ro="12.8.0";function qI(s){ro=s}const Ri=new zh("@firebase/firestore");function Dl(){return Ri.logLevel}function fe(s,...e){if(Ri.logLevel<=Le.DEBUG){const n=e.map(Xg);Ri.debug(`Firestore (${ro}): ${s}`,...n)}}function Dr(s,...e){if(Ri.logLevel<=Le.ERROR){const n=e.map(Xg);Ri.error(`Firestore (${ro}): ${s}`,...n)}}function $l(s,...e){if(Ri.logLevel<=Le.WARN){const n=e.map(Xg);Ri.warn(`Firestore (${ro}): ${s}`,...n)}}function Xg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,aN(s,a,n)}function aN(s,e,n){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Dr(a),new Error(a)}function Ke(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||aN(e,o,a)}function Te(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $I{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Sr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Sr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new iN(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class YI{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KI{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class Wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ve(s,e){return s<e?-1:s>e?1:0}function Jp(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),u=e.charAt(a);if(o!==u)return Ip(o)===Ip(u)?Ve(o,u):Ip(o)?1:-1}return Ve(s.length,e.length)}const WI=55296,JI=57343;function Ip(s){const e=s.charCodeAt(0);return e>=WI&&e<=JI}function Yl(s,e,n){return s.length===e.length&&s.every(((a,o)=>n(a,e[o])))}const i1="__name__";class Ys{constructor(e,n,a){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&_e(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Ys.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const a=Ys.isNumericId(e),o=Ys.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Ys.extractNumericId(e).compare(Ys.extractNumericId(n)):Jp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class at extends Ys{construct(e,n,a){return new at(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ys{construct(e,n,a){return new Wt(e,n,a)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i1}static keyField(){return new Wt([i1])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function lN(s,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function e3(s,e,n,a){if(e===!0&&a===!0)throw new he(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function l1(s){if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o1(s){if(ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oN(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Jn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(s);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function t3(s,e){if(e<=0)throw new he(ne.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function ru(s,e){if(!oN(s))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const c1=-62135596800,u1=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*u1);return new ot(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c1)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Mt("string",ot._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ot(0,0))}static max(){return new Ne(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zc=-1;function n3(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(a===1e9?new ot(n+1,0):new ot(n,a));return new Ra(o,ye.empty(),e)}function s3(s){return new Ra(s.readTime,s.key,zc)}class Ra{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ra(Ne.min(),ye.empty(),zc)}static max(){return new Ra(Ne.max(),ye.empty(),zc)}}function r3(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}const a3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ao(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==a3)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(g=>a(g)))})),d=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((o=>o?re.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const x=g;n(e[x]).next((v=>{d[x]=v,++p,p===u&&a(d)}),(v=>o(v)))}}))}static doWhile(e,n){return new re(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function l3(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(s){return s.name==="IndexedDbTransactionError"}class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;const Jg=-1;function Qh(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function o3(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const cN="";function c3(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=d1(e)),e=u3(s.get(n),e);return d1(e)}function u3(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case cN:n+="";break;default:n+=u}}return n}function d1(s){return s+cN+""}function h1(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Va(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function uN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Xt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Vt(Wt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class dN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dN("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const d3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=d3.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Da(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const hN="server_timestamp",fN="__type__",mN="__previous_value__",pN="__local_write_time__";function Zg(s){return(s?.mapValue?.fields||{})[fN]?.stringValue===hN}function Xh(s){const e=s.mapValue.fields[mN];return Zg(e)?Xh(e):e}function Bc(s){const e=Ia(s.mapValue.fields[pN].timestampValue);return new ot(e.seconds,e.nanos)}class h3{constructor(e,n,a,o,u,d,p,g,x,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=x,this.isUsingEmulator=v,this.apiKey=w}}const wh="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}function f3(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(s.options.projectId,e)}const gN="__type__",m3="__max__",Hd={mapValue:{}},xN="__vector__",Nh="value";function ka(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zg(s)?4:g3(s)?9007199254740991:p3(s)?10:11:_e(28295,{value:s})}function Zs(s,e){if(s===e)return!0;const n=ka(s);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bc(s).isEqual(Bc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Ia(o.timestampValue),p=Ia(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Da(o.bytesValue).isEqual(Da(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=wt(o.doubleValue),p=wt(u.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Yl(s.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(h1(d)!==h1(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Zs(d[g],p[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function qc(s,e){return(s.values||[]).find((n=>Zs(n,e)))!==void 0}function Kl(s,e){if(s===e)return 0;const n=ka(s),a=ka(e);if(n!==a)return Ve(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=wt(u.integerValue||u.doubleValue),g=wt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return m1(s.timestampValue,e.timestampValue);case 4:return m1(Bc(s),Bc(e));case 5:return Jp(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Da(u),g=Da(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let x=0;x<p.length&&x<g.length;x++){const v=Ve(p[x],g[x]);if(v!==0)return v}return Ve(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ve(wt(u.latitude),wt(d.latitude));return p!==0?p:Ve(wt(u.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return p1(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},x=p[Nh]?.arrayValue,v=g[Nh]?.arrayValue,w=Ve(x?.values?.length||0,v?.values?.length||0);return w!==0?w:p1(x,v)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Hd.mapValue&&d===Hd.mapValue)return 0;if(u===Hd.mapValue)return 1;if(d===Hd.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),x=d.fields||{},v=Object.keys(x);g.sort(),v.sort();for(let w=0;w<g.length&&w<v.length;++w){const A=Jp(g[w],v[w]);if(A!==0)return A;const O=Kl(p[g[w]],x[v[w]]);if(O!==0)return O}return Ve(g.length,v.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function m1(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=Ia(s),a=Ia(e),o=Ve(n.seconds,a.seconds);return o!==0?o:Ve(n.nanos,a.nanos)}function p1(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Kl(n[o],a[o]);if(u)return u}return Ve(n.length,a.length)}function Ql(s){return Zp(s)}function Zp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Ia(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Da(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Zp(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${Zp(n.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function nh(s){switch(ka(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(s);return e?16+nh(e):16;case 5:return 2*s.stringValue.length;case 6:return Da(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Va(a.fields,((u,d)=>{o+=u.length+nh(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function g1(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function eg(s){return!!s&&"integerValue"in s}function ex(s){return!!s&&"arrayValue"in s}function x1(s){return!!s&&"nullValue"in s}function y1(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function p3(s){return(s?.mapValue?.fields||{})[gN]?.stringValue===xN}function Ic(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Va(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Ic(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(s.arrayValue.values[n]);return e}return{...s}}function g3(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===m3}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Wt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=Ic(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Va(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Nn(Ic(this.value))}}function yN(s){const e=[];return Va(s.fields,((n,a)=>{const o=new Wt([n]);if(sh(a)){const u=yN(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new On(e)}class sn{constructor(e,n,a,o,u,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,Ne.min(),Ne.min(),Ne.min(),Nn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,Ne.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ne.min(),Ne.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ne.min(),Ne.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function v1(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),n.key):a=Kl(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function b1(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Zs(s.position[n],e.position[n]))return!1;return!0}class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function x3(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class vN{}class kt extends vN{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new v3(e,n,a):n==="array-contains"?new w3(e,a):n==="in"?new N3(e,a):n==="not-in"?new E3(e,a):n==="array-contains-any"?new T3(e,a):new kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new b3(e,a):new _3(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&ka(this.value)===ka(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends vN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return bN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bN(s){return s.op==="and"}function _N(s){return y3(s)&&bN(s)}function y3(s){for(const e of s.filters)if(e instanceof Ns)return!1;return!0}function tg(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+Ql(s.value);if(_N(s))return s.filters.map((e=>tg(e))).join(",");{const e=s.filters.map((n=>tg(n))).join(",");return`${s.op}(${e})`}}function wN(s,e){return s instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Zs(a.value,o.value)})(s,e):s instanceof Ns?(function(a,o){return o instanceof Ns&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,d,p)=>u&&wN(d,o.filters[p])),!0):!1})(s,e):void _e(19439)}function NN(s){return s instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`})(s):s instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(NN).join(" ,")+"}"})(s):"Filter"}class v3 extends kt{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class b3 extends kt{constructor(e,n){super(e,"in",n),this.keys=EN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _3 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=EN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EN(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class w3 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ex(n)&&qc(n.arrayValue,this.value)}}class N3 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class E3 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class T3 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>qc(this.value.arrayValue,a)))}}class j3{constructor(e,n=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function _1(s,e=null,n=[],a=[],o=null,u=null,d=null){return new j3(s,e,n,a,o,u,d)}function tx(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>tg(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Ql(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Ql(a))).join(",")),e.Te=n}return e.Te}function nx(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!x3(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!wN(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!b1(s.startAt,e.startAt)&&b1(s.endAt,e.endAt)}function ng(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class lo{constructor(e,n=null,a=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function S3(s,e,n,a,o,u,d,p){return new lo(s,e,n,a,o,u,d,p)}function Wh(s){return new lo(s)}function w1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function A3(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function TN(s){return s.collectionGroup!==null}function Dc(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Wt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((x=>{x.isInequality()&&(p=p.add(x.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hc(u,a))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Hc(Wt.keyField(),a))}return e.Ie}function Qs(s){const e=Te(s);return e.Ee||(e.Ee=C3(e,Dc(s))),e.Ee}function C3(s,e){if(s.limitType==="F")return _1(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hc(o.field,u)}));const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return _1(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function sg(s,e){const n=s.filters.concat([e]);return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function R3(s,e){const n=s.explicitOrderBy.concat([e]);return new lo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Th(s,e,n){return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Jh(s,e){return nx(Qs(s),Qs(e))&&s.limitType===e.limitType}function jN(s){return`${tx(Qs(s))}|lt:${s.limitType}`}function kl(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>NN(o))).join(", ")}]`),Qh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Ql(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Ql(o))).join(",")),`Target(${a})`})(Qs(s))}; limitType=${s.limitType})`}function Zh(s,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,e)&&(function(a,o){for(const u of Dc(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,g){const x=v1(d,p,g);return d.inclusive?x<=0:x<0})(a.startAt,Dc(a),o)||a.endAt&&!(function(d,p,g){const x=v1(d,p,g);return d.inclusive?x>=0:x>0})(a.endAt,Dc(a),o))})(s,e)}function I3(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function SN(s){return(e,n)=>{let a=!1;for(const o of Dc(s)){const u=D3(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function D3(s,e,n){const a=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),x=p.data.field(u);return g!==null&&x!==null?Kl(g,x):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return uN(this.inner)}size(){return this.innerSize}}const k3=new ft(ye.comparator);function kr(){return k3}const AN=new ft(ye.comparator);function Tc(...s){let e=AN;for(const n of s)e=e.insert(n.key,n);return e}function CN(s){let e=AN;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ni(){return kc()}function RN(){return kc()}function kc(){return new Ui((s=>s.toString()),((s,e)=>s.isEqual(e)))}const M3=new ft(ye.comparator),O3=new Vt(ye.comparator);function Ue(...s){let e=O3;for(const n of s)e=e.add(n);return e}const P3=new Vt(Ve);function L3(){return P3}function sx(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function IN(s){return{integerValue:""+s}}function V3(s,e){return o3(e)?IN(e):sx(s,e)}class ef{constructor(){this._=void 0}}function U3(s,e,n){return s instanceof Gc?(function(o,u){const d={fields:{[fN]:{stringValue:hN},[pN]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zg(u)&&(u=Xh(u)),u&&(d.fields[mN]=u),{mapValue:d}})(n,e):s instanceof $c?kN(s,e):s instanceof Yc?MN(s,e):(function(o,u){const d=DN(o,u),p=N1(d)+N1(o.Ae);return eg(d)&&eg(o.Ae)?IN(p):sx(o.serializer,p)})(s,e)}function z3(s,e,n){return s instanceof $c?kN(s,e):s instanceof Yc?MN(s,e):n}function DN(s,e){return s instanceof jh?(function(a){return eg(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Gc extends ef{}class $c extends ef{constructor(e){super(),this.elements=e}}function kN(s,e){const n=ON(e);for(const a of s.elements)n.some((o=>Zs(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Yc extends ef{constructor(e){super(),this.elements=e}}function MN(s,e){let n=ON(e);for(const a of s.elements)n=n.filter((o=>!Zs(o,a)));return{arrayValue:{values:n}}}class jh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N1(s){return wt(s.integerValue||s.doubleValue)}function ON(s){return ex(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class B3{constructor(e,n){this.field=e,this.transform=n}}function F3(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof $c&&o instanceof $c||a instanceof Yc&&o instanceof Yc?Yl(a.elements,o.elements,Zs):a instanceof jh&&o instanceof jh?Zs(a.Ae,o.Ae):a instanceof Gc&&o instanceof Gc})(s.transform,e.transform)}class q3{constructor(e,n){this.version=e,this.transformResults=n}}class Xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tf{}function PN(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new VN(s.key,Xs.none()):new au(s.key,s.data,Xs.none());{const n=s.data,a=Nn.empty();let o=new Vt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Ua(s.key,a,new On(o.toArray()),Xs.none())}}function H3(s,e,n){s instanceof au?(function(o,u,d){const p=o.value.clone(),g=T1(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ua?(function(o,u,d){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=T1(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(LN(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Mc(s,e,n,a){return s instanceof au?(function(u,d,p,g){if(!rh(u.precondition,d))return p;const x=u.value.clone(),v=j1(u.fieldTransforms,g,d);return x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),null})(s,e,n,a):s instanceof Ua?(function(u,d,p,g){if(!rh(u.precondition,d))return p;const x=j1(u.fieldTransforms,g,d),v=d.data;return v.setAll(LN(u)),v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,a):(function(u,d,p){return rh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function G3(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),u=DN(a.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(a.field,u))}return n||null}function E1(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Yl(a,o,((u,d)=>F3(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends tf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends tf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function LN(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function T1(s,e,n){const a=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,z3(d,p,n[o]))}return a}function j1(s,e,n){const a=new Map;for(const o of s){const u=o.transform,d=n.data.field(o.field);a.set(o.field,U3(u,d,e))}return a}class VN extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $3 extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y3{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H3(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Mc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Mc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=RN();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const g=PN(d,p);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((n,a)=>E1(n,a)))&&Yl(this.baseMutations,e.baseMutations,((n,a)=>E1(n,a)))}}class rx{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return M3})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new rx(e,n,a,o)}}class K3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Be;function X3(s){switch(s){case ne.OK:return _e(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function UN(s){if(s===void 0)return Dr("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return _e(39323,{code:s})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function W3(){return new TextEncoder}const J3=new ja([4294967295,4294967295],0);function S1(s){const e=W3().encode(s),n=new Zw;return n.update(e),new Uint8Array(n.digest())}function A1(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ja([n,a],0),new ja([o,u],0)]}class ax{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(a<0)throw new jc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ja.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ja.fromNumber(a)));return o.compare(J3)===1&&(o=new ja([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S1(e),[a,o]=A1(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ax(u,o,n);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=S1(e),[a,o]=A1(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new nf(Ne.min(),o,new ft(Ve),kr(),Ue())}}class iu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new iu(a,n,Ue(),Ue(),Ue())}}class ah{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class zN{constructor(e,n){this.targetId=e,this.Ce=n}}class BN{constructor(e,n,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class C1{constructor(){this.ve=0,this.Fe=R1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),a=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=R1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z3{constructor(e){this.Ge=e,this.ze=new Map,this.je=kr(),this.He=Gd(),this.Je=Gd(),this.Ze=new ft(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ng(u))if(a===0){const d=new ye(u.path);this.et(n,d,sn.newNoDocument(d,Ne.min()))}else Ke(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const x=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,x)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=Da(a).toUint8Array()}catch(g){if(g instanceof dN)return $l("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ax(d,o,u)}catch(g){return $l(g instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&ng(p.target)){const g=new ye(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let a=Ue();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const x=this.ot(g);return!x||x.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new nf(e,n,this.Ze,this.je,a);return this.je=kr(),this.He=Gd(),this.Je=Gd(),this.Ze=new ft(Ve),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new C1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new ft(ye.comparator)}function R1(){return new ft(ye.comparator)}const e6={asc:"ASCENDING",desc:"DESCENDING"},t6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n6={and:"AND",or:"OR"};class s6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(s,e){return s.useProto3Json||Qh(e)?e:{value:e}}function Sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FN(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function r6(s,e){return Sh(s,e.toTimestamp())}function Ws(s){return Ke(!!s,49232),Ne.fromTimestamp((function(n){const a=Ia(n);return new ot(a.seconds,a.nanos)})(s))}function ix(s,e){return ag(s,e).canonicalString()}function ag(s,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function qN(s){const e=at.fromString(s);return Ke(KN(e),10190,{key:e.toString()}),e}function ig(s,e){return ix(s.databaseId,e.path)}function Dp(s,e){const n=qN(e);if(n.get(1)!==s.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(GN(n))}function HN(s,e){return ix(s.databaseId,e)}function a6(s){const e=qN(s);return e.length===4?at.emptyPath():GN(e)}function lg(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GN(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function I1(s,e,n){return{name:ig(s,e),fields:n.value.mapValue.fields}}function i6(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:_e(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(x,v){return x.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(x){const v=x.code===void 0?ne.UNKNOWN:UN(x.code);return new he(v,x.message||"")})(d);n=new BN(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Dp(s,a.document.name),u=Ws(a.document.updateTime),d=a.document.createTime?Ws(a.document.createTime):Ne.min(),p=new Nn({mapValue:{fields:a.document.fields}}),g=sn.newFoundDocument(o,u,d,p),x=a.targetIds||[],v=a.removedTargetIds||[];n=new ah(x,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Dp(s,a.document),u=a.readTime?Ws(a.readTime):Ne.min(),d=sn.newNoDocument(o,u),p=a.removedTargetIds||[];n=new ah([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Dp(s,a.document),u=a.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new Q3(o,u),p=a.targetId;n=new zN(p,d)}}return n}function l6(s,e){let n;if(e instanceof au)n={update:I1(s,e.key,e.value)};else if(e instanceof VN)n={delete:ig(s,e.key)};else if(e instanceof Ua)n={update:I1(s,e.key,e.data),updateMask:g6(e.fieldMask)};else{if(!(e instanceof $3))return _e(16599,{dt:e.type});n={verify:ig(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const p=d.transform;if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:r6(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(s,e.precondition)),n}function o6(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(o,u){let d=o.updateTime?Ws(o.updateTime):Ws(u);return d.isEqual(Ne.min())&&(d=Ws(u)),new q3(d,o.transformResults||[])})(n,e)))):[]}function c6(s,e){return{documents:[HN(s,e.path)]}}function u6(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=HN(s,o);const u=(function(x){if(x.length!==0)return YN(Ns.create(x,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(x){if(x.length!==0)return x.map((v=>(function(A){return{field:Ml(A.field),direction:f6(A.dir)}})(v)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=rg(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:n,parent:o}}function d6(s){let e=a6(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(w){const A=$N(w);return A instanceof Ns&&_N(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((A=>(function(H){return new Hc(Ol(H.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let A;return A=typeof w=="object"?w.value:w,Qh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(w){const A=!!w.before,O=w.values||[];return new Eh(O,A)})(n.startAt));let x=null;return n.endAt&&(x=(function(w){const A=!w.before,O=w.values||[];return new Eh(O,A)})(n.endAt)),S3(e,o,d,u,p,"F",g,x)}function h6(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $N(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ol(n.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ol(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ol(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ol(n.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return kt.create(Ol(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((a=>$N(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function f6(s){return e6[s]}function m6(s){return t6[s]}function p6(s){return n6[s]}function Ml(s){return{fieldPath:s.canonicalString()}}function Ol(s){return Wt.fromServerFormat(s.fieldPath)}function YN(s){return s instanceof kt?(function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NAN"}};if(x1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NAN"}};if(x1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(n.field),op:m6(n.op),value:n.value}}})(s):s instanceof Ns?(function(n){const a=n.getFilters().map((o=>YN(o)));return a.length===1?a[0]:{compositeFilter:{op:p6(n.op),filters:a}}})(s):_e(54877,{filter:s})}function g6(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KN(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function QN(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class wa{constructor(e,n,a,o,u=Ne.min(),d=Ne.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x6{constructor(e){this.yt=e}}function y6(s){const e=d6({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Th(e,e.limit,"L"):e}class v6{constructor(){this.Sn=new b6}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ra.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class b6{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Vt(at.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(at.comparator)).toArray()}}const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XN=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(XN,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xl(0)}static ar(){return new Xl(-1)}}const k1="LruGarbageCollector",_6=1048576;function M1([s,e],[n,a]){const o=Ve(s,n);return o===0?Ve(e,a):o}class w6{constructor(e){this.Pr=e,this.buffer=new Vt(M1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();M1(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N6{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(k1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?fe(k1,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Ar(3e5)}))}}class E6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Kh.ce);const a=new w6(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(D1)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,d,p,g,x;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(x=Date.now(),Dl()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(x-g)+`ms
Total Duration: ${x-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function T6(s,e){return new E6(s,e)}class j6{constructor(){this.changes=new Ui((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class S6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class A6{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Mc(a.mutation,o,On.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ue()){const o=Ni();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let d=Tc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Ni();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ue())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,a,o){let u=kr();const d=kc(),p=(function(){return kc()})();return n.forEach(((g,x)=>{const v=a.get(x.key);o.has(x.key)&&(v===void 0||v.mutation instanceof Ua)?u=u.insert(x.key,x):v!==void 0?(d.set(x.key,v.mutation.getFieldMask()),Mc(v.mutation,x,v.mutation.getFieldMask(),ot.now())):d.set(x.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((x,v)=>d.set(x,v))),n.forEach(((x,v)=>p.set(x,new S6(v,d.get(x)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=kc();let o=new ft(((d,p)=>d-p)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const x=n.get(g);if(x===null)return;let v=a.get(g)||On.empty();v=p.applyToLocalView(x,v),a.set(g,v);const w=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),x=g.key,v=g.value,w=RN();v.forEach((A=>{if(!u.has(A)){const O=PN(n.get(A),a.get(A));O!==null&&w.set(A,O),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,x,w))}return re.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return A3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve(Ni());let p=zc,g=u;return d.next((x=>re.forEach(x,((v,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{g=g.insert(v,A)}))))).next((()=>this.populateOverlays(e,x,u))).next((()=>this.computeViews(e,g,x,Ue()))).next((v=>({batchId:p,changes:CN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((a=>{let o=Tc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Tc();return this.indexManager.getCollectionParents(e,u).next((p=>re.forEach(p,(g=>{const x=(function(w,A){return new lo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,x,a,o).next((v=>{v.forEach(((w,A)=>{d=d.insert(w,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((d=>{u.forEach(((g,x)=>{const v=x.getKey();d.get(v)===null&&(d=d.insert(v,sn.newInvalidDocument(v)))}));let p=Tc();return d.forEach(((g,x)=>{const v=u.get(g);v!==void 0&&Mc(v.mutation,x,On.empty(),ot.now()),Zh(n,x)&&(p=p.insert(g,x))})),p}))}}class C6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ws(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:y6(o.bundledQuery),readTime:Ws(o.readTime)}})(n)),re.resolve()}}class R6{constructor(){this.overlays=new ft(ye.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ni();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=Ni(),u=n.length+1,d=new ye(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,x=g.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ft(((x,v)=>x-v));const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>a){let v=u.get(x.largestBatchId);v===null&&(v=Ni(),u=u.insert(x.largestBatchId,v)),v.set(x.getKey(),x)}}const p=Ni(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((x,v)=>p.set(x,v))),!(p.size()>=o)););return re.resolve(p)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new K3(n,a));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}class I6{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class lx{constructor(){this.kr=new Vt(Ft.Kr),this.qr=new Vt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Ft(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new ye(new at([])),a=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new at([])),a=new Ft(n,e),o=new Ft(n,e+1);let u=Ue();return this.qr.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ft(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class D6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Ft.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Y3(u,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Jg:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Vt(Ve);return n.forEach((o=>{const u=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{a=a.add(p.Hr)}))})),re.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const d=new Ft(new ye(u),0);let p=new Vt(Ve);return this.Jr.forEachWhile((g=>{const x=g.key.path;return!!a.isPrefixOf(x)&&(x.length===o&&(p=p.add(g.Hr)),!0)}),d),re.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return re.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Ft(n,0),o=this.Jr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class k6{constructor(e){this.ti=e,this.docs=(function(){return new ft(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=kr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=kr();const d=n.path,p=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:x,value:{document:v}}=g.getNext();if(!d.isPrefixOf(x.path))break;x.path.length>d.length+1||r3(s3(v),a)<=0||(o.has(v.key)||Zh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){_e(9500)}ni(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new M6(this)}getSize(e){return re.resolve(this.size)}}class M6 extends j6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class O6{constructor(e){this.persistence=e,this.ri=new Ui((n=>tx(n)),nx),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new lx,this.targetCount=0,this.oi=Xl._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),re.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class WN{constructor(e,n){this._i={},this.overlays={},this.ai=new Kh(0),this.ui=!1,this.ui=!0,this.ci=new I6,this.referenceDelegate=e(this),this.li=new O6(this),this.indexManager=new v6,this.remoteDocumentCache=(function(o){return new k6(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new x6(n),this.Pi=new C6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new D6(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){fe("MemoryPersistence","Starting transaction:",e);const o=new P6(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return re.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class P6 extends i3{constructor(e){super(),this.currentSequenceNumber=e}}class ox{constructor(e){this.persistence=e,this.Ri=new lx,this.Ai=null}static Vi(e){return new ox(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(a=>{const o=ye.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.fi=new Ui((a=>c3(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=T6(this,n)}static Vi(e,n){return new Ah(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(a++,u.removeEntry(d,Ne.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}wr(e,n,a){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cx{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cx(e,n.fromCache,a,o)}}class L6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return kS()?8:l3(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new L6;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(Dl()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Dl()<=Le.DEBUG&&fe("QueryEngine","Query:",kl(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Dl()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(n))):re.resolve())}gs(e,n){if(w1(n))return re.resolve(null);let a=Qs(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Th(n,null,"F"),a=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Ue(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const x=this.bs(n,p);return this.Ss(n,x,d,g.readTime)?this.gs(e,Th(n,null,"F")):this.Ds(e,x,n,g)}))))})))))}ps(e,n,a,o){return w1(n)||o.isEqual(Ne.min())?re.resolve(null):this.fs.getDocuments(e,a).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,a,o)?re.resolve(null):(Dl()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),kl(n)),this.Ds(e,d,n,n3(o,zc)).next((p=>p)))}))}bs(e,n){let a=new Vt(SN(e));return n.forEach(((o,u)=>{Zh(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return Dl()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",kl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ra.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ux="LocalStore",U6=3e8;class z6{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ve),this.Fs=new Ui((u=>tx(u)),nx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function B6(s,e,n,a){return new z6(s,e,n,a)}async function JN(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],p=[];let g=Ue();for(const x of o){d.push(x.batchId);for(const v of x.mutations)g=g.add(v.key)}for(const x of u){p.push(x.batchId);for(const v of x.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(a,g).next((x=>({Ns:x,removedBatchIds:d,addedBatchIds:p})))}))}))}function F6(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,x,v){const w=x.batch,A=w.keys();let O=re.resolve();return A.forEach((H=>{O=O.next((()=>v.getEntry(g,H))).next((M=>{const D=x.docVersions.get(H);Ke(D!==null,48541),M.version.compareTo(D)<0&&(w.applyToRemoteDocument(M,x),M.isValidDocument()&&(M.setReadTime(x.commitVersion),v.addEntry(M)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Ue();for(let x=0;x<p.mutationResults.length;++x)p.mutationResults[x].transformResults.length>0&&(g=g.add(p.batch.mutations[x].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function ZN(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function q6(s,e){const n=Te(s),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((v,w)=>{const A=o.get(w);if(!A)return;p.push(n.li.removeMatchingKeys(u,v.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,w))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,a)),o=o.insert(w,O),(function(M,D,z){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=U6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(A,O,v)&&p.push(n.li.updateTargetData(u,O))}));let g=kr(),x=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),p.push(H6(u,d,e.documentUpdates).next((v=>{g=v.Bs,x=v.Ls}))),!a.isEqual(Ne.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(v)}return re.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,x))).next((()=>g))})).then((u=>(n.vs=o,u)))}function H6(s,e,n){let a=Ue(),o=Ue();return n.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let d=kr();return n.forEach(((p,g)=>{const x=u.get(p);g.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!x.isValidDocument()||g.version.compareTo(x.version)>0||g.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):fe(ux,"Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function G6(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function $6(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,re.resolve(o)):n.li.allocateTargetId(a).next((d=>(o=new wa(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function og(s,e,n){const a=Te(s),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!io(d))throw d;fe(ux,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function O1(s,e,n){const a=Te(s);let o=Ne.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,x,v){const w=Te(g),A=w.Fs.get(v);return A!==void 0?re.resolve(w.vs.get(A)):w.li.getTargetData(x,v)})(a,d,Qs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,n?o:Ne.min(),n?u:Ue()))).next((p=>(Y6(a,I3(e),p),{documents:p,ks:u})))))}function Y6(s,e,n){let a=s.Ms.get(e)||Ne.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Ms.set(e,a)}class P1{constructor(){this.activeTargetIds=L3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K6{constructor(){this.vo=new P1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new P1,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q6{Mo(e){}shutdown(){}}const L1="ConnectivityMonitor";class V1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(L1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(L1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $d=null;function cg(){return $d===null?$d=(function(){return 268435456+Math.round(2147483648*Math.random())})():$d++,"0x"+$d.toString(16)}const kp="RestConnection",X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class W6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===wh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const d=cg(),p=this.Qo(e,n.toUriEncodedString());fe(kp,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:x}=new URL(p),v=Pi(x);return this.zo(e,p,g,a,v).then((w=>(fe(kp,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw $l(kp,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(e,n,a,o,u,d){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=X6[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class J6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",bc=(s,e,n)=>{s.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ql extends W6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ql.c_){const e=sN();bc(e,nN.STAT_EVENT,(n=>{n.stat===Wp.PROXY?fe(en,"STAT_EVENT: detected buffering proxy"):n.stat===Wp.NOPROXY&&fe(en,"STAT_EVENT: detected no buffering proxy")})),ql.c_=!0}}zo(e,n,a,o,u){const d=cg();return new Promise(((p,g)=>{const x=new eN;x.setWithCredentials(!0),x.listenOnce(tN.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case th.NO_ERROR:const w=x.getResponseJson();fe(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case th.TIMEOUT:fe(en,`RPC '${e}' ${d} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const A=x.getStatus();if(fe(en,`RPC '${e}' ${d} failed with status:`,A,"response text:",x.getResponseText()),A>0){let O=x.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O?.error;if(H&&H.status&&H.message){const M=(function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN})(H.status);g(new he(M,H.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+x.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{fe(en,`RPC '${e}' ${d} completed.`)}}));const v=JSON.stringify(o);fe(en,`RPC '${e}' ${d} sending request:`,o),x.send(n,"POST",v,a,15)}))}T_(e,n,a){const o=cg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const x=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${x}`,p);const v=d.createWebChannel(x,p);this.I_(v);let w=!1,A=!1;const O=new J6({Ho:H=>{A?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),v.open(),w=!0),fe(en,`RPC '${e}' stream ${o} sending:`,H),v.send(H))},Jo:()=>v.close()});return bc(v,Ec.EventType.OPEN,(()=>{A||(fe(en,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),bc(v,Ec.EventType.CLOSE,(()=>{A||(A=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(v))})),bc(v,Ec.EventType.ERROR,(H=>{A||(A=!0,$l(en,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),O.o_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),bc(v,Ec.EventType.MESSAGE,(H=>{if(!A){const M=H.data[0];Ke(!!M,16349);const D=M,z=D?.error||D[0]?.error;if(z){fe(en,`RPC '${e}' stream ${o} received error:`,z);const G=z.status;let L=(function(oe){const S=Dt[oe];if(S!==void 0)return UN(S)})(G),ae=z.message;L===void 0&&(L=ne.INTERNAL,ae="Unknown error status: "+G+" with message "+z.message),A=!0,O.o_(new he(L,ae)),v.close()}else fe(en,`RPC '${e}' stream ${o} received:`,M),O.__(M)}})),ql.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rN()}}function Z6(s){return new ql(s)}function Mp(){return typeof document<"u"?document:null}function sf(s){return new s6(s,!0)}ql.c_=!1;class e2{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const U1="PersistentStream";class t2{constructor(e,n,a,o,u,d,p,g){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(U1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(U1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends t2{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i6(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ne.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Ws(d.readTime):Ne.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=lg(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=ng(g)?{documents:c6(u,g)}:{query:u6(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FN(u,d.resumeToken);const x=rg(u,d.expectedCount);x!==null&&(p.expectedCount=x)}else if(d.snapshotVersion.compareTo(Ne.min())>0){p.readTime=Sh(u,d.snapshotVersion.toTimestamp());const x=rg(u,d.expectedCount);x!==null&&(p.expectedCount=x)}return p})(this.serializer,e);const a=h6(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.K_(n)}}class tD extends t2{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o6(e.writeResults,e.commitTime),a=Ws(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=lg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>l6(this.serializer,a)))};this.K_(n)}}class nD{}class sD extends nD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,ag(n,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ag(n,a),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rD(s,e,n,a){return new sD(s,e,n,a)}class aD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ii="RemoteStore";class iD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{zi(this)&&(fe(Ii,"Restarting streams for network reachability change."),await(async function(g){const x=Te(g);x.Ea.add(4),await lu(x),x.Va.set("Unknown"),x.Ea.delete(4),await rf(x)})(this))}))})),this.Va=new aD(a,o)}}async function rf(s){if(zi(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function n2(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mx(n)?fx(n):oo(n).O_()&&hx(n,e))}function dx(s,e){const n=Te(s),a=oo(n);n.Ia.delete(e),a.O_()&&s2(n,e),n.Ia.size===0&&(a.O_()?a.L_():zi(n)&&n.Va.set("Unknown"))}function hx(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(s).Z_(e)}function s2(s,e){s.da.$e(e),oo(s).X_(e)}function fx(s){s.da=new Z3({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Va.ua()}function mx(s){return zi(s)&&!oo(s).x_()&&s.Ia.size>0}function zi(s){return Te(s).Ea.size===0}function r2(s){s.da=void 0}async function lD(s){s.Va.set("Online")}async function oD(s){s.Ia.forEach(((e,n)=>{hx(s,e)}))}async function cD(s,e){r2(s),mx(s)?(s.Va.ha(e),fx(s)):s.Va.set("Unknown")}async function uD(s,e,n){if(s.Va.set("Online"),e instanceof BN&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(a){fe(Ii,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ch(s,a)}else if(e instanceof ah?s.da.Xe(e):e instanceof zN?s.da.st(e):s.da.tt(e),!n.isEqual(Ne.min()))try{const a=await ZN(s.localStore);n.compareTo(a)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,x)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(x);v&&u.Ia.set(x,v.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,x)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),s2(u,g);const w=new wa(v.target,g,x,v.sequenceNumber);hx(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(a){fe(Ii,"Failed to raise snapshot:",a),await Ch(s,a)}}async function Ch(s,e,n){if(!io(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),n||(n=()=>ZN(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Ii,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await rf(s)}))}function a2(s,e){return e().catch((n=>Ch(s,n,e)))}async function af(s){const e=Te(s),n=Ma(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;dD(e);)try{const o=await G6(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,hD(e,o)}catch(o){await Ch(e,o)}i2(e)&&l2(e)}function dD(s){return zi(s)&&s.Ta.length<10}function hD(s,e){s.Ta.push(e);const n=Ma(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function i2(s){return zi(s)&&!Ma(s).x_()&&s.Ta.length>0}function l2(s){Ma(s).start()}async function fD(s){Ma(s).ra()}async function mD(s){const e=Ma(s);for(const n of s.Ta)e.ea(n.mutations)}async function pD(s,e,n){const a=s.Ta.shift(),o=rx.from(a,e,n);await a2(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await af(s)}async function gD(s,e){e&&Ma(s).Y_&&await(async function(a,o){if((function(d){return X3(d)&&d!==ne.ABORTED})(o.code)){const u=a.Ta.shift();Ma(a).B_(),await a2(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(a)}})(s,e),i2(s)&&l2(s)}async function z1(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),fe(Ii,"RemoteStore received new credentials");const a=zi(n);n.Ea.add(3),await lu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function xD(s,e){const n=Te(s);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await lu(n),n.Va.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(n,a,o){const u=Te(n);return u.sa(),new eD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:lD.bind(null,s),Yo:oD.bind(null,s),t_:cD.bind(null,s),J_:uD.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),mx(s)?fx(s):s.Va.set("Unknown")):(await s.ma.stop(),r2(s))}))),s.ma}function Ma(s){return s.fa||(s.fa=(function(n,a,o){const u=Te(n);return u.sa(),new tD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fD.bind(null,s),t_:gD.bind(null,s),ta:mD.bind(null,s),na:pD.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await af(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Ii,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class px{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,p=new px(e,n,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gx(s,e){if(Dr("AsyncQueue",`${e}: ${s}`),io(s))return new he(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Tc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class B1{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Wl{constructor(e,n,a,o,u,d,p,g,x){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=x}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Wl(e,n,Hl.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class vD{constructor(){this.queries=F1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Te(n),u=o.queries;o.queries=F1(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(a)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function F1(){return new Ui((s=>jN(s)),Jh)}async function xx(s,e){const n=Te(s);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new yD,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=gx(d,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&vx(n)}async function yx(s,e){const n=Te(s),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function bD(s,e){const n=Te(s);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&vx(n)}function _D(s,e,n){const a=Te(s),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function vx(s){s.Ca.forEach((e=>{e.next()}))}var ug,q1;(q1=ug||(ug={})).Ma="default",q1.Cache="cache";class bx{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Wl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ug.Cache}}class o2{constructor(e){this.key=e}}class c2{constructor(e){this.key=e}}class wD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=SN(e),this.tu=new Hl(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new B1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const A=o.get(v),O=Zh(this.query,w)?w:null,H=!!A&&this.mutatedKeys.has(A.key),M=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let D=!1;A&&O?A.data.isEqual(O.data)?H!==M&&(a.track({type:3,doc:O}),D=!0):this.su(A,O)||(a.track({type:2,doc:O}),D=!0,(g&&this.eu(O,g)>0||x&&this.eu(O,x)<0)&&(p=!0)):!A&&O?(a.track({type:0,doc:O}),D=!0):A&&!O&&(a.track({type:1,doc:A}),D=!0,(g||x)&&(p=!0)),D&&(O?(d=d.add(O),u=M?u.add(v):u.delete(v)):(d=d.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:d,iu:a,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((v,w)=>(function(O,H){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:D})}};return M(O)-M(H)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(a),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,x=g!==this.Xa;return this.Xa=g,d.length!==0||x?{snapshot:new Wl(this.query,e.tu,u,d,e.mutatedKeys,g===0,x,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new c2(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new o2(a))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _x="SyncEngine";class ND{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class ED{constructor(e){this.key=e,this.hu=!1}}class TD{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ui((p=>jN(p)),Jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ye.comparator),this.Au=new Map,this.Vu=new lx,this.du={},this.mu=new Map,this.fu=Xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jD(s,e,n=!0){const a=p2(s);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await u2(a,e,n,!0),o}async function SD(s,e){const n=p2(s);await u2(n,e,!0,!1)}async function u2(s,e,n,a){const o=await $6(s.localStore,Qs(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await AD(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&n2(s.remoteStore,o),p}async function AD(s,e,n,a,o){s.pu=(w,A,O)=>(async function(M,D,z,G){let L=D.view.ru(z);L.Ss&&(L=await O1(M.localStore,D.query,!1).then((({documents:S})=>D.view.ru(S,L))));const ae=G&&G.targetChanges.get(D.targetId),ie=G&&G.targetMismatches.get(D.targetId)!=null,oe=D.view.applyChanges(L,M.isPrimaryClient,ae,ie);return G1(M,D.targetId,oe.au),oe.snapshot})(s,w,A,O);const u=await O1(s.localStore,e,!0),d=new wD(e,u.ks),p=d.ru(u.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),x=d.applyChanges(p,s.isPrimaryClient,g);G1(s,n,x.au);const v=new ND(e,n,d);return s.Tu.set(e,v),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),x.snapshot}async function CD(s,e,n){const a=Te(s),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!Jh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await og(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&dx(a.remoteStore,o.targetId),dg(a,o.targetId)})).catch(ao)):(dg(a,o.targetId),await og(a.localStore,o.targetId,!0))}async function RD(s,e){const n=Te(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),dx(n.remoteStore,a.targetId))}async function ID(s,e,n){const a=VD(s);try{const o=await(function(d,p){const g=Te(d),x=ot.now(),v=p.reduce(((O,H)=>O.add(H.key)),Ue());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let H=kr(),M=Ue();return g.xs.getEntries(O,v).next((D=>{H=D,H.forEach(((z,G)=>{G.isValidDocument()||(M=M.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,H))).next((D=>{w=D;const z=[];for(const G of p){const L=G3(G,w.get(G.key).overlayedDocument);L!=null&&z.push(new Ua(G.key,L,yN(L.value.mapValue),Xs.exists(!0)))}return g.mutationQueue.addMutationBatch(O,x,z,p)})).next((D=>{A=D;const z=D.applyToLocalDocumentSet(w,M);return g.documentOverlayCache.saveOverlays(O,D.batchId,z)}))})).then((()=>({batchId:A.batchId,changes:CN(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let x=d.du[d.currentUser.toKey()];x||(x=new ft(Ve)),x=x.insert(p,g),d.du[d.currentUser.toKey()]=x})(a,o.batchId,n),await ou(a,o.changes),await af(a.remoteStore)}catch(o){const u=gx(o,"Failed to persist write");n.reject(u)}}async function d2(s,e){const n=Te(s);try{const a=await q6(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await ou(n,a,e)}catch(a){await ao(a)}}function H1(s,e,n){const a=Te(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Te(d);g.onlineState=p;let x=!1;g.queries.forEach(((v,w)=>{for(const A of w.ba)A.va(p)&&(x=!0)})),x&&vx(g)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DD(s,e,n){const a=Te(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new ft(ye.comparator);d=d.insert(u,sn.newNoDocument(u,Ne.min()));const p=Ue().add(u),g=new nf(Ne.min(),new Map,new ft(Ve),d,p);await d2(a,g),a.Ru=a.Ru.remove(u),a.Au.delete(e),wx(a)}else await og(a.localStore,e,!1).then((()=>dg(a,e,n))).catch(ao)}async function kD(s,e){const n=Te(s),a=e.batch.batchId;try{const o=await F6(n.localStore,e);f2(n,a,null),h2(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ou(n,o)}catch(o){await ao(o)}}async function MD(s,e,n){const a=Te(s);try{const o=await(function(d,p){const g=Te(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let v;return g.mutationQueue.lookupMutationBatch(x,p).next((w=>(Ke(w!==null,37113),v=w.keys(),g.mutationQueue.removeMutationBatch(x,w)))).next((()=>g.mutationQueue.performConsistencyCheck(x))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(x,v,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,v))).next((()=>g.localDocuments.getDocuments(x,v)))}))})(a.localStore,e);f2(a,e,n),h2(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ou(a,o)}catch(o){await ao(o)}}function h2(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function f2(s,e,n){const a=Te(s);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function dg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||m2(s,a)}))}function m2(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(dx(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),wx(s))}function G1(s,e,n){for(const a of n)a instanceof o2?(s.Vu.addReference(a.key,e),OD(s,a)):a instanceof c2?(fe(_x,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||m2(s,a.key)):_e(19791,{wu:a})}function OD(s,e){const n=e.key,a=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(a)||(fe(_x,"New document in limbo: "+n),s.Eu.add(a),wx(s))}function wx(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(at.fromString(e)),a=s.fu.next();s.Au.set(a,new ED(n)),s.Ru=s.Ru.insert(n,a),n2(s.remoteStore,new wa(Qs(Wh(n.path)),a,"TargetPurposeLimboResolution",Kh.ce))}}async function ou(s,e,n){const a=Te(s),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{d.push(a.pu(g,e,n).then((x=>{if((x||n)&&a.isPrimaryClient){const v=x?!x.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(x){o.push(x);const v=cx.Es(g.targetId,x);u.push(v)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(g,x){const v=Te(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>re.forEach(x,(A=>re.forEach(A.Ts,(O=>v.persistence.referenceDelegate.addReference(w,A.targetId,O))).next((()=>re.forEach(A.Is,(O=>v.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))))))}catch(w){if(!io(w))throw w;fe(ux,"Failed to update sequence numbers: "+w)}for(const w of x){const A=w.targetId;if(!w.fromCache){const O=v.vs.get(A),H=O.snapshotVersion,M=O.withLastLimboFreeSnapshotVersion(H);v.vs=v.vs.insert(A,M)}}})(a.localStore,u))}async function PD(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){fe(_x,"User change. New user:",e.toKey());const a=await JN(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ne.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(n,a.Ns)}}function LD(s,e){const n=Te(s),a=n.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function p2(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=d2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Pu.J_=bD.bind(null,e.eventManager),e.Pu.yu=_D.bind(null,e.eventManager),e}function VD(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B6(this.persistence,new V6,e.initialUser,this.serializer)}Cu(e){return new WN(ox.Vi,this.serializer)}Du(e){return new K6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class UD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new N6(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new WN((a=>Ah.Vi(a,n)),this.serializer)}}class hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),a=Z6(e.databaseInfo);return rD(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,d,p){return new iD(a,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>H1(this.syncEngine,n,0)),(function(){return V1.v()?new V1:new Q6})())}createSyncEngine(e,n){return(function(o,u,d,p,g,x,v){const w=new TD(o,u,d,p,g,x);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Te(n);fe(Ii,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hg.provider={build:()=>new hg};class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Oa="FirestoreClient";class zD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{fe(Oa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(fe(Oa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=gx(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Op(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Oa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await JN(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function $1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await BD(s);fe(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>z1(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>z1(e.remoteStore,o))),s._onlineComponents=e}async function BD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Oa,"Using user provided OfflineComponentProvider");try{await Op(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$l("Error using user provided cache. Falling back to memory cache: "+n),await Op(s,new Rh)}}else fe(Oa,"Using default OfflineComponentProvider"),await Op(s,new UD(void 0));return s._offlineComponents}async function g2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Oa,"Using user provided OnlineComponentProvider"),await $1(s,s._uninitializedComponentsProvider._online)):(fe(Oa,"Using default OnlineComponentProvider"),await $1(s,new hg))),s._onlineComponents}function FD(s){return g2(s).then((e=>e.syncEngine))}async function Ih(s){const e=await g2(s),n=e.eventManager;return n.onListen=jD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RD.bind(null,e.syncEngine),n}function qD(s,e,n,a){const o=new Nx(a),u=new bx(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>xx(await Ih(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>yx(await Ih(s),u)))}}function HD(s,e,n={}){const a=new Sr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,x){const v=new Nx({next:A=>{v.Nu(),d.enqueueAndForget((()=>yx(u,w)));const O=A.docs.has(p);!O&&A.fromCache?x.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?x.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(A)},error:A=>x.reject(A)}),w=new bx(Wh(p.path),v,{includeMetadataChanges:!0,Ka:!0});return xx(u,w)})(await Ih(s),s.asyncQueue,e,n,a))),a.promise}function GD(s,e,n={}){const a=new Sr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,x){const v=new Nx({next:A=>{v.Nu(),d.enqueueAndForget((()=>yx(u,w))),A.fromCache&&g.source==="server"?x.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(A)},error:A=>x.reject(A)}),w=new bx(p,v,{includeMetadataChanges:!0,Ka:!0});return xx(u,w)})(await Ih(s),s.asyncQueue,e,n,a))),a.promise}function $D(s,e){const n=new Sr;return s.asyncQueue.enqueueAndForget((async()=>ID(await FD(s),e,n))),n.promise}function x2(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const YD="ComponentProvider",Y1=new Map;function KD(s,e,n,a,o){return new h3(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,x2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const y2="firestore.googleapis.com",K1=!0;class Q1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y2,this.ssl=K1}else this.host=e.host,this.ssl=e.ssl??K1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_6)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x2(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HI;switch(a.type){case"firstParty":return new KI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Y1.get(n);a&&(fe(YD,"Removing Datastore"),Y1.delete(n),a.terminate())})(this),Promise.resolve()}}function QD(s,e,n,a={}){s=Jn(s,lf);const o=Pi(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(Ig(`https://${p}`),Dg("Firestore",!0)),u.host!==y2&&u.host!==p&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:a};if(!Ca(g,d)&&(s._setSettings(g),a.mockUserToken)){let x,v;if(typeof a.mockUserToken=="string")x=a.mockUserToken,v=nn.MOCK_USER;else{x=q_(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(w)}s._authCredentials=new GI(new iN(x,v))}}class Lr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class gt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(ru(n,gt._jsonSchema))return new gt(e,a||null,new ye(at.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Mt("string",gt._jsonSchemaVersion),referencePath:Mt("string")};class Sa extends Lr{constructor(e,n,a){super(e,n,Wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ye(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function bi(s,e,...n){if(s=ht(s),lN("collection","path",e),s instanceof lf){const a=at.fromString(e,...n);return o1(a),new Sa(s,null,a)}{if(!(s instanceof gt||s instanceof Sa))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(at.fromString(e,...n));return o1(a),new Sa(s.firestore,null,a)}}function xs(s,e,...n){if(s=ht(s),arguments.length===1&&(e=Wg.newId()),lN("doc","path",e),s instanceof lf){const a=at.fromString(e,...n);return l1(a),new gt(s,null,new ye(a))}{if(!(s instanceof gt||s instanceof Sa))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(at.fromString(e,...n));return l1(a),new gt(s.firestore,s instanceof Sa?s.converter:null,new ye(a))}}const X1="AsyncQueue";class W1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e2(this,"async_queue_retry"),this._c=()=>{const a=Mp();a&&fe(X1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;fe(X1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",J1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=px.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:J1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Di extends lf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new W1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W1(e),this._firestoreClient=void 0,await e}}}function XD(s,e){const n=typeof s=="object"?s:Bh(),a=typeof s=="string"?s:wh,o=La(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=z_("firestore");u&&QD(o,...u)}return o}function of(s){if(s._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||WD(s),s._firestoreClient}function WD(s){const e=s._freezeSettings(),n=KD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(Jt.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Mt("string",Wn._jsonSchemaVersion),bytes:Mt("string")};class Ex{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cf{constructor(e){this._methodName=e}}class Js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:Mt("string",Js._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class _s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _s(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Mt("string",_s._jsonSchemaVersion),vectorValues:Mt("object")};const JD=/^__.*__$/;class ZD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class v2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Tx{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(b2(this.dataSource)&&JD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ek{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||sf(e)}createContext(e,n,a,o=!1){return new Tx({dataSource:e,methodName:n,targetDoc:a,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jx(s){const e=s._freezeSettings(),n=sf(s._databaseId);return new ek(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tk(s,e,n,a,o,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ax("Data must be an object, but it was:",d,a);const p=_2(a,d);let g,x;if(u.merge)g=new On(d.fieldMask),x=d.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const A=ki(e,w,n);if(!d.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);E2(v,A)||v.push(A)}g=new On(v),x=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,x=d.fieldTransforms;return new ZD(new Nn(p),g,x)}class uf extends cf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}class Sx extends cf{_toFieldTransform(e){return new B3(e.path,new Gc)}isEqual(e){return e instanceof Sx}}function nk(s,e,n,a){const o=s.createContext(1,e,n);Ax("Data must be an object, but it was:",o,a);const u=[],d=Nn.empty();Va(a,((g,x)=>{const v=N2(e,g,n);x=ht(x);const w=o.childContextForFieldPath(v);if(x instanceof uf)u.push(v);else{const A=cu(x,w);A!=null&&(u.push(v),d.set(v,A))}}));const p=new On(u);return new v2(d,p,o.fieldTransforms)}function sk(s,e,n,a,o,u){const d=s.createContext(1,e,n),p=[ki(e,a,n)],g=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(ki(e,u[A])),g.push(u[A+1]);const x=[],v=Nn.empty();for(let A=p.length-1;A>=0;--A)if(!E2(x,p[A])){const O=p[A];let H=g[A];H=ht(H);const M=d.childContextForFieldPath(O);if(H instanceof uf)x.push(O);else{const D=cu(H,M);D!=null&&(x.push(O),v.set(O,D))}}const w=new On(x);return new v2(v,w,d.fieldTransforms)}function rk(s,e,n,a=!1){return cu(n,s.createContext(a?4:3,e))}function cu(s,e){if(w2(s=ht(s)))return Ax("Unsupported field value:",e,s),_2(s,e);if(s instanceof cf)return(function(a,o){if(!b2(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const u=[];let d=0;for(const p of a){let g=cu(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(a,o){if((a=ht(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return V3(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ot.fromDate(a);return{timestampValue:Sh(o.serializer,u)}}if(a instanceof ot){const u=new ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(a instanceof Js)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:FN(o.serializer,a._byteString)};if(a instanceof gt){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ix(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof _s)return(function(d,p){const g=d instanceof _s?d.toArray():d;return{mapValue:{fields:{[gN]:{stringValue:xN},[Nh]:{arrayValue:{values:g.map((v=>{if(typeof v!="number")throw p.createError("VectorValues must only contain numeric values.");return sx(p.serializer,v)}))}}}}}})(a,o);if(QN(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Yh(a)}`)})(s,e)}function _2(s,e){const n={};return uN(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(s,((a,o)=>{const u=cu(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function w2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Js||s instanceof Wn||s instanceof gt||s instanceof cf||s instanceof _s||QN(s))}function Ax(s,e,n){if(!w2(n)||!oN(n)){const a=Yh(n);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function ki(s,e,n){if((e=ht(e))instanceof Ex)return e._internalPath;if(typeof e=="string")return N2(s,e);throw Dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const ak=new RegExp("[~\\*/\\[\\]]");function N2(s,e,n){if(e.search(ak)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ex(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Dh(s,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,p+s+g)}function E2(s,e){return s.some((n=>n.isEqual(e)))}class ik{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Va(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new _s(n)}convertGeoPoint(e){return new Js(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=Ia(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=at.fromString(e);Ke(KN(a),9688,{name:e});const o=new Fc(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(n)||Dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Cx extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Na(){return new Sx("serverTimestamp")}const Z1="@firebase/firestore",e_="4.10.0";function t_(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class T2{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ki("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lk extends T2{data(){return super.data()}}function j2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rx{}class Ix extends Rx{}function Pl(s,e,...n){let a=[];e instanceof Rx&&a.push(e),a=a.concat(n),(function(u){const d=u.filter((g=>g instanceof Dx)).length,p=u.filter((g=>g instanceof df)).length;if(d>1||d>0&&p>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class df extends Ix{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new df(e,n,a)}_apply(e){const n=this._parse(e);return S2(e._query,n),new Lr(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=jx(e.firestore);return(function(u,d,p,g,x,v,w){let A;if(x.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){s_(w,v);const H=[];for(const M of w)H.push(n_(g,u,M));A={arrayValue:{values:H}}}else A=n_(g,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||s_(w,v),A=rk(p,d,w,v==="in"||v==="not-in");return kt.create(x,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sc(s,e,n){const a=e,o=ki("where",s);return df._create(o,a,n)}class Dx extends Rx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dx(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)S2(d,g),d=sg(d,g)})(e._query,n),new Lr(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kx extends Ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kx(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(u,d)})(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,R3(e._query,n))}}function Ll(s,e="asc"){const n=e,a=ki("orderBy",s);return kx._create(a,n)}class Mx extends Ix{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new Mx(e,n,a)}_apply(e){return new Lr(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function ok(s){return t3("limit",s),Mx._create("limit",s,"F")}function n_(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TN(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(at.fromString(n));if(!ye.isDocumentKey(a))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return g1(s,new ye(a))}if(n instanceof gt)return g1(s,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function s_(s,e){if(!Array.isArray(s)||s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S2(s,e){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ck(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ei extends T2{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ki("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ei._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ei._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ei._jsonSchema={type:Mt("string",Ei._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class ih extends Ei{data(e={}){return super.data(e)}}class Ti{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new ih(this._firestore,this._userDataWriter,a.key,a,new Ac(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,v=-1;return p.type!==0&&(x=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),v=d.indexOf(p.doc.key)),{type:uk(p.type),doc:g,oldIndex:x,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ti._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uk(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}Ti._jsonSchemaVersion="firestore/querySnapshot/1.0",Ti._jsonSchema={type:Mt("string",Ti._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function fg(s){s=Jn(s,gt);const e=Jn(s.firestore,Di),n=of(e);return HD(n,s._key).then((a=>C2(e,s,a)))}function kh(s){s=Jn(s,Lr);const e=Jn(s.firestore,Di),n=of(e),a=new Cx(e);return j2(s._query),GD(n,s._query).then((o=>new Ti(e,a,s,o)))}function mg(s,e,n){s=Jn(s,gt);const a=Jn(s.firestore,Di),o=ck(s.converter,e),u=jx(a);return A2(a,[tk(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Xs.none())])}function Oc(s,e,n,...a){s=Jn(s,gt);const o=Jn(s.firestore,Di),u=jx(o);let d;return d=typeof(e=ht(e))=="string"||e instanceof Ex?sk(u,"updateDoc",s._key,e,n,a):nk(u,"updateDoc",s._key,e),A2(o,[d.toMutation(s._key,Xs.exists(!0))])}function r_(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||t_(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(t_(e[a])){const x=e[a];e[a]=x.next?.bind(x),e[a+1]=x.error?.bind(x),e[a+2]=x.complete?.bind(x)}let u,d,p;if(s instanceof gt)d=Jn(s.firestore,Di),p=Wh(s._key.path),u={next:x=>{e[a]&&e[a](C2(d,s,x))},error:e[a+1],complete:e[a+2]};else{const x=Jn(s,Lr);d=Jn(x.firestore,Di),p=x._query;const v=new Cx(d);u={next:w=>{e[a]&&e[a](new Ti(d,v,x,w))},error:e[a+1],complete:e[a+2]},j2(s._query)}const g=of(d);return qD(g,p,o,u)}function A2(s,e){const n=of(s);return $D(n,e)}function C2(s,e,n){const a=n.docs.get(e._key),o=new Cx(s);return new Ei(s,o,e._key,a,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qI(Vi),ws(new es("firestore",((a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),p=new Di(new $I(a.getProvider("auth-internal")),new QI(d,a.getProvider("app-check-internal")),f3(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Tn(Z1,e_,e),Tn(Z1,e_,"esm2020")})();const R2="firebasestorage.googleapis.com",dk="storageBucket",hk=120*1e3,fk=600*1e3;class nr extends ss{constructor(e,n,a=0){super(Pp(e),`Firebase Storage: ${n} (${Pp(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var er;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(er||(er={}));function Pp(s){return"storage/"+s}function mk(){const s="An unknown error occurred, please check the error payload for server response.";return new nr(er.UNKNOWN,s)}function pk(){return new nr(er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gk(){return new nr(er.CANCELED,"User canceled the upload/download.")}function xk(s){return new nr(er.INVALID_URL,"Invalid URL '"+s+"'.")}function yk(s){return new nr(er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function a_(s){return new nr(er.INVALID_ARGUMENT,s)}function I2(){return new nr(er.APP_DELETED,"The Firebase app was deleted.")}function vk(s){return new nr(er.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=vs.makeFromUrl(e,n)}catch{return new vs(e,"")}if(a.path==="")return a;throw yk(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function x(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${v}/b/${o}/o${A}`,"i"),H={bucket:1,path:3},M=n===R2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",z=new RegExp(`^https?://${M}/${o}/${D}`,"i"),L=[{regex:p,indices:g,postModify:u},{regex:O,indices:H,postModify:x},{regex:z,indices:{bucket:1,path:2},postModify:x}];for(let ae=0;ae<L.length;ae++){const ie=L[ae],oe=ie.regex.exec(e);if(oe){const S=oe[ie.indices.bucket];let T=oe[ie.indices.path];T||(T=""),a=new vs(S,T),ie.postModify(a);break}}if(a==null)throw xk(e);return a}}class bk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _k(s,e,n){let a=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let x=!1;function v(...D){x||(x=!0,e.apply(null,D))}function w(D){o=setTimeout(()=>{o=null,s(O,g())},D)}function A(){u&&clearTimeout(u)}function O(D,...z){if(x){A();return}if(D){A(),v.call(null,D,...z);return}if(g()||d){A(),v.call(null,D,...z);return}a<64&&(a*=2);let L;p===1?(p=2,L=0):L=(a+Math.random())*1e3,w(L)}let H=!1;function M(D){H||(H=!0,A(),!x&&(o!==null?(D||(p=2),clearTimeout(o),w(0)):D||(p=1)))}return w(0),u=setTimeout(()=>{d=!0,M(!0)},n),M}function wk(s){s(!1)}function Nk(s){return s!==void 0}function i_(s,e,n,a){if(a<e)throw a_(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw a_(`Invalid value for '${s}'. Expected ${n} or less.`)}function Ek(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Mh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Mh||(Mh={}));function Tk(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}class jk{constructor(e,n,a,o,u,d,p,g,x,v,w,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=x,this.progressCallback_=v,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,M)=>{this.resolve_=H,this.reject_=M,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Yd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,x=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,x)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Mh.NO_ERROR,g=u.getStatus();if(!p||Tk(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Mh.ABORT;a(!1,new Yd(!1,null,v));return}const x=this.successCodes_.indexOf(g)!==-1;a(!0,new Yd(x,u))})},n=(a,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Nk(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=mk();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?I2():gk();d(g)}else{const g=pk();d(g)}};this.canceled_?n(!1,new Yd(!1,null,!0)):this.backoffId_=_k(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Sk(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function Ak(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ck(s,e){e&&(s["X-Firebase-GMPID"]=e)}function Rk(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Ik(s,e,n,a,o,u,d=!0,p=!1){const g=Ek(s.urlParams),x=s.url+g,v=Object.assign({},s.headers);return Ck(v,e),Sk(v,n),Ak(v,u),Rk(v,a),new jk(x,s.method,v,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}function Dk(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function kk(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Oh{constructor(e,n){this._service=e,n instanceof vs?this._location=n:this._location=vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oh(e,n)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kk(this._location.path)}get storage(){return this._service}get parent(){const e=Dk(this._location.path);if(e===null)return null;const n=new vs(this._location.bucket,e);return new Oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vk(e)}}function l_(s,e){const n=e?.[dk];return n==null?null:vs.makeFromBucketSpec(n,s)}function Mk(s,e,n,a={}){s.host=`${e}:${n}`;const o=Pi(e);o&&(Ig(`https://${s.host}/b`),Dg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(s._overrideAuthToken=typeof u=="string"?u:q_(u,s.app.options.projectId))}class Ok{constructor(e,n,a,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=R2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hk,this._maxUploadRetryTime=fk,this._requests=new Set,o!=null?this._bucket=vs.makeFromBucketSpec(o,this._host):this._bucket=l_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vs.makeFromBucketSpec(this._url,e):this._bucket=l_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oh(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new bk(I2());{const d=Ik(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const o_="@firebase/storage",c_="0.14.0";const D2="storage";function Pk(s=Bh(),e){s=ht(s);const a=La(s,D2).getImmediate({identifier:e}),o=z_("storage");return o&&Lk(a,...o),a}function Lk(s,e,n,a={}){Mk(s,e,n,a)}function Vk(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Ok(n,a,o,e,Vi)}function Uk(){ws(new es(D2,Vk,"PUBLIC").setMultipleInstances(!0)),Tn(o_,c_,""),Tn(o_,c_,"esm2020")}Uk();const zk={apiKey:"AIzaSyB18If01xpZQMiVlVNj4CvItsue9hOo4Wg",authDomain:"familypay-11672.firebaseapp.com",projectId:"familypay-11672",storageBucket:"familypay-11672.firebasestorage.app",messagingSenderId:"264062515995",appId:"1:264062515995:web:e990b9e4d5b93e526a31be",measurementId:"G-M1YK840FHB"},hf=X_(zk);xC(hf);const xi=BI(hf),Qt=XD(hf);Pk(hf);const k2=new wr;k2.setCustomParameters({prompt:"select_account"});const Il={signIn:async(s,e)=>{try{return{success:!0,user:(await ER(xi,s,e)).user}}catch(n){return{success:!1,error:n.message}}},signInWithGoogle:async()=>{try{const e=(await XR(xi,k2)).user;return(await fg(xs(Qt,"users",e.uid))).exists()||await mg(xs(Qt,"users",e.uid),{name:e.displayName,email:e.email,photoURL:e.photoURL,role:"SECONDARY",phone:"",familyCircle:"",createdAt:Na(),authProvider:"google",isEmailVerified:e.emailVerified}),{success:!0,user:e}}catch(s){return{success:!1,error:s.message}}},signUp:async(s,e,n)=>{try{const o=(await NR(xi,s,e)).user;return n.name&&await jR(o,{displayName:n.name}),await mg(xs(Qt,"users",o.uid),{name:n.name||o.displayName,email:s,photoURL:n.photoURL||o.photoURL||"",role:n.role||"SECONDARY",phone:n.phone||"",familyCircle:n.familyCircle||"",createdAt:Na(),authProvider:"email",isEmailVerified:o.emailVerified,dateOfBirth:n.dateOfBirth||"",address:n.address||""}),{success:!0,user:o}}catch(a){return{success:!1,error:a.message}}},resetPassword:async s=>{try{return await wR(xi,s),{success:!0}}catch(e){return{success:!1,error:e.message}}},signOut:async()=>{try{return await RR(xi),{success:!0}}catch(s){return{success:!1,error:s.message}}},getCurrentUser:()=>xi.currentUser,onAuthStateChanged:s=>CR(xi,s)},Kd={getUsersByRole:async s=>{try{const e=Pl(bi(Qt,"users"),Sc("role","==",s),Ll("createdAt","desc"));return{success:!0,data:(await kh(e)).docs.map(o=>({id:o.id,...o.data()}))}}catch(e){return{success:!1,error:e.message}}},updateUserRole:async(s,e)=>{try{return await Oc(xs(Qt,"users",s),{role:e,updatedAt:Na()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},assignToCircle:async(s,e)=>{try{return await Oc(xs(Qt,"users",s),{familyCircle:e,updatedAt:Na()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},getAllUsers:async()=>{try{const s=Pl(bi(Qt,"users"),Ll("createdAt","desc"));return{success:!0,data:(await kh(s)).docs.map(a=>({id:a.id,...a.data()}))}}catch(s){return{success:!1,error:s.message}}}},vn={getUser:async s=>{try{const e=await fg(xs(Qt,"users",s));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"User not found"}}catch(e){return{success:!1,error:e.message}}},updateUser:async(s,e)=>{try{return await Oc(xs(Qt,"users",s),{...e,updatedAt:Na()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},getCircle:async s=>{try{const e=await fg(xs(Qt,"circles",s));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"Circle not found"}}catch(e){return{success:!1,error:e.message}}},updateCircle:async(s,e)=>{try{return await Oc(xs(Qt,"circles",s),{...e,updatedAt:Na()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},createTransaction:async s=>{try{const e=xs(bi(Qt,"transactions"));return await mg(e,{...s,createdAt:Na(),status:s.status||"pending"}),{success:!0,id:e.id}}catch(e){return{success:!1,error:e.message}}},getUserTransactions:async(s,e=50)=>{try{const n=Pl(bi(Qt,"transactions"),Sc("fromUserId","==",s),Ll("createdAt","desc"),ok(e));return{success:!0,data:(await kh(n)).docs.map(u=>({id:u.id,...u.data()}))}}catch(n){return{success:!1,error:n.message}}},getPendingTransactions:async()=>{try{const s=Pl(bi(Qt,"transactions"),Sc("status","==","pending"),Ll("createdAt","desc"));return{success:!0,data:(await kh(s)).docs.map(a=>({id:a.id,...a.data()}))}}catch(s){return{success:!1,error:s.message}}},updateTransaction:async(s,e)=>{try{return await Oc(xs(Qt,"transactions",s),{...e,updatedAt:Na()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},listenToTransactions:(s,e)=>{const n=Pl(bi(Qt,"transactions"),Sc("fromUserId","==",s),Ll("createdAt","desc"));return r_(n,a=>{const o=a.docs.map(u=>({id:u.id,...u.data()}));e(o)})},listenToPendingTransactions:s=>{const e=Pl(bi(Qt,"transactions"),Sc("status","==","pending"),Ll("createdAt","desc"));return r_(e,n=>{const a=n.docs.map(o=>({id:o.id,...o.data()}));s(a)})}},_n={primary:{id:1,name:"Rajnish",email:"rajnish@familypay.com",password:"admin123",phone:"9876543210",role:"ADMIN",isMinor:!1,upiId:"rajnish@paytm"},secondary1:{id:2,name:"Sangam",email:"sangam@familypay.com",password:"member123",phone:"9876543211",role:"SECONDARY",isMinor:!1,upiId:"sangam@paytm"},secondary2:{id:3,name:"Raveena",email:"raveena@familypay.com",password:"member123",phone:"9876543212",role:"SECONDARY",isMinor:!0,upiId:"raveena@paytm"},secondary3:{id:4,name:"Shubh",email:"shubh@familypay.com",password:"member123",phone:"9876543213",role:"SECONDARY",isMinor:!1,upiId:"shubh@paytm"}},Vl={id:1,circleName:"Doe Family Circle",primaryUserId:1,members:[{id:1,circleId:1,secondaryUserId:2,dailyLimit:5e3,monthlyLimit:5e4,currentDailySpent:750,currentMonthlySpent:8500,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:_n.secondary1},{id:2,circleId:1,secondaryUserId:3,dailyLimit:2e3,monthlyLimit:15e3,currentDailySpent:200,currentMonthlySpent:2300,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:_n.secondary2},{id:3,circleId:1,secondaryUserId:4,dailyLimit:8e3,monthlyLimit:8e4,currentDailySpent:3200,currentMonthlySpent:32800,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:_n.secondary3}]},Lp=1e3,ya=[{id:1,fromUserId:2,toUpiId:"grocery@paytm",amount:450,status:"COMPLETED",description:"Grocery Shopping",transactionRef:"UPI202601311234567",createdAt:new Date(Date.now()-7200*1e3).toISOString(),fromUser:_n.secondary1,autoApproved:!0},{id:2,fromUserId:2,toUpiId:"electronics@paytm",amount:1500,status:"COMPLETED",description:"New Headphones",transactionRef:"UPI202601311234568",approvedBy:1,approvedAt:new Date(Date.now()-10800*1e3).toISOString(),createdAt:new Date(Date.now()-10800*1e3).toISOString(),fromUser:_n.secondary1,autoApproved:!1},{id:3,fromUserId:4,toUpiId:"fashion@paytm",amount:1200,status:"PENDING",description:"Designer Clothing",createdAt:new Date(Date.now()-600*1e3).toISOString(),fromUser:_n.secondary3,autoApproved:!1},{id:4,fromUserId:2,toUpiId:"restaurant@paytm",amount:850,status:"COMPLETED",description:"Family Dinner",transactionRef:"UPI202601311234570",createdAt:new Date(Date.now()-300*60*1e3).toISOString(),fromUser:_n.secondary1,autoApproved:!0},{id:5,fromUserId:3,toUpiId:"toys@paytm",amount:350,status:"COMPLETED",description:"Toy Store",transactionRef:"UPI202601311234571",approvedBy:1,approvedAt:new Date(Date.now()-360*60*1e3).toISOString(),createdAt:new Date(Date.now()-360*60*1e3).toISOString(),fromUser:_n.secondary2,autoApproved:!1},{id:6,fromUserId:4,toUpiId:"fuel@paytm",amount:2e3,status:"PENDING",description:"Petrol - Monthly",createdAt:new Date(Date.now()-900*1e3).toISOString(),fromUser:_n.secondary3,autoApproved:!1},{id:7,fromUserId:2,toUpiId:"coffee@paytm",amount:250,status:"COMPLETED",description:"Coffee Shop",transactionRef:"UPI202601311234572",createdAt:new Date(Date.now()-1440*60*1e3).toISOString(),fromUser:_n.secondary1,autoApproved:!0},{id:8,fromUserId:4,toUpiId:"pharmacy@paytm",amount:1800,status:"REJECTED",description:"Medical Supplies",approvedBy:1,approvedAt:new Date(Date.now()-2880*60*1e3).toISOString(),createdAt:new Date(Date.now()-2880*60*1e3).toISOString(),fromUser:_n.secondary3,autoApproved:!1}],Bk=()=>{const s=ya.filter(a=>a.status==="COMPLETED"),e=s.reduce((a,o)=>a+o.amount,0),n=ya.filter(a=>a.status==="PENDING").length;return{circle:{id:1,name:"Doe Family Circle",memberCount:3},overall:{totalTransactions:s.length,totalSpent:e,pendingApprovals:n},members:Vl.members.map(a=>({userId:a.secondaryUserId,name:a.secondaryUser.name,upiId:a.secondaryUser.upiId,limits:{daily:a.dailyLimit,monthly:a.monthlyLimit,dailySpent:a.currentDailySpent,monthlySpent:a.currentMonthlySpent,dailyRemaining:a.dailyLimit-a.currentDailySpent,monthlyRemaining:a.monthlyLimit-a.currentMonthlySpent},spending:{totalTransactions:s.filter(o=>o.fromUserId===a.secondaryUserId).length,totalSpent:s.filter(o=>o.fromUserId===a.secondaryUserId).reduce((o,u)=>o+u.amount,0)}}))}},_c={getCircle:()=>Promise.resolve({data:{success:!0,data:Vl}}),getMyCircle:()=>Promise.resolve({data:{success:!0,data:Vl.members[0]}}),getPendingPayments:()=>{const s=ya.filter(e=>e.status==="PENDING");return Promise.resolve({data:{success:!0,data:s}})},getAnalytics:()=>{const s=Bk();return Promise.resolve({data:{success:!0,data:s}})},getTransactions:()=>Promise.resolve({data:{success:!0,data:{transactions:ya,total:ya.length}}}),approvePayment:(s,e)=>new Promise(n=>{setTimeout(()=>{const a=ya.find(o=>o.id===s);if(a&&(a.status=e?"COMPLETED":"REJECTED",a.approvedBy=1,a.approvedAt=new Date().toISOString(),e)){a.transactionRef=`UPI${Date.now()}${Math.floor(Math.random()*1e3)}`;const o=Vl.members.find(u=>u.secondaryUserId===a.fromUserId);o&&(o.currentDailySpent+=a.amount,o.currentMonthlySpent+=a.amount)}n({data:{success:!0,data:a}})},500)}),requestPayment:s=>new Promise(e=>{setTimeout(()=>{const n=s.amount,a=n>Lp,o={id:ya.length+1,fromUserId:2,toUpiId:s.toUpiId,amount:n,status:a?"PENDING":"COMPLETED",description:s.description,transactionRef:a?null:`UPI${Date.now()}${Math.floor(Math.random()*1e3)}`,createdAt:new Date().toISOString(),fromUser:_n.secondary1,autoApproved:!a};if(ya.unshift(o),!a){const u=Vl.members.find(d=>d.secondaryUserId===2);u&&(u.currentDailySpent+=n,u.currentMonthlySpent+=n)}e({data:{success:!0,data:o,message:a?`${n} payment sent for admin approval (>${Lp})`:`${n} payment completed instantly (<${Lp})`}})},800)})},u_={signIn:async(s,e)=>new Promise(n=>{setTimeout(()=>{const a=Object.values(_n).find(o=>o.email===s&&o.password===e);n(a?{success:!0,user:{uid:a.id.toString(),email:a.email,displayName:a.name,photoURL:null,emailVerified:!0}}:{success:!1,error:"Invalid email or password"})},1e3)}),getUserData:async s=>new Promise(e=>{setTimeout(()=>{const n=Object.values(_n).find(a=>a.id.toString()===s);e(n?{success:!0,data:{name:n.name,email:n.email,role:n.role,phone:n.phone,familyCircle:n.familyCircle||"",photoURL:n.photoURL||"",createdAt:new Date().toISOString(),authProvider:"mock",isEmailVerified:!0,dateOfBirth:n.dateOfBirth||"",address:n.address||""}}:{success:!1,error:"User not found"})},500)})},M2=R.createContext(),dn=()=>{const s=R.useContext(M2);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Fk=({children:s})=>{const[e,n]=R.useState(null),[a,o]=R.useState(!0),[u,d]=R.useState(null);R.useEffect(()=>Il.onAuthStateChanged(async D=>{if(D)try{const z=await vn.getUser(D.uid);z.success?n({id:D.uid,email:D.email,photoURL:D.photoURL,...z.data}):n({id:D.uid,email:D.email,name:D.displayName||"User",photoURL:D.photoURL||"",role:"SECONDARY"})}catch(z){console.error("Error fetching user data:",z),d(z.message)}else n(null);o(!1)}),[]);const H={user:e,loading:a,error:u,login:async M=>{try{if(d(null),o(!0),M.email==="rajnish@familypay.com"&&M.password==="admin123"){const D=await u_.signIn(M.email,M.password);if(D.success){const z=await u_.getUserData(D.user.uid);return z.success?(n({id:D.user.uid,email:D.user.email,photoURL:D.user.photoURL,...z.data}),{success:!0,data:D.user}):(d(z.error),{success:!1,error:z.error})}else return d(D.error),{success:!1,error:D.error}}else{const D=await Il.signIn(M.email,M.password);return D.success?{success:!0,data:D.user}:(d(D.error),{success:!1,error:D.error})}}catch(D){const z=D.message;return d(z),{success:!1,error:z}}finally{o(!1)}},loginWithGoogle:async()=>{try{d(null),o(!0);const M=await Il.signInWithGoogle();return M.success?{success:!0,data:M.user}:(d(M.error),{success:!1,error:M.error})}catch(M){const D=M.message;return d(D),{success:!1,error:D}}finally{o(!1)}},register:async M=>{try{d(null),o(!0);const D=await Il.signUp(M.email,M.password,{name:M.name,role:M.role||"SECONDARY",phone:M.phone||"",familyCircle:M.familyCircle||"",photoURL:M.photoURL||"",dateOfBirth:M.dateOfBirth||"",address:M.address||""});return D.success?{success:!0,data:D.user}:(d(D.error),{success:!1,error:D.error})}catch(D){const z=D.message;return d(z),{success:!1,error:z}}finally{o(!1)}},resetPassword:async M=>{try{d(null);const D=await Il.resetPassword(M);return D.success?{success:!0,message:"Password reset email sent!"}:(d(D.error),{success:!1,error:D.error})}catch(D){const z=D.message;return d(z),{success:!1,error:z}}},logout:async()=>{try{d(null);const M=await Il.signOut();M.success?(n(null),window.location.href="/"):d(M.error)}catch(M){d(M.message)}},updateProfile:async M=>{try{if(!e)throw new Error("No user logged in");d(null);const D=await vn.updateUser(e.id,M);return D.success?(n(z=>({...z,...M})),{success:!0}):(d(D.error),{success:!1,error:D.error})}catch(D){const z=D.message;return d(z),{success:!1,error:z}}},adminFunctions:{getAllUsers:async()=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await Kd.getAllUsers()}catch(M){return{success:!1,error:M.message}}},getUsersByRole:async M=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await Kd.getUsersByRole(M)}catch(D){return{success:!1,error:D.message}}},updateUserRole:async(M,D)=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await Kd.updateUserRole(M,D)}catch(z){return{success:!1,error:z.message}}},assignToCircle:async(M,D)=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await Kd.assignToCircle(M,D)}catch(z){return{success:!1,error:z.message}}}},isAuthenticated:!!e,isPrimary:e?.role==="PRIMARY",isSecondary:e?.role==="SECONDARY",isAdmin:e?.role==="ADMIN",role:e?.role||null};return i.jsx(M2.Provider,{value:H,children:s})};const O2=(...s)=>s.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();const qk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Hk=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase());const d_=s=>{const e=Hk(s);return e.charAt(0).toUpperCase()+e.slice(1)};var Gk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $k=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Yk=R.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...p},g)=>R.createElement("svg",{ref:g,...Gk,width:e,height:e,stroke:s,strokeWidth:a?Number(n)*24/Number(e):n,className:O2("lucide",o),...!u&&!$k(p)&&{"aria-hidden":"true"},...p},[...d.map(([x,v])=>R.createElement(x,v)),...Array.isArray(u)?u:[u]]));const ue=(s,e)=>{const n=R.forwardRef(({className:a,...o},u)=>R.createElement(Yk,{ref:u,iconNode:e,className:O2(`lucide-${qk(d_(s))}`,`lucide-${s}`,a),...o}));return n.displayName=d_(s),n};const Kk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qk=ue("activity",Kk);const Xk=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],h_=ue("arrow-down-right",Xk);const Wk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P2=ue("arrow-left",Wk);const Jk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pc=ue("arrow-right",Jk);const Zk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],f_=ue("arrow-up-right",Zk);const e5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],L2=ue("award",e5);const t5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Mi=ue("bell",t5);const n5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],m_=ue("book-open",n5);const s5=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],r5=ue("bookmark",s5);const a5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=ue("calendar",a5);const i5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kc=ue("camera",i5);const l5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],V2=ue("chart-column",l5);const o5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U2=ue("check",o5);const c5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],z2=ue("chevron-down",c5);const u5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],d5=ue("chevron-left",u5);const h5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ox=ue("chevron-right",h5);const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],za=ue("circle-alert",f5);const m5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ot=ue("circle-check-big",m5);const p5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ar=ue("clock",p5);const g5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],En=ue("credit-card",g5);const x5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y5=ue("download",x5);const v5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],b5=ue("ellipsis",v5);const _5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lh=ue("eye-off",_5);const w5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oh=ue("eye",w5);const N5=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],E5=ue("facebook",N5);const T5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],j5=ue("file-text",T5);const S5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],B2=ue("funnel",S5);const A5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],C5=ue("gift",A5);const R5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pg=ue("globe",R5);const I5=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],D5=ue("headphones",I5);const k5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qc=ue("heart",k5);const M5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],p_=ue("house",M5);const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P5=ue("info",O5);const L5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],V5=ue("layout-dashboard",L5);const U5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z5=ue("lightbulb",U5);const B5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],F5=ue("link",B5);const q5=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],H5=ue("linkedin",q5);const G5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$5=ue("loader-circle",G5);const Y5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gg=ue("lock",Y5);const K5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q5=ue("log-out",K5);const X5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jl=ue("mail",X5);const W5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F2=ue("map-pin",W5);const J5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q2=ue("menu",J5);const Z5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ph=ue("message-circle",Z5);const eM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tM=ue("message-square",eM);const nM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sM=ue("moon",nM);const rM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aM=ue("pen",rM);const iM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uu=ue("phone",iM);const lM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],oM=ue("piggy-bank",lM);const cM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uM=ue("play",cM);const dM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],xg=ue("qr-code",dM);const hM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yg=ue("refresh-cw",hM);const fM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uo=ue("search",fM);const mM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H2=ue("send",mM);const pM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xc=ue("settings",pM);const gM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vg=ue("share-2",gM);const xM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yM=ue("shield-check",xM);const vM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Oi=ue("shield",vM);const bM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ff=ue("smartphone",bM);const _M=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wM=ue("sparkles",_M);const NM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G2=ue("star",NM);const EM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TM=ue("sun",EM);const jM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],SM=ue("tag",jM);const AM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$2=ue("target",AM);const CM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Y2=ue("trash-2",CM);const RM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],IM=ue("trending-down",RM);const DM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pa=ue("trending-up",DM);const kM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MM=ue("triangle-alert",kM);const OM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],PM=ue("twitter",OM);const LM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Px=ue("user-plus",LM);const VM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zl=ue("user",VM);const UM=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],bg=ue("users-round",UM);const zM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mr=ue("users",zM);const BM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],FM=ue("wallet",BM);const qM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bi=ue("x",qM);const HM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_g=ue("zap",HM),GM=({className:s})=>i.jsxs("svg",{className:s,viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),$M=()=>{const s=un(),{login:e,loginWithGoogle:n,register:a,loading:o,error:u}=dn(),[d,p]=R.useState(!0),[g,x]=R.useState(!1),[v,w]=R.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:"",address:""}),[A,O]=R.useState(""),[H,M]=R.useState(""),D=ie=>{w({...v,[ie.target.name]:ie.target.value})},z=()=>{if(!v.email||!v.password)return O("Email and password are required"),!1;if(!d){if(!v.name)return O("Name is required"),!1;if(v.password!==v.confirmPassword)return O("Passwords do not match"),!1;if(v.password.length<6)return O("Password must be at least 6 characters"),!1}return!0},G=async ie=>{if(ie.preventDefault(),O(""),M(""),!!z())try{let oe;d?oe=await e({email:v.email,password:v.password}):oe=await a({email:v.email,password:v.password,name:v.name,phone:v.phone,dateOfBirth:v.dateOfBirth,address:v.address,role:"SECONDARY"}),oe.success?(M(d?"Login successful!":"Registration successful!"),setTimeout(()=>{s("/dashboard")},1500)):O(oe.error)}catch{O("An unexpected error occurred")}},L=async()=>{try{O(""),M("");const ie=await n();ie.success?(M("Google sign-in successful!"),setTimeout(()=>{s("/dashboard")},1500)):O(ie.error)}catch{O("Google sign-in failed")}},ae=()=>{p(!d),O(""),M(""),w({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:"",address:""})};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8",children:[i.jsxs("div",{className:"flex items-center justify-center mb-8",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-12 h-12 rounded-lg mr-3"}),i.jsx("h1",{className:"text-2xl font-bold text-text",children:"FamilyPay"})]}),H&&i.jsxs("div",{className:"mb-6 p-4 bg-success/10 border border-success/20 rounded-lg flex items-center gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-success"}),i.jsx("span",{className:"text-success text-sm",children:H})]}),(A||u)&&i.jsxs("div",{className:"mb-6 p-4 bg-danger/10 border border-danger/20 rounded-lg flex items-center gap-3",children:[i.jsx(za,{className:"w-5 h-5 text-danger"}),i.jsx("span",{className:"text-danger text-sm",children:A||u})]}),i.jsxs("button",{onClick:L,disabled:o,className:"w-full mb-6 p-3 bg-bg-elevated border border-border rounded-lg hover:border-primary transition-colors flex items-center justify-center gap-3 disabled:opacity-50",children:[i.jsx(GM,{className:"w-5 h-5"}),i.jsx("span",{className:"text-text font-medium",children:o?i.jsx("div",{className:"loading-spinner w-4 h-4"}):"Continue with Google"})]}),i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex-1 h-px bg-border"}),i.jsx("span",{className:"px-4 text-text-muted text-sm",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-border"})]}),i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[!d&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(Zl,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),i.jsx("input",{type:"text",name:"name",value:v.name,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(Jl,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),i.jsx("input",{type:"email",name:"email",value:v.email,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0})]}),!d&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(uu,{className:"w-4 h-4 inline mr-2"}),"Phone Number (Optional)"]}),i.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"+91 98765 43210"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(gg,{className:"w-4 h-4 inline mr-2"}),"Password"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:g?"text":"password",name:"password",value:v.password,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter your password",required:!0}),i.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:g?i.jsx(lh,{className:"w-5 h-5"}):i.jsx(oh,{className:"w-5 h-5"})})]})]}),!d&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(gg,{className:"w-4 h-4 inline mr-2"}),"Confirm Password"]}),i.jsx("input",{type:"password",name:"confirmPassword",value:v.confirmPassword,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Confirm your password",required:!0})]}),!d&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(co,{className:"w-4 h-4 inline mr-2"}),"Date of Birth (Optional)"]}),i.jsx("input",{type:"date",name:"dateOfBirth",value:v.dateOfBirth,onChange:D,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),!d&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(F2,{className:"w-4 h-4 inline mr-2"}),"Address (Optional)"]}),i.jsx("textarea",{name:"address",value:v.address,onChange:D,rows:"3",className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",placeholder:"Enter your address"})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?i.jsx("div",{className:"loading-spinner mx-auto"}):d?"Sign In":"Create Account"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-text-muted",children:[d?"Don't have an account?":"Already have an account?",i.jsx("button",{onClick:ae,className:"ml-2 text-primary hover:text-primary/80 font-medium",children:d?"Sign Up":"Sign In"})]})}),d&&i.jsx("div",{className:"mt-4 text-center",children:i.jsx(Aa,{to:"/forgot-password",className:"text-primary hover:text-primary/80 text-sm font-medium",children:"Forgot your password?"})})]})})})},YM=()=>{const s=un(),{resetPassword:e,loading:n}=dn(),[a,o]=R.useState(""),[u,d]=R.useState(""),[p,g]=R.useState(!1),x=async v=>{if(v.preventDefault(),d(""),!a){d("Please enter your email address");return}try{const w=await e(a);w.success?g(!0):d(w.error)}catch{d("An unexpected error occurred")}};return p?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ot,{className:"w-8 h-8 text-success"})}),i.jsx("h1",{className:"text-2xl font-bold text-text mb-4",children:"Password Reset Email Sent"}),i.jsx("p",{className:"text-text-muted mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>s("/login"),className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity",children:"Back to Login"}),i.jsx(Aa,{to:"/",className:"block w-full py-3 bg-bg-elevated border border-border rounded-lg text-center font-medium hover:border-primary transition-colors",children:"Go to Home"})]})]})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>s("/login"),className:"flex items-center text-text-muted hover:text-text mb-4 transition-colors",children:[i.jsx(P2,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:"FP"})}),i.jsx("h1",{className:"text-2xl font-bold text-text mb-2",children:"Reset Password"}),i.jsx("p",{className:"text-text-muted",children:"Enter your email address and we'll send you a link to reset your password"})]})]}),u&&i.jsxs("div",{className:"mb-6 p-4 bg-danger/10 border border-danger/20 rounded-lg flex items-center gap-3",children:[i.jsx(za,{className:"w-5 h-5 text-danger"}),i.jsx("span",{className:"text-danger text-sm",children:u})]}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(Jl,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),i.jsx("input",{type:"email",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email address",required:!0})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:n?"Sending...":"Send Reset Link"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-text-muted",children:["Remember your password?"," ",i.jsx(Aa,{to:"/login",className:"text-primary hover:text-primary/80 font-medium",children:"Sign In"})]})})]})})})},KM=()=>{const s=un(),{register:e}=dn(),[n,a]=R.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"PRIMARY",isMinor:!1,upiId:""}),[o,u]=R.useState(""),[d,p]=R.useState(!1),g=v=>{const w=v.target.type==="checkbox"?v.target.checked:v.target.value;a({...n,[v.target.name]:w})},x=async v=>{if(v.preventDefault(),u(""),n.password!==n.confirmPassword){u("Passwords do not match");return}if(n.phone.length!==10){u("Phone number must be 10 digits");return}if(!n.upiId.includes("@")){u("Invalid UPI ID format (example: user@bank)");return}p(!0);const{confirmPassword:w,...A}=n,O=await e(A);O.success?O.data.role==="PRIMARY"?s("/dashboard/primary"):s("/dashboard/secondary"):u(O.error),p(!1)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-bg to-bg-elevated p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-bg-card border border-border rounded-default p-8 shadow-xl animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-center mb-8",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-12 h-12 rounded-lg mr-3"}),i.jsx("h1",{className:"text-2xl font-bold text-text",children:"FamilyPay"})]}),o&&i.jsx("div",{className:"alert alert-error",children:o}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Full Name"}),i.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"Enter your name",value:n.name,onChange:g,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:n.email,onChange:g,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",className:"form-input",placeholder:"10 digit phone number",value:n.phone,onChange:g,pattern:"[0-9]{10}",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"UPI ID"}),i.jsx("input",{type:"text",name:"upiId",className:"form-input",placeholder:"yourname@bank",value:n.upiId,onChange:g,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Role"}),i.jsxs("select",{name:"role",className:"form-select",value:n.role,onChange:g,children:[i.jsx("option",{value:"PRIMARY",children:"Primary User (Family Head)"}),i.jsx("option",{value:"SECONDARY",children:"Secondary User (Family Member)"})]})]}),n.role==="SECONDARY"&&i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",name:"isMinor",className:"form-checkbox",checked:n.isMinor,onChange:g}),i.jsx("span",{className:"form-label mb-0",children:"I am a minor (requires approval for all payments)"})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Password"}),i.jsx("input",{type:"password",name:"password",className:"form-input",placeholder:"Create a password",value:n.password,onChange:g,required:!0,minLength:"6"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Confirm Password"}),i.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",placeholder:"Confirm your password",value:n.confirmPassword,onChange:g,required:!0})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:d,children:d?i.jsx("div",{className:"loading-spinner mx-auto"}):"Register"})]}),i.jsx("div",{className:"text-center mt-8 pt-6 border-t border-border",children:i.jsxs("p",{className:"text-text-muted text-sm",children:["Already have an account?"," ",i.jsx(Aa,{to:"/login",className:"link",children:"Sign in here"})]})})]})})},QM=()=>{const{user:s,isAuthenticated:e}=dn(),n=un(),[a,o]=R.useState("personal"),[u,d]=R.useState(""),[p,g]=R.useState(!1),[x,v]=R.useState(!1),[w,A]=R.useState(!1),O=[{icon:Oi,title:"Bank-Level Security",description:"Your money is protected with 256-bit encryption and multi-factor authentication."},{icon:ff,title:"Mobile First",description:"Send money instantly from your phone with our intuitive mobile app."},{icon:Mr,title:"Family Circles",description:"Create family groups and manage expenses together with loved ones."},{icon:Pa,title:"Smart Analytics",description:"Track spending patterns and get insights to save more money."},{icon:_g,title:"Lightning Fast",description:"Instant transfers with real-time processing and confirmation."},{icon:gg,title:"Privacy First",description:"Your data is never shared with third parties without your consent."}],H=[{name:"Sarah Johnson",role:"Family Manager",content:"FamilyPay has transformed how we manage our household expenses. So simple and secure!",rating:5,avatar:""},{name:"Michael Chen",role:"Small Business Owner",content:"The best payment solution I've used. Fast, reliable, and excellent customer support.",rating:5,avatar:""},{name:"Emma Davis",role:"Student",content:"Perfect for splitting bills with roommates. The family circles feature is amazing!",rating:5,avatar:""}],M=[{name:"Personal",price:"Free",features:["Up to 10 transactions/month","Basic family circle (5 members)","Email support","Mobile app access"],recommended:!1},{name:"Family",price:"$9.99/mo",features:["Unlimited transactions","Family circle (20 members)","Priority support","Advanced analytics","Budget planning tools"],recommended:!0},{name:"Business",price:"$29.99/mo",features:["Unlimited everything","Unlimited members","24/7 phone support","API access","Custom branding","Advanced reporting"],recommended:!1}],D=()=>{n(e?"/dashboard":"/login")};R.useEffect(()=>{const G=()=>{A(window.scrollY>50)};return window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)},[]);const z=G=>{const L=document.getElementById(G);L&&(L.scrollIntoView({behavior:"smooth"}),v(!1))};return i.jsxs("div",{className:"min-h-screen bg-bg",children:[i.jsx("nav",{className:`fixed top-0 w-full transition-all duration-300 z-50 ${w?"bg-bg/95 backdrop-blur-sm border-b border-border":"bg-bg/80 backdrop-blur-sm"}`,children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{onClick:()=>z("features"),className:"text-text-muted hover:text-text transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>z("how-it-works"),className:"text-text-muted hover:text-text transition-colors",children:"How it Works"}),i.jsx("button",{onClick:()=>z("pricing"),className:"text-text-muted hover:text-text transition-colors",children:"Pricing"}),i.jsx("button",{onClick:()=>z("testimonials"),className:"text-text-muted hover:text-text transition-colors",children:"Reviews"}),i.jsx("button",{onClick:()=>n("/about"),className:"text-text-muted hover:text-text transition-colors",children:"About"}),i.jsx("button",{onClick:()=>n("/blog"),className:"text-text-muted hover:text-text transition-colors",children:"Blog"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"hidden md:flex items-center gap-4",children:e?i.jsx("button",{onClick:()=>n("/dashboard"),className:"btn btn-primary",children:"Dashboard"}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>n("/login"),className:"btn btn-secondary",children:"Login"}),i.jsx("button",{onClick:()=>n("/register"),className:"btn btn-primary",children:"Sign Up"})]})}),i.jsx("button",{onClick:()=>v(!x),className:"md:hidden p-2 rounded-lg hover:bg-bg-elevated transition-colors",children:x?i.jsx(Bi,{className:"w-6 h-6 text-text"}):i.jsx(q2,{className:"w-6 h-6 text-text"})})]})]}),x&&i.jsx("div",{className:"md:hidden border-t border-border bg-bg/95 backdrop-blur-sm",children:i.jsxs("div",{className:"px-4 py-4 space-y-3",children:[i.jsx("button",{onClick:()=>z("features"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"Features"}),i.jsx("button",{onClick:()=>z("how-it-works"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"How it Works"}),i.jsx("button",{onClick:()=>z("pricing"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"Pricing"}),i.jsx("button",{onClick:()=>z("testimonials"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"Reviews"}),i.jsx("button",{onClick:()=>n("/about"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"About"}),i.jsx("button",{onClick:()=>n("/blog"),className:"block w-full text-left text-text-muted hover:text-text transition-colors py-2",children:"Blog"}),i.jsx("div",{className:"border-t border-border pt-4 space-y-3",children:e?i.jsx("button",{onClick:()=>n("/dashboard"),className:"w-full btn btn-primary",children:"Dashboard"}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>n("/login"),className:"w-full btn btn-secondary",children:"Login"}),i.jsx("button",{onClick:()=>n("/register"),className:"w-full btn btn-primary",children:"Sign Up"})]})})]})})]})}),i.jsxs("section",{id:"hero",className:"pt-24 pb-20 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5"}),i.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-8 animate-fade-in",children:[i.jsx(wM,{className:"w-4 h-4"}),"Trusted by 2.5M+ families worldwide"]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-text mb-6 leading-tight",children:["Manage Your Family's",i.jsx("span",{className:"text-primary",children:" Finances"})," Together"]}),i.jsx("p",{className:"text-xl text-text-muted max-w-4xl mx-auto mb-12 leading-relaxed",children:"The modern way to handle family expenses, split bills, and track spending. Join millions of families who trust FamilyPay for their financial needs."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs("button",{onClick:D,className:"btn btn-primary btn-lg flex items-center gap-2 px-8 py-4 text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e?"Go to Dashboard":"Get Started Free",i.jsx(Pc,{className:"w-5 h-5"})]}),i.jsxs("button",{className:"btn btn-secondary btn-lg flex items-center gap-2 px-8 py-4 text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[i.jsx(uM,{className:"w-5 h-5"}),"Watch Demo"]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-sm text-text-muted",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-4 h-4 text-success"}),"No credit card required"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"w-4 h-4 text-info"}),"Set up in 2 minutes"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(L2,{className:"w-4 h-4 text-warning"}),"14-day free trial"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:[i.jsxs("div",{className:"text-center p-6 bg-bg-card rounded-xl border border-border hover:border-primary/50 transition-all duration-300",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"2.5M+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"users"})]}),i.jsxs("div",{className:"text-center p-6 bg-bg-card rounded-xl border border-border hover:border-primary/50 transition-all duration-300",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"10M+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"transactions"})]}),i.jsxs("div",{className:"text-center p-6 bg-bg-card rounded-xl border border-border hover:border-primary/50 transition-all duration-300",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"50+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"countries"})]}),i.jsxs("div",{className:"text-center p-6 bg-bg-card rounded-xl border border-border hover:border-primary/50 transition-all duration-300",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"98%"}),i.jsx("div",{className:"text-sm text-text-muted",children:"satisfaction"})]})]}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"bg-bg-card rounded-2xl border border-border p-8 shadow-2xl",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(H2,{className:"w-8 h-8 text-primary"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"12,500"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Total sent this month"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(bg,{className:"w-8 h-8 text-success"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"8 Members"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Active participants"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-warning/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(oM,{className:"w-8 h-8 text-warning"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"45,000"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Total saved"})]})]})})})]})]}),i.jsx("section",{id:"features",className:"py-20 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Everything You Need for Family Finance"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Powerful features designed to make managing money together simple and secure."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:O.map((G,L)=>{const ae=G.icon;return i.jsxs("div",{className:"card p-8 hover:border-primary transition-all duration-300 hover:shadow-lg hover:-translate-y-1",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-xl flex items-center justify-center mb-6",children:i.jsx(ae,{className:"w-8 h-8 text-primary"})}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3",children:G.title}),i.jsx("p",{className:"text-text-muted leading-relaxed",children:G.description})]},L)})})]})}),i.jsxs("section",{id:"how-it-works",className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/5 to-secondary/5"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"How FamilyPay Works"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Get started in minutes and start managing your family finances better than ever."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[i.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-primary via-secondary to-primary transform -translate-y-1/2"}),i.jsxs("div",{className:"text-center relative group",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:i.jsx(Mr,{className:"w-10 h-10 text-white"})}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md",children:"1"})]}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3",children:"Create Account"}),i.jsx("p",{className:"text-text-muted leading-relaxed",children:"Sign up in seconds with your email or phone number. No credit card required."})]}),i.jsxs("div",{className:"text-center relative group",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-secondary to-secondary-dark rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:i.jsx(bg,{className:"w-10 h-10 text-white"})}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md",children:"2"})]}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3",children:"Invite Family"}),i.jsx("p",{className:"text-text-muted leading-relaxed",children:"Add family members to your circle and set permissions for everyone."})]}),i.jsxs("div",{className:"text-center relative group",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-success to-success-dark rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:i.jsx(Pa,{className:"w-10 h-10 text-white"})}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-success rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md",children:"3"})]}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3",children:"Start Managing"}),i.jsx("p",{className:"text-text-muted leading-relaxed",children:"Send money, track expenses, and reach your financial goals together."})]})]}),i.jsxs("div",{className:"text-center mt-16",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-6 py-3 rounded-full text-sm font-medium mb-6",children:[i.jsx(_g,{className:"w-4 h-4"}),"Ready to get started?"]}),i.jsxs("button",{onClick:D,className:"btn btn-primary btn-lg flex items-center gap-2 mx-auto shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e?"Go to Dashboard":"Get Started Free",i.jsx(Pc,{className:"w-5 h-5"})]})]})]})]}),i.jsxs("section",{id:"pricing",className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Simple, Transparent Pricing"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Choose the plan that works best for your family. Start free, upgrade anytime."})]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsxs("div",{className:"bg-bg-elevated rounded-lg p-1 inline-flex shadow-lg",children:[i.jsx("button",{onClick:()=>o("personal"),className:`px-8 py-3 rounded-md transition-all duration-300 ${a==="personal"?"bg-primary text-white shadow-md":"text-text-muted hover:text-text"}`,children:"Personal"}),i.jsx("button",{onClick:()=>o("business"),className:`px-8 py-3 rounded-md transition-all duration-300 ${a==="business"?"bg-primary text-white shadow-md":"text-text-muted hover:text-text"}`,children:"Business"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:M.map((G,L)=>i.jsxs("div",{className:`card p-8 relative transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${G.recommended?"border-2 border-primary ring-4 ring-primary/20 shadow-2xl":"border border-border hover:border-primary/50"}`,children:[G.recommended&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:i.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-2 rounded-full text-sm font-medium shadow-lg",children:"Most Popular"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-text mb-2",children:G.name}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"text-4xl font-bold text-primary",children:G.price}),G.price!=="Free"&&i.jsx("span",{className:"text-text-muted",children:"/month"})]})]}),i.jsx("ul",{className:"space-y-4 mb-8",children:G.features.map((ae,ie)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-text",children:ae})]},ie))}),i.jsx("button",{onClick:D,className:`w-full btn ${G.recommended?"btn-primary shadow-lg hover:shadow-xl":"btn-secondary"} transition-all duration-300 transform hover:-translate-y-1`,children:G.price==="Free"?"Get Started":"Start Free Trial"})]},L))}),i.jsx("div",{className:"text-center mt-16",children:i.jsxs("div",{className:"inline-flex items-center gap-2 bg-success/10 text-success px-6 py-3 rounded-full text-sm font-medium",children:[i.jsx(yM,{className:"w-4 h-4"}),"14-day free trial  No credit card required  Cancel anytime"]})})]})]}),i.jsxs("section",{id:"testimonials",className:"py-20 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-primary/5 to-secondary/5"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Loved by Families Worldwide"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"See what our users have to say about their experience with FamilyPay."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:H.map((G,L)=>i.jsxs("div",{className:"card p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[i.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(G.rating)].map((ae,ie)=>i.jsx(G2,{className:"w-5 h-5 text-warning fill-warning"},ie))}),i.jsxs("p",{className:"text-text-muted mb-6 leading-relaxed",children:['"',G.content,'"']}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:G.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-text",children:G.name}),i.jsx("div",{className:"text-sm text-text-muted",children:G.role})]})]})]},L))})]})]}),i.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10"}),i.jsx("div",{className:"max-w-4xl mx-auto relative",children:i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-8 md:p-12 text-center shadow-2xl",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Ready to Transform Your Family's Finances?"}),i.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join millions of families who trust FamilyPay for their financial needs."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("button",{onClick:D,className:"btn bg-white text-primary hover:bg-gray-100 btn-lg flex items-center gap-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e?"Go to Dashboard":"Get Started Free",i.jsx(Pc,{className:"w-5 h-5"})]}),i.jsx("button",{className:"btn bg-white/20 text-white border border-white/30 hover:bg-white/30 btn-lg backdrop-blur-sm transition-all duration-300",children:"Schedule Demo"})]})]})})]}),i.jsx("footer",{className:"bg-bg-card border-t border-border py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsx("p",{className:"text-text-muted",children:"The modern way to manage family finances together."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Product"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>z("features"),className:"text-text-muted hover:text-text",children:"Features"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>z("pricing"),className:"text-text-muted hover:text-text",children:"Pricing"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Security"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"API"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"About"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Blog"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Careers"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Support"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Help Center"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Status"})})]})]})]}),i.jsx("div",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-text-muted text-sm",children:" 2024 FamilyPay. All rights reserved."}),i.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[i.jsx(pg,{className:"w-5 h-5 text-text-muted"}),i.jsx(D5,{className:"w-5 h-5 text-text-muted"}),i.jsx(Oi,{className:"w-5 h-5 text-text-muted"})]})]})})]})})]})},XM=()=>{const s=un(),[e,n]=R.useState(!1);R.useEffect(()=>{const p=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const a=p=>{const g=document.getElementById(p);g&&g.scrollIntoView({behavior:"smooth"})},o=[{year:"2020",title:"FamilyPay Founded",description:"Started with a simple mission: to help families manage their finances together.",icon:co},{year:"2021",title:"100K Users Milestone",description:"Reached our first major milestone with 100,000 families trusting FamilyPay.",icon:Mr},{year:"2022",title:"Series A Funding",description:"Secured $10M in Series A funding to expand our team and features.",icon:Pa},{year:"2023",title:"International Expansion",description:"Launched in 15+ countries, serving families worldwide.",icon:pg},{year:"2024",title:"2.5M+ Users",description:"Now serving over 2.5 million families with 10M+ transactions processed.",icon:L2}],u=[{name:"Sarah Johnson",role:"CEO & Founder",image:"",bio:"Former fintech executive with 15+ years experience in digital payments."},{name:"Michael Chen",role:"CTO & Co-Founder",image:"",bio:"Ex-Google engineer specializing in scalable financial systems."},{name:"Emma Davis",role:"Head of Product",image:"",bio:"Product design expert with passion for user-centric financial solutions."},{name:"Alex Kumar",role:"Head of Engineering",image:"",bio:"Security-focused engineer with expertise in fintech infrastructure."}],d=[{icon:Qc,title:"Family First",description:"Everything we build is designed to bring families closer together through better financial management."},{icon:Oi,title:"Security & Trust",description:"Bank-level security and transparency in everything we do. Your family's financial data is sacred."},{icon:z5,title:"Innovation",description:"Constantly pushing boundaries to create innovative solutions for modern family finance challenges."},{icon:bg,title:"Community",description:"Building a global community of families who support and learn from each other."}];return i.jsxs("div",{className:"min-h-screen bg-bg",children:[i.jsx("nav",{className:`fixed top-0 w-full transition-all duration-300 z-50 ${e?"bg-bg/95 backdrop-blur-sm border-b border-border":"bg-bg/80 backdrop-blur-sm"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{onClick:()=>s("/"),className:"text-text-muted hover:text-text transition-colors",children:"Home"}),i.jsx("button",{onClick:()=>a("mission"),className:"text-text-muted hover:text-text transition-colors",children:"Mission"}),i.jsx("button",{onClick:()=>a("team"),className:"text-text-muted hover:text-text transition-colors",children:"Team"}),i.jsx("button",{onClick:()=>a("milestones"),className:"text-text-muted hover:text-text transition-colors",children:"Milestones"}),i.jsx("button",{onClick:()=>a("values"),className:"text-text-muted hover:text-text transition-colors",children:"Values"})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("button",{onClick:()=>s("/"),className:"btn btn-primary",children:"Back to Home"})})]})})}),i.jsxs("section",{className:"pt-24 pb-20 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5"}),i.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-text mb-6",children:["About ",i.jsx("span",{className:"text-primary",children:"FamilyPay"})]}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto leading-relaxed",children:"We're on a mission to help families worldwide manage their finances together, build stronger relationships, and achieve their financial goals."})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"2.5M+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Families"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"50+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Countries"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"10M+"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Transactions"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"98%"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Satisfaction"})]})]})]})]}),i.jsx("section",{id:"mission",className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-6",children:"Our Mission"}),i.jsx("p",{className:"text-lg text-text-muted mb-6 leading-relaxed",children:"At FamilyPay, we believe that managing money shouldn't be a source of stress for families. Our mission is to create simple, secure, and collaborative financial tools that bring families closer together."}),i.jsx("p",{className:"text-lg text-text-muted mb-8 leading-relaxed",children:"We're building a world where every family can achieve financial wellness together, regardless of their background or financial situation."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-text mb-1",children:"Simplicity First"}),i.jsx("p",{className:"text-text-muted",children:"Complex financial tools made simple for everyone."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-text mb-1",children:"Security Always"}),i.jsx("p",{className:"text-text-muted",children:"Bank-level security to protect your family's data."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-success mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-text mb-1",children:"Together Forever"}),i.jsx("p",{className:"text-text-muted",children:"Building tools that strengthen family bonds."})]})]})]})]}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-2xl p-8 border border-border",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx($2,{className:"w-8 h-8 text-primary"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"Vision"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Financial wellness for every family"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Qc,{className:"w-8 h-8 text-secondary"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"Values"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Trust, security, collaboration"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-success/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Mr,{className:"w-8 h-8 text-success"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"Community"}),i.jsx("div",{className:"text-sm text-text-muted",children:"2.5M+ families worldwide"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-warning/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_g,{className:"w-8 h-8 text-warning"})}),i.jsx("div",{className:"text-2xl font-bold text-text mb-1",children:"Impact"}),i.jsx("div",{className:"text-sm text-text-muted",children:"10M+ transactions processed"})]})]})})})]})})}),i.jsx("section",{id:"team",className:"py-20 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Meet Our Team"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Passionate individuals dedicated to helping families achieve financial wellness together."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:u.map((p,g)=>i.jsxs("div",{className:"text-center group",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full flex items-center justify-center text-4xl mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:p.image}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-1",children:p.name}),i.jsx("p",{className:"text-primary font-medium mb-3",children:p.role}),i.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:p.bio})]},g))})]})}),i.jsx("section",{id:"milestones",className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Our Journey"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"From a simple idea to serving millions of families worldwide."})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-primary via-secondary to-primary"}),i.jsx("div",{className:"space-y-12",children:o.map((p,g)=>{const x=p.icon,v=g%2===0;return i.jsxs("div",{className:`relative flex items-center ${v?"md:flex-row":"md:flex-row-reverse"}`,children:[i.jsx("div",{className:`w-full md:w-1/2 ${v?"md:pr-12 md:text-right":"md:pl-12"}`,children:i.jsxs("div",{className:"bg-bg-elevated rounded-xl p-6 border border-border hover:shadow-lg transition-shadow duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3 md:justify-end",children:[i.jsx(x,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-primary",children:p.year})]}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:p.title}),i.jsx("p",{className:"text-text-muted",children:p.description})]})}),i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-12 h-12 bg-primary rounded-full flex items-center justify-center border-4 border-bg-card shadow-lg",children:i.jsx(x,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:"w-full md:w-1/2"})]},g)})})]})]})}),i.jsx("section",{id:"values",className:"py-20 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Our Values"}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"The principles that guide everything we do at FamilyPay."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:d.map((p,g)=>{const x=p.icon;return i.jsxs("div",{className:"text-center group",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(x,{className:"w-10 h-10 text-primary"})}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3",children:p.title}),i.jsx("p",{className:"text-text-muted leading-relaxed",children:p.description})]},g)})})]})}),i.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-8 md:p-12 text-center",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Join Our Mission"}),i.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Be part of the family that's revolutionizing how families manage their finances together."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("button",{onClick:()=>s("/"),className:"btn bg-white text-primary hover:bg-gray-100 btn-lg flex items-center gap-2",children:["Get Started Free",i.jsx(Pc,{className:"w-5 h-5"})]}),i.jsx("button",{onClick:()=>s("/careers"),className:"btn bg-white/20 text-white border border-white/30 hover:bg-white/30 btn-lg backdrop-blur-sm",children:"Join Our Team"})]})]})})}),i.jsx("footer",{className:"bg-bg-elevated border-t border-border py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsx("p",{className:"text-text-muted",children:"The modern way to manage family finances together."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/about"),className:"text-text-muted hover:text-text",children:"About"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/careers"),className:"text-text-muted hover:text-text",children:"Careers"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/blog"),className:"text-text-muted hover:text-text",children:"Blog"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/contact"),className:"text-text-muted hover:text-text",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Product"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#features"),className:"text-text-muted hover:text-text",children:"Features"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#pricing"),className:"text-text-muted hover:text-text",children:"Pricing"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/api"),className:"text-text-muted hover:text-text",children:"API"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/help"),className:"text-text-muted hover:text-text",children:"Help Center"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Security"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Compliance"})})]})]})]}),i.jsx("div",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-text-muted text-sm",children:" 2024 FamilyPay. All rights reserved."}),i.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[i.jsx(pg,{className:"w-5 h-5 text-text-muted"}),i.jsx(Jl,{className:"w-5 h-5 text-text-muted"}),i.jsx(uu,{className:"w-5 h-5 text-text-muted"})]})]})})]})})]})},WM=()=>{const s=un(),[e,n]=dS(),[a,o]=R.useState(!1),[u,d]=R.useState(e.get("search")||""),[p,g]=R.useState(e.get("category")||"all"),[x,v]=R.useState(1),[w,A]=R.useState(!1);R.useEffect(()=>{const S=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]),R.useEffect(()=>{const S=new URLSearchParams;u&&S.set("search",u),p!=="all"&&S.set("category",p),n(S)},[u,p,n]);const O=[{id:1,title:"5 Smart Ways to Teach Kids About Money Management",excerpt:"Discover practical strategies to help your children develop healthy financial habits from an early age.",content:"Teaching children about money is one of the most valuable life skills parents can impart...",author:"Sarah Johnson",authorRole:"Family Finance Expert",date:"2024-01-15",readTime:"5 min read",category:"Family Finance",tags:["Kids","Education","Money Management"],image:"",featured:!0,likes:234,comments:45,shares:89},{id:2,title:"How Family Budgeting Apps Are Changing Household Finance",excerpt:"Explore the revolutionary impact of digital budgeting tools on modern family financial management.",content:"The landscape of family finance has undergone a dramatic transformation in recent years...",author:"Michael Chen",authorRole:"Tech Finance Analyst",date:"2024-01-12",readTime:"7 min read",category:"Technology",tags:["Apps","Budgeting","Digital Finance"],image:"",featured:!0,likes:189,comments:32,shares:67},{id:3,title:"Setting Financial Goals as a Family: A Complete Guide",excerpt:"Learn how to set and achieve financial goals together as a family unit for maximum success.",content:"Financial goal setting becomes exponentially more powerful when done as a family...",author:"Emma Davis",authorRole:"Financial Planner",date:"2024-01-10",readTime:"8 min read",category:"Planning",tags:["Goals","Family","Planning"],image:"",featured:!1,likes:156,comments:28,shares:54},{id:4,title:"The Psychology of Family Spending: Understanding Your Habits",excerpt:"Deep dive into the psychological factors that influence family spending patterns and how to optimize them.",content:"Understanding the psychology behind spending decisions can transform your family's financial health...",author:"Dr. Alex Kumar",authorRole:"Behavioral Economist",date:"2024-01-08",readTime:"10 min read",category:"Psychology",tags:["Psychology","Spending","Habits"],image:"",featured:!1,likes:203,comments:41,shares:78},{id:5,title:"Emergency Fund Essentials: Every Family's Safety Net",excerpt:"Why emergency funds are crucial for family financial security and how to build one effectively.",content:"An emergency fund is the foundation of any solid financial plan, especially for families...",author:"Lisa Wang",authorRole:"Certified Financial Advisor",date:"2024-01-05",readTime:"6 min read",category:"Savings",tags:["Emergency Fund","Savings","Security"],image:"",featured:!1,likes:178,comments:35,shares:92},{id:6,title:"Teaching Teens About Credit: A Parent's Guide",excerpt:"Help your teenagers understand credit cards, credit scores, and responsible credit usage.",content:"As teenagers approach adulthood, understanding credit becomes increasingly important...",author:"Robert Martinez",authorRole:"Credit Education Specialist",date:"2024-01-03",readTime:"7 min read",category:"Education",tags:["Teens","Credit","Education"],image:"",featured:!1,likes:145,comments:29,shares:61}],H=[{id:"all",name:"All Posts",count:O.length},{id:"family-finance",name:"Family Finance",count:1},{id:"technology",name:"Technology",count:1},{id:"planning",name:"Planning",count:1},{id:"psychology",name:"Psychology",count:1},{id:"savings",name:"Savings",count:1},{id:"education",name:"Education",count:1}],M=O.filter(S=>{const T=S.title.toLowerCase().includes(u.toLowerCase())||S.excerpt.toLowerCase().includes(u.toLowerCase())||S.tags.some(E=>E.toLowerCase().includes(u.toLowerCase())),j=p==="all"||S.category.toLowerCase().replace(" ","-")===p;return T&&j}),D=6,z=Math.ceil(M.length/D),G=(x-1)*D,L=M.slice(G,G+D),ae=S=>{s(`/blog/${S}`)},ie=S=>{g(S),v(1)},oe=S=>{S.preventDefault(),v(1)};return i.jsxs("div",{className:"min-h-screen bg-bg",children:[i.jsx("nav",{className:`fixed top-0 w-full transition-all duration-300 z-50 ${a?"bg-bg/95 backdrop-blur-sm border-b border-border":"bg-bg/80 backdrop-blur-sm"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{onClick:()=>s("/"),className:"text-text-muted hover:text-text transition-colors",children:"Home"}),i.jsx("button",{onClick:()=>s("/about"),className:"text-text-muted hover:text-text transition-colors",children:"About"}),i.jsx("button",{className:"text-primary font-medium",children:"Blog"}),i.jsx("button",{onClick:()=>s("/contact"),className:"text-text-muted hover:text-text transition-colors",children:"Contact"})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("button",{onClick:()=>s("/"),className:"btn btn-primary",children:"Back to Home"})})]})})}),i.jsxs("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5"}),i.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-text mb-6",children:["FamilyPay ",i.jsx("span",{className:"text-primary",children:"Blog"})]}),i.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto leading-relaxed",children:"Insights, tips, and stories to help your family achieve financial wellness together."})]}),i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("form",{onSubmit:oe,className:"relative",children:[i.jsx(uo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-muted"}),i.jsx("input",{type:"text",placeholder:"Search articles, topics, or keywords...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-bg-elevated border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-text placeholder-text-muted"}),i.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 btn btn-primary px-6 py-2",children:"Search"})]})})]})]}),i.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(S=>i.jsxs("button",{onClick:()=>ie(S.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${p===S.id?"bg-primary text-white":"bg-bg-elevated text-text-muted hover:text-text border border-border hover:border-primary/50"}`,children:[S.name,i.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",S.count,")"]})]},S.id))}),i.jsxs("button",{onClick:()=>A(!w),className:"md:hidden flex items-center gap-2 btn btn-secondary",children:[i.jsx(B2,{className:"w-4 h-4"}),"Filters"]})]}),i.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[i.jsxs("p",{className:"text-text-muted",children:["Showing ",L.length," of ",M.length," articles"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{className:"flex items-center gap-2 text-text-muted hover:text-text",children:[i.jsx(Pa,{className:"w-4 h-4"}),"Trending"]}),i.jsxs("button",{className:"flex items-center gap-2 text-text-muted hover:text-text",children:[i.jsx(Ar,{className:"w-4 h-4"}),"Recent"]})]})]})]})}),i.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:L.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(m_,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"No articles found"}),i.jsx("p",{className:"text-text-muted mb-6",children:"Try adjusting your search or filters to find what you're looking for."}),i.jsx("button",{onClick:()=>{d(""),g("all"),v(1)},className:"btn btn-primary",children:"Clear Filters"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.map(S=>i.jsxs("article",{onClick:()=>ae(S.id),className:"card p-6 cursor-pointer group hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[S.featured&&i.jsxs("div",{className:"inline-flex items-center gap-1 bg-warning/10 text-warning px-3 py-1 rounded-full text-xs font-medium mb-4",children:[i.jsx(G2,{className:"w-3 h-3"}),"Featured"]}),i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-xl flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform duration-300",children:S.image}),i.jsx("div",{className:"mb-3",children:i.jsx("span",{className:"text-xs font-medium text-primary uppercase tracking-wide",children:S.category})}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3 group-hover:text-primary transition-colors line-clamp-2",children:S.title}),i.jsx("p",{className:"text-text-muted mb-4 line-clamp-3 leading-relaxed",children:S.excerpt}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:S.tags.slice(0,3).map((T,j)=>i.jsxs("span",{className:"text-xs bg-bg-elevated text-text-muted px-2 py-1 rounded-full",children:["#",T]},j))}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-text-muted mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(co,{className:"w-4 h-4"}),new Date(S.date).toLocaleDateString()]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"w-4 h-4"}),S.readTime]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-sm",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text",children:S.author}),i.jsx("p",{className:"text-xs text-text-muted",children:S.authorRole})]})]})}),i.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-border text-sm text-text-muted",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qc,{className:"w-4 h-4"}),S.likes]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ph,{className:"w-4 h-4"}),S.comments]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vg,{className:"w-4 h-4"}),S.shares]})]})]},S.id))})})}),z>1&&i.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>v(Math.max(1,x-1)),disabled:x===1,className:"flex items-center gap-2 btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(d5,{className:"w-4 h-4"}),"Previous"]}),i.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:z},(S,T)=>T+1).map(S=>i.jsx("button",{onClick:()=>v(S),className:`w-10 h-10 rounded-lg font-medium transition-all duration-300 ${x===S?"bg-primary text-white":"bg-bg-elevated text-text-muted hover:text-text hover:border-primary/50 border border-border"}`,children:S},S))}),i.jsxs("button",{onClick:()=>v(Math.min(z,x+1)),disabled:x===z,className:"flex items-center gap-2 btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",i.jsx(Ox,{className:"w-4 h-4"})]})]})})}),i.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-8 md:p-12 text-center",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Stay Updated"}),i.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Get the latest family finance tips and insights delivered straight to your inbox."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[i.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"}),i.jsx("button",{className:"btn bg-white text-primary hover:bg-gray-100 px-6 py-3",children:"Subscribe"})]})]})})}),i.jsx("footer",{className:"bg-bg-elevated border-t border-border py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsx("p",{className:"text-text-muted",children:"The modern way to manage family finances together."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/about"),className:"text-text-muted hover:text-text",children:"About"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/careers"),className:"text-text-muted hover:text-text",children:"Careers"})}),i.jsx("li",{children:i.jsx("button",{className:"text-primary font-medium",children:"Blog"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/contact"),className:"text-text-muted hover:text-text",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Product"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#features"),className:"text-text-muted hover:text-text",children:"Features"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#pricing"),className:"text-text-muted hover:text-text",children:"Pricing"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/api"),className:"text-text-muted hover:text-text",children:"API"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/help"),className:"text-text-muted hover:text-text",children:"Help Center"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Security"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Compliance"})})]})]})]}),i.jsx("div",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-text-muted text-sm",children:" 2024 FamilyPay. All rights reserved."}),i.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[i.jsx(m_,{className:"w-5 h-5 text-text-muted"}),i.jsx(Ph,{className:"w-5 h-5 text-text-muted"}),i.jsx(vg,{className:"w-5 h-5 text-text-muted"})]})]})})]})})]})},JM=()=>{const s=un(),{postId:e}=bj(),[n,a]=R.useState(!1),[o,u]=R.useState(!1),[d,p]=R.useState(!1),[g,x]=R.useState(!1);R.useEffect(()=>{const z=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]);const v={title:"5 Smart Ways to Teach Kids About Money Management",excerpt:"Discover practical strategies to help your children develop healthy financial habits from an early age.",content:`
# 5 Smart Ways to Teach Kids About Money Management

Teaching children about money is one of the most valuable life skills parents can impart. In today's complex financial world, starting early with the right approach can set your children up for a lifetime of financial success.

## Why Financial Education Matters

Financial literacy isn't just about knowing how to save  it's about understanding the value of money, making informed decisions, and developing habits that will serve children well into adulthood. Studies show that children who learn about money management early are more likely to become financially responsible adults.

## 1. Start with Allowances and Budgeting

**Age Group:** 5-8 years

Begin with a simple allowance system that teaches basic budgeting concepts. Divide their allowance into three clear categories:

- **Saving (40%)**: For long-term goals
- **Spending (40%)**: For immediate wants
- **Giving (20%)**: For charitable causes

Use clear jars or digital apps to help them visualize where their money goes. This tangible approach makes abstract concepts concrete.

## 2. Introduce Smart Shopping Habits

**Age Group:** 8-12 years

Take your children shopping and involve them in decision-making processes:

- Compare prices between brands
- Use coupons and explain discounts
- Discuss needs versus wants
- Set shopping budgets and stick to them

These real-world experiences teach valuable lessons about value, comparison shopping, and delayed gratification.

## 3. Open a Bank Account Together

**Age Group:** 10-14 years

Opening their first bank account is a significant milestone. Use this opportunity to teach:

- How banks work
- The concept of interest
- Digital banking safety
- The importance of saving

Many banks offer special accounts for minors with no minimum balance requirements and educational resources.

## 4. Introduce Investment Concepts

**Age Group:** 13-16 years

As teenagers become more sophisticated, introduce basic investment concepts:

- Explain stocks, bonds, and mutual funds
- Discuss risk and return
- Use investment apps designed for teens
- Set up a custodial investment account

Consider using a small amount of money to practice investing with real (but supervised) market experience.

## 5. Teach Credit and Debt Management

**Age Group:** 16-18 years

Before they leave home, ensure they understand:

- How credit cards work
- The importance of credit scores
- The dangers of debt
- Responsible borrowing

Consider adding them as authorized users on your credit card with strict limits to help them build credit history under supervision.

## Making It Fun and Engaging

### Gamification
Turn financial learning into games:
- Board games like Monopoly or The Game of Life
- Apps that teach financial concepts
- Family financial challenges with rewards

### Real-World Applications
Connect lessons to their interests:
- If they love gaming, discuss in-game purchases and value
- For sports fans, explore athlete finances and contracts
- Music lovers can learn about the business side of the industry

## Common Mistakes to Avoid

1. **Being too abstract** - Use concrete examples and real money
2. **Overcomplicating concepts** - Start simple and build complexity gradually
3. **Not practicing what you preach** - Model good financial behavior
4. **Making it stressful** - Keep lessons positive and encouraging
5. **Waiting too long** - Start as early as possible with age-appropriate concepts

## Tools and Resources

### Apps for Kids
- **Greenlight**: Debit card and app for kids with parental controls
- **GoHenry**: Similar to Greenlight, with educational content
- **FamZoo**: Virtual family bank for teaching money management

### Books and Resources
- "The Opposite of Spoiled" by Ron Lieber
- "Smart Money Smart Kids" by Dave Ramsey
- Junior Achievement programs
- Local bank educational programs

## Conclusion

Teaching kids about money management is a marathon, not a sprint. Start early, be consistent, and adapt your approach as they grow. The financial habits you help them build today will serve them for the rest of their lives.

Remember, every family is different, so find what works for yours. The most important thing is to start the conversation and keep it going as your children grow and develop.

**What age did you start teaching your kids about money? Share your experiences in the comments below!**
    `,author:"Sarah Johnson",authorRole:"Family Finance Expert",authorBio:"Sarah is a certified financial planner with over 15 years of experience helping families build wealth and teach financial literacy to children.",date:"2024-01-15",readTime:"8 min read",category:"Family Finance",tags:["Kids","Education","Money Management","Parenting","Financial Literacy"],image:"",likes:234,comments:45,views:1523},w=[{id:2,title:"Setting Financial Goals as a Family: A Complete Guide",excerpt:"Learn how to set and achieve financial goals together as a family unit.",author:"Emma Davis",date:"2024-01-10",readTime:"8 min read",image:""},{id:3,title:"Emergency Fund Essentials: Every Family's Safety Net",excerpt:"Why emergency funds are crucial for family financial security.",author:"Lisa Wang",date:"2024-01-05",readTime:"6 min read",image:""},{id:4,title:"Teaching Teens About Credit: A Parent's Guide",excerpt:"Help your teenagers understand credit cards and responsible usage.",author:"Robert Martinez",date:"2024-01-03",readTime:"7 min read",image:""}],A=()=>{u(!o)},O=()=>{p(!d)},H=()=>{navigator.clipboard.writeText(window.location.href),x(!0),setTimeout(()=>x(!1),2e3)},M=z=>{const G=window.location.href,L=v.title,ae={facebook:`https://www.facebook.com/sharer/sharer.php?u=${G}`,twitter:`https://twitter.com/intent/tweet?text=${L}&url=${G}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${G}`};ae[z]&&window.open(ae[z],"_blank")},D=z=>{s(`/blog/${z}`)};return i.jsxs("div",{className:"min-h-screen bg-bg",children:[i.jsx("nav",{className:`fixed top-0 w-full transition-all duration-300 z-50 ${n?"bg-bg/95 backdrop-blur-sm border-b border-border":"bg-bg/80 backdrop-blur-sm"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center gap-8",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]})}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("button",{onClick:()=>s("/blog"),className:"btn btn-secondary",children:[i.jsx(P2,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]})})}),i.jsx("article",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:"text-sm font-medium text-primary uppercase tracking-wide",children:v.category})}),i.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-text mb-6 leading-tight",children:v.title}),i.jsx("p",{className:"text-xl text-text-muted mb-8 leading-relaxed",children:v.excerpt}),i.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-text-muted mb-8 pb-8 border-b border-border",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(co,{className:"w-4 h-4"}),new Date(v.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"w-4 h-4"}),v.readTime]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"w-4 h-4"}),v.views," views"]})]}),i.jsxs("div",{className:"flex items-start gap-4 mb-8 pb-8 border-b border-border",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-text",children:v.author}),i.jsx("p",{className:"text-sm text-text-muted",children:v.authorRole})]}),i.jsx("p",{className:"text-text-muted mt-2 text-sm",children:v.authorBio})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:v.tags.map((z,G)=>i.jsxs("span",{className:"flex items-center gap-1 text-sm bg-bg-elevated text-text-muted px-3 py-1 rounded-full",children:[i.jsx(SM,{className:"w-3 h-3"}),z]},G))})]})}),i.jsx("section",{className:"pb-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"prose prose-lg prose-invert max-w-none",children:[i.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-2xl flex items-center justify-center text-6xl mx-auto mb-8",children:v.image}),i.jsx("div",{className:"text-text leading-relaxed space-y-6",dangerouslySetInnerHTML:{__html:v.content.replace(/\n/g,"<br>").replace(/#{1,6}\s/g,"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}})]})})}),i.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${o?"bg-red-500/10 text-red-500 border border-red-500/20":"bg-bg-elevated text-text-muted hover:text-text border border-border"}`,children:[i.jsx(Qc,{className:`w-4 h-4 ${o?"fill-current":""}`}),v.likes+(o?1:0)]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-bg-elevated text-text-muted hover:text-text rounded-lg border border-border transition-all duration-300",children:[i.jsx(Ph,{className:"w-4 h-4"}),v.comments]}),i.jsxs("button",{onClick:O,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${d?"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20":"bg-bg-elevated text-text-muted hover:text-text border border-border"}`,children:[i.jsx(r5,{className:`w-4 h-4 ${d?"fill-current":""}`}),"Save"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>M("facebook"),className:"w-10 h-10 bg-blue-500 text-white rounded-lg flex items-center justify-center hover:bg-blue-600 transition-colors",children:i.jsx(E5,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>M("twitter"),className:"w-10 h-10 bg-sky-500 text-white rounded-lg flex items-center justify-center hover:bg-sky-600 transition-colors",children:i.jsx(PM,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>M("linkedin"),className:"w-10 h-10 bg-blue-700 text-white rounded-lg flex items-center justify-center hover:bg-blue-800 transition-colors",children:i.jsx(H5,{className:"w-5 h-5"})}),i.jsx("button",{onClick:H,className:"w-10 h-10 bg-bg-elevated text-text-muted hover:text-text rounded-lg flex items-center justify-center border border-border transition-all duration-300",children:g?i.jsx(Ot,{className:"w-5 h-5 text-success"}):i.jsx(F5,{className:"w-5 h-5"})})]})]})})}),i.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-text mb-4",children:"Related Articles"}),i.jsx("p",{className:"text-xl text-text-muted",children:"Continue reading about family finance and money management."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:w.map(z=>i.jsxs("article",{onClick:()=>D(z.id),className:"card p-6 cursor-pointer group hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-xl flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform duration-300",children:z.image}),i.jsx("h3",{className:"text-xl font-semibold text-text mb-3 group-hover:text-primary transition-colors line-clamp-2",children:z.title}),i.jsx("p",{className:"text-text-muted mb-4 line-clamp-2",children:z.excerpt}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-text-muted",children:[i.jsx("span",{children:z.author}),i.jsx("span",{children:z.readTime})]})]},z.id))})]})}),i.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-bg-card",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-8 md:p-12 text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Enjoyed this article?"}),i.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Get more family finance tips and insights delivered straight to your inbox."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[i.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"}),i.jsx("button",{className:"btn bg-white text-primary hover:bg-gray-100 px-6 py-3",children:"Subscribe"})]})]})})}),i.jsx("footer",{className:"bg-bg-elevated border-t border-border py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),i.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),i.jsx("p",{className:"text-text-muted",children:"The modern way to manage family finances together."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/about"),className:"text-text-muted hover:text-text",children:"About"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/careers"),className:"text-text-muted hover:text-text",children:"Careers"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/blog"),className:"text-primary font-medium",children:"Blog"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/contact"),className:"text-text-muted hover:text-text",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Product"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#features"),className:"text-text-muted hover:text-text",children:"Features"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/#pricing"),className:"text-text-muted hover:text-text",children:"Pricing"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/api"),className:"text-text-muted hover:text-text",children:"API"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>s("/help"),className:"text-text-muted hover:text-text",children:"Help Center"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Security"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Compliance"})})]})]})]}),i.jsx("div",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-text-muted text-sm",children:" 2024 FamilyPay. All rights reserved."}),i.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[i.jsx(Qc,{className:"w-5 h-5 text-text-muted"}),i.jsx(Ph,{className:"w-5 h-5 text-text-muted"}),i.jsx(vg,{className:"w-5 h-5 text-text-muted"})]})]})})]})})]})},K2=({onClose:s,onAdd:e})=>{const[n,a]=R.useState({secondaryUserId:"",dailyLimit:1e3,monthlyLimit:1e4}),[o,u]=R.useState(""),[d,p]=R.useState(!1),g=v=>{a({...n,[v.target.name]:v.target.value})},x=async v=>{v.preventDefault(),u(""),p(!0);try{await e({secondaryUserId:parseInt(n.secondaryUserId),dailyLimit:parseFloat(n.dailyLimit),monthlyLimit:parseFloat(n.monthlyLimit)})}catch(w){u(w.message),p(!1)}};return i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content fade-in",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:"Add Family Member"}),i.jsx("button",{className:"modal-close",onClick:s,children:""})]}),o&&i.jsx("div",{className:"alert alert-error",children:o}),i.jsxs("form",{onSubmit:x,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Secondary User ID"}),i.jsx("input",{type:"number",name:"secondaryUserId",className:"form-input",placeholder:"Enter user ID",value:n.secondaryUserId,onChange:g,required:!0}),i.jsx("p",{className:"text-muted text-sm mt-1",children:"Ask the user to provide their User ID from their profile"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Daily Limit ()"}),i.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:n.dailyLimit,onChange:g,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),i.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:n.monthlyLimit,onChange:g,required:!0})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:s,disabled:d,children:"Cancel"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?i.jsx("div",{className:"loading-spinner w-4 h-4"}):"Add Member"})]})]})]})})},ZM=({member:s,onClose:e,onSetLimit:n})=>{const[a,o]=R.useState({dailyLimit:s?.dailyLimit||1e3,monthlyLimit:s?.monthlyLimit||1e4}),[u,d]=R.useState(""),[p,g]=R.useState(!1),x=w=>{o({...a,[w.target.name]:parseFloat(w.target.value)})},v=async w=>{w.preventDefault(),d(""),g(!0);try{await n(a)}catch(A){d(A.message),g(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text",children:["Set Limits for ",s?.name||"Member"]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx("span",{className:"text-text-muted",children:""})})]}),u&&i.jsx("div",{className:"p-4 bg-danger/10 border border-danger/20",children:i.jsx("p",{className:"text-danger text-sm",children:u})}),i.jsxs("form",{onSubmit:v,className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Daily Limit ()"}),i.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:a.dailyLimit,onChange:x,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),i.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:a.monthlyLimit,onChange:x,required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:p,className:"flex-1 btn btn-primary",children:p?"Setting...":"Set Limits"})]})]})]})})},eO=({isOpen:s,toggleSidebar:e})=>{const{user:n,logout:a}=dn(),o=ns(),[u,d]=R.useState(null),p=[{title:"Dashboard",icon:V5,path:"/dashboard",active:o.pathname==="/dashboard"},{title:"Family Members",icon:Mr,count:4,path:"/dashboard/members",active:o.pathname==="/dashboard/members"},{title:"Transactions",icon:En,count:234,path:"/dashboard/transactions",active:o.pathname==="/dashboard/transactions"},{title:"Pending Approvals",icon:co,count:3,path:"/dashboard/pending",active:o.pathname==="/dashboard/pending"},{title:"Analytics",icon:V2,path:"/dashboard/analytics",active:o.pathname==="/dashboard/analytics"},{title:"Spending Limits",icon:Xc,path:"/dashboard/limits",active:o.pathname==="/dashboard/limits"},{title:"Notifications",icon:tM,count:12,path:"/dashboard/notifications",active:o.pathname==="/dashboard/notifications"},{title:"Reports",icon:j5,path:"/dashboard/reports",active:o.pathname==="/dashboard/reports"},{title:"Activity Log",icon:Qk,path:"/dashboard/activity",active:o.pathname==="/dashboard/activity"}],g=[{title:"Settings",icon:Xc,items:[{title:"General Settings",path:"/dashboard/settings/general"},{title:"Circle Management",icon:Mr,path:"/dashboard/settings/circle"},{title:"Payment Methods",icon:En,path:"/dashboard/settings/payments"}]}],x=v=>{d(u===v?null:v)};return i.jsxs(i.Fragment,{children:[s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e}),i.jsx("div",{className:`
                fixed left-0 top-0 h-full bg-bg-card border-r border-border z-50 transition-all duration-300
                ${s?"w-64":"w-0 lg:w-20"} 
                ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:`flex items-center gap-3 ${!s&&"lg:justify-center"}`,children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-lg",children:"FP"})}),s&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-text font-semibold",children:"Family Pay"}),i.jsx("p",{className:"text-text-muted text-xs",children:"Admin Panel"})]})]}),i.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-bg-elevated lg:hidden",children:i.jsx(Bi,{className:"w-5 h-5 text-text"})})]})}),i.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:i.jsxs("div",{className:"space-y-2",children:[p.map(v=>i.jsxs(Aa,{to:v.path,className:`
                                        flex items-center justify-between p-3 rounded-lg transition-all duration-200
                                        ${v.active?"bg-primary/10 text-primary border border-primary/20":"hover:bg-bg-elevated text-text-muted hover:text-text"}
                                    `,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(v.icon,{className:"w-5 h-5"}),s&&i.jsx("span",{className:"text-sm font-medium",children:v.title})]}),v.count&&s&&i.jsx("span",{className:"bg-primary/20 text-primary text-xs px-2 py-1 rounded-full",children:v.count})]},v.title)),g.map(v=>i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>x(v.title),className:`
                                            w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200
                                            ${u===v.title?"bg-primary/10 text-primary border border-primary/20":"hover:bg-bg-elevated text-text-muted hover:text-text"}
                                        `,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(v.icon,{className:"w-5 h-5"}),s&&i.jsx("span",{className:"text-sm font-medium",children:v.title})]}),s&&i.jsx(z2,{className:`w-4 h-4 transition-transform duration-200 ${u===v.title?"rotate-180":""}`})]}),s&&u===v.title&&i.jsx("div",{className:"ml-4 mt-2 space-y-1",children:v.items.map(w=>i.jsxs(Aa,{to:w.path,className:`
                                                        flex items-center gap-3 p-2 rounded-lg text-sm transition-all duration-200
                                                        ${o.pathname===w.path?"bg-primary/10 text-primary":"text-text-muted hover:text-text hover:bg-bg-elevated"}
                                                    `,children:[w.icon&&i.jsx(w.icon,{className:"w-4 h-4"}),w.title]},w.title))})]},v.title))]})}),i.jsxs("div",{className:"p-4 border-t border-border",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-secondary to-primary rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-semibold",children:n?.name?.charAt(0).toUpperCase()||"A"})}),s&&i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-text truncate",children:n?.email||"admin@familypay.com"}),i.jsx("p",{className:"text-xs text-text-muted",children:"Administrator"})]})]}),s&&i.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-2 rounded-lg text-sm text-text-muted hover:text-danger hover:bg-danger/10 transition-all duration-200",children:[i.jsx(Q5,{className:"w-4 h-4"}),"Logout"]})]})]})})]})},ho=({userRole:s="SECONDARY"})=>{const e=un(),n=ns(),[a,o]=R.useState("dashboard"),[u,d]=R.useState(!1);R.useEffect(()=>{const x=()=>{d(window.innerWidth<1024)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const p=s==="ADMIN"||s==="PRIMARY"?[{id:"dashboard",label:"Dashboard",icon:p_,path:"/dashboard"},{id:"transactions",label:"Transactions",icon:En,path:"/dashboard/transactions"},{id:"members",label:"Members",icon:Mr,path:"/dashboard/members"},{id:"analytics",label:"Analytics",icon:V2,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:Xc,path:"/dashboard/settings"}]:[{id:"dashboard",label:"Home",icon:p_,path:"/dashboard"},{id:"payments",label:"Pay",icon:FM,path:"/dashboard/payments"},{id:"transactions",label:"History",icon:En,path:"/dashboard/transactions"},{id:"notifications",label:"Alerts",icon:Mi,path:"/dashboard/notifications"},{id:"profile",label:"Profile",icon:Zl,path:"/dashboard/profile"}],g=x=>{console.log("BottomNav clicked:",x),o(x.id),e(x.path),"vibrate"in navigator&&navigator.vibrate(50)};return R.useEffect(()=>{const x=n.pathname,v=p.find(w=>x===w.path||x.startsWith(w.path+"/"));v&&o(v.id)},[n.pathname,p]),u?i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-bg-card/95 backdrop-blur-lg border-t border-border z-50 safe-area-inset-bottom",children:[i.jsx("div",{className:"flex justify-around items-center h-16 px-2 max-w-md mx-auto",children:p.map(x=>{const v=x.icon,w=a===x.id;return i.jsxs("button",{onClick:()=>g(x),className:`flex flex-col items-center justify-center py-2 px-2 rounded-xl transition-all duration-300 min-w-0 flex-1 relative group ${w?"text-primary scale-105":"text-text-muted hover:text-text"}`,children:[w&&i.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"}),i.jsxs("div",{className:"relative mb-1",children:[i.jsx(v,{className:`w-5 h-5 transition-all duration-300 ${w?"text-primary scale-110":"text-text-muted group-hover:scale-105"}`}),x.id==="notifications"&&i.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-danger rounded-full animate-pulse"})]}),i.jsx("span",{className:`text-xs transition-all duration-300 truncate w-full text-center ${w?"text-primary font-semibold":"text-text-muted group-hover:text-text"}`,children:x.label}),i.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/10 scale-0 group-active:scale-100 transition-transform duration-200"})]},x.id)})}),i.jsx("div",{className:"h-2 bg-bg-card/95 backdrop-blur-lg"})]}):null},g_=()=>{const{user:s,logout:e}=dn(),[n,a]=R.useState(!0),[o,u]=R.useState(!1),[d,p]=R.useState(!1),[g,x]=R.useState(!1),[v,w]=R.useState(!1),[A,O]=R.useState(Vl),[H,M]=R.useState([]),[D,z]=R.useState(!0),[G,L]=R.useState(!1),[ae,ie]=R.useState(null),oe=async()=>{try{const[E,k]=await Promise.all([_c.getCircle(),_c.getPendingPayments()]);O(E.data.data),M(k.data.data),z(!1)}catch{console.error("Error loading dashboard"),z(!1)}},S=async(E,k)=>{try{await _c.approvePayment(E,k),oe()}catch{alert("Failed to process payment")}},T=async(E,k)=>{try{const B=A.members.find(I=>I.id===E);B&&(B.dailyLimit=k.dailyLimit,B.monthlyLimit=k.monthlyLimit,O({...A})),ie(null)}catch{throw new Error("Failed to update limits")}};R.useEffect(()=>{let E=!0;return(async()=>{try{const[B,I]=await Promise.all([_c.getCircle(),_c.getPendingPayments()]);E&&(O(B.data.data),M(I.data.data),z(!1))}catch{E&&(console.error("Error loading dashboard"),z(!1))}})(),()=>{E=!1}},[]),R.useEffect(()=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const j=()=>{u(!o)};return D?i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"min-h-screen bg-bg flex",children:[i.jsx(eO,{isOpen:n,toggleSidebar:()=>a(!n)}),i.jsxs("div",{className:`flex-1 transition-all duration-300 ${n?"ml-64":"ml-0 lg:ml-20"}`,children:[i.jsxs("header",{className:"bg-bg-card border-b border-border sticky top-0 z-40",children:[i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>a(!n),className:"p-2 rounded-lg hover:bg-bg-elevated lg:hidden transition-colors",children:i.jsx(q2,{className:"w-5 h-5 text-text"})}),i.jsxs("div",{className:"hidden md:flex items-center bg-bg-elevated rounded-lg px-3 py-2 w-64 lg:w-96",children:[i.jsx(uo,{className:"w-4 h-4 text-text-muted mr-2"}),i.jsx("input",{type:"text",placeholder:"Search transactions, members...",className:"bg-transparent border-0 outline-none text-text placeholder-text-muted flex-1 text-sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:j,className:"p-2 rounded-lg hover:bg-bg-elevated transition-colors",title:"Toggle dark mode",children:o?i.jsx(TM,{className:"w-5 h-5 text-warning"}):i.jsx(sM,{className:"w-5 h-5 text-text-muted"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>x(!g),className:"p-2 rounded-lg hover:bg-bg-elevated transition-colors relative",title:"Notifications",children:[i.jsx(Mi,{className:"w-5 h-5 text-text"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-danger rounded-full"})]}),g&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-bg-card border border-border rounded-lg shadow-lg",children:[i.jsxs("div",{className:"p-4 border-b border-border",children:[i.jsx("h3",{className:"font-semibold text-text",children:"Notifications"}),i.jsx("span",{className:"text-xs text-text-muted",children:"3 new"})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto",children:[{id:1,title:"Payment Pending",message:"Rajnish requested 2,850 for groceries",time:"2 minutes ago",read:!1},{id:2,title:"Limit Reached",message:"Sangam reached 80% of daily limit",time:"1 hour ago",read:!1},{id:3,title:"Payment Completed",message:"Raveena paid electricity bill",time:"3 hours ago",read:!0}].map(E=>i.jsx("div",{className:`p-3 hover:bg-bg-elevated cursor-pointer border-b border-border last:border-b-0 ${E.read?"":"bg-primary/5"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-text text-sm",children:E.title}),i.jsx("div",{className:"text-xs text-text-muted",children:E.message}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:E.time})]})]})},E.id))}),i.jsx("div",{className:"p-3 border-t border-border",children:i.jsx("button",{className:"text-sm text-primary hover:text-primary/80",children:"View all notifications"})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!v),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-bg-elevated transition-colors",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold text-sm",children:s?.name?.charAt(0).toUpperCase()||"A"}),i.jsxs("div",{className:"hidden sm:block text-left",children:[i.jsx("div",{className:"text-sm font-medium text-text",children:s?.name||"Admin"}),i.jsx("div",{className:"text-xs text-text-muted",children:s?.email||"admin@familypay.com"})]}),i.jsx(z2,{className:"w-4 h-4 text-text-muted"})]}),v&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-bg-card border border-border rounded-lg shadow-lg",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold",children:s?.name?.charAt(0).toUpperCase()||"A"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text",children:s?.name||"Admin"}),i.jsx("div",{className:"text-sm text-text-muted",children:s?.email||"admin@familypay.com"}),i.jsx("div",{className:"text-xs text-success",children:"Administrator"})]})]})}),i.jsxs("div",{className:"py-2",children:[i.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Profile Settings"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Account Settings"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Help & Support"}),i.jsx("div",{className:"border-t border-border my-2"}),i.jsx("button",{onClick:e,className:"w-full text-left px-4 py-2 text-sm text-danger hover:bg-danger/10 transition-colors",children:"Logout"})]})]})]})]})]})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 lg:hidden",onClick:()=>p(!1)}),d&&i.jsx("div",{className:"fixed top-16 left-0 right-0 bg-bg-card border-b border-border z-40 lg:hidden",children:i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-bg-elevated rounded-lg",children:"Dashboard"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-bg-elevated rounded-lg",children:"Family Members"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Transactions"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Analytics"}),i.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Settings"})]})})})]}),i.jsxs("div",{className:"p-6 pb-20 lg:pb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsxs("div",{className:"card bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-primary rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("span",{className:"text-primary text-sm font-medium",children:"+12.5%"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-text",children:"45,678"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Total Spending"})]})]}),i.jsxs("div",{className:"card bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2a3 3 0 00-5.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2a3 3 0 00-5.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("span",{className:"text-blue-500 text-sm font-medium",children:"4 members"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-text",children:"4"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Family Members"})]})]}),i.jsxs("div",{className:"card bg-gradient-to-br from-green-500/10 to-green-600/5 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7-8h18m-4 0v8m0 0v8m0-8h8m-9-4h1m-9-4v8m0 0v8"})})}),i.jsx("span",{className:"text-green-500 text-sm font-medium",children:"234 total"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-text",children:"234"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Transactions"})]})]}),i.jsxs("div",{className:"card bg-gradient-to-br from-orange-500/10 to-orange-600/5 border border-orange-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-orange-500 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("span",{className:"text-orange-500 text-sm font-medium",children:"3 pending"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-text",children:"3"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Pending Approvals"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:[i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"New Customers"}),i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"234"}),i.jsx("div",{className:"text-xs text-success",children:"+12% from last month"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"Pending Orders"}),i.jsx("div",{className:"w-8 h-8 bg-warning/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"45"}),i.jsx("div",{className:"text-xs text-warning",children:"Requires attention"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"Completed Orders"}),i.jsx("div",{className:"w-8 h-8 bg-success/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"522"}),i.jsx("div",{className:"text-xs text-success",children:"+18% from last month"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"Revenue Today"}),i.jsx("div",{className:"w-8 h-8 bg-info/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"8,450"}),i.jsx("div",{className:"text-xs text-success",children:"+5.2% from yesterday"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"Avg Order Value"}),i.jsx("div",{className:"w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"1,234"}),i.jsx("div",{className:"text-xs text-success",children:"+2.8% from last month"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-text-muted",children:"Satisfaction"}),i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i.jsx("div",{className:"text-xl font-bold text-text",children:"4.8"}),i.jsx("div",{className:"text-xs text-success",children:"+0.2 from last month"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Monthly Goal Progress"}),i.jsx("span",{className:"text-sm text-text-muted",children:"68% Complete"})]}),i.jsx("div",{className:"space-y-4",children:[{label:"Revenue Target",current:45e3,target:66e3,percentage:68,color:"bg-green-500"},{label:"New Customers",current:180,target:250,percentage:72,color:"bg-blue-500"},{label:"Orders Processed",current:420,target:500,percentage:84,color:"bg-purple-500"},{label:"Customer Retention",current:85,target:90,percentage:94,color:"bg-orange-500"}].map((E,k)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-text",children:E.label}),i.jsxs("span",{className:"text-text-muted",children:[E.current.toLocaleString()," /"," ",E.target.toLocaleString()]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:`${E.color} h-2 rounded-full transition-all duration-300`,style:{width:`${E.percentage}%`}})})]},k))})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Performance Metrics"}),i.jsx("span",{className:"text-sm text-success",children:"Overall: +15.3%"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Response Time",value:"2.3s",change:"-12%",trend:"down",color:"text-danger"},{label:"Resolution Rate",value:"94.2%",change:"+5.8%",trend:"up",color:"text-success"},{label:"Customer Score",value:"8.7/10",change:"+0.3",trend:"up",color:"text-success"},{label:"System Uptime",value:"99.8%",change:"+0.1%",trend:"up",color:"text-success"}].map((E,k)=>i.jsxs("div",{className:"p-3 bg-bg-elevated rounded-lg border border-border",children:[i.jsx("div",{className:"text-sm text-text-muted mb-1",children:E.label}),i.jsx("div",{className:"text-lg font-bold text-text mb-1",children:E.value}),i.jsxs("div",{className:`text-xs font-medium ${E.color}`,children:[E.trend==="up"?"":""," ",E.change]})]},k))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[i.jsxs("div",{className:"lg:col-span-2 card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Spending Overview"}),i.jsxs("select",{className:"btn btn-secondary btn-sm",children:[i.jsx("option",{children:"Last 7 Days"}),i.jsx("option",{children:"Last 30 Days"}),i.jsx("option",{children:"Last 3 Months"})]})]}),i.jsx("div",{className:"h-64",children:i.jsx("div",{className:"flex items-end justify-between h-full px-2",children:[{day:"Mon",amount:2800,percentage:70},{day:"Tue",amount:3200,percentage:80},{day:"Wed",amount:2100,percentage:52},{day:"Thu",amount:3800,percentage:95},{day:"Fri",amount:2900,percentage:72},{day:"Sat",amount:3500,percentage:87},{day:"Sun",amount:1800,percentage:45}].map((E,k)=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"text-xs text-text-muted mb-1",children:["",E.amount]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-t-lg relative h-32 flex items-end",children:i.jsx("div",{className:"w-full bg-gradient-to-t from-primary to-secondary rounded-t-lg transition-all duration-300",style:{height:`${E.percentage}%`}})}),i.jsx("div",{className:"text-xs text-text-muted mt-2",children:E.day})]},k))})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Category Distribution"})}),i.jsx("div",{className:"space-y-4",children:[{category:"Food & Groceries",amount:12500,percentage:35,color:"bg-green-500"},{category:"Shopping",amount:8900,percentage:25,color:"bg-blue-500"},{category:"Bills & Utilities",amount:7200,percentage:20,color:"bg-yellow-500"},{category:"Transport",amount:5400,percentage:15,color:"bg-purple-500"},{category:"Entertainment",amount:1800,percentage:5,color:"bg-pink-500"}].map((E,k)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"FamilyPay Admin"}),i.jsx("p",{className:"text-sm text-text-muted",children:"Manage your family circle efficiently"})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-sm font-semibold text-text",children:[E.percentage,"%"]})})]},k))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Member Spending Comparison"})}),i.jsx("div",{className:"space-y-4",children:[{name:"Rajnish",spent:8500,limit:1e4,percentage:85},{name:"Sangam",spent:6200,limit:8e3,percentage:77},{name:"Raveena",spent:4800,limit:6e3,percentage:80},{name:"Shubh",spent:3200,limit:5e3,percentage:64}].map((E,k)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-text",children:E.name}),i.jsxs("span",{className:"text-xs text-text-muted",children:["",E.spent," / ",E.limit]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${E.percentage>80?"bg-danger":E.percentage>60?"bg-warning":"bg-success"}`,style:{width:`${E.percentage}%`}})})]},k))})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Transaction Trends"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-success",children:"+23%"}),i.jsx("div",{className:"text-sm text-text-muted",children:"vs Last Month"}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Total Transactions"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-danger",children:"+15%"}),i.jsx("div",{className:"text-sm text-text-muted",children:"vs Last Month"}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Avg. Transaction"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:"2,450"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Average"}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Per Transaction"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-warning",children:"89%"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Transactions"})]})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Monthly Overview"}),i.jsx("button",{className:"btn btn-secondary btn-sm",children:"Export Report"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"January",amount:45678,change:12.5,trend:"up"},{label:"February",amount:38900,change:-8.2,trend:"down"},{label:"March",amount:52340,change:34.6,trend:"up"},{label:"April (Current)",amount:35800,change:0,trend:"neutral"}].map((E,k)=>i.jsxs("div",{className:"p-4 bg-bg-elevated rounded-lg border border-border",children:[i.jsx("div",{className:"text-sm text-text-muted mb-1",children:E.label}),i.jsxs("div",{className:"text-xl font-bold text-text mb-2",children:["",E.amount.toLocaleString()]}),E.trend!=="neutral"&&i.jsxs("div",{className:`flex items-center text-xs ${E.trend==="up"?"text-success":"text-danger"}`,children:[E.trend==="up"?"":""," ",Math.abs(E.change),"%"]})]},k))})]}),H.length>0&&i.jsxs("div",{className:"card mb-6",children:[i.jsx("div",{className:"border-b border-border pb-4 mb-4",children:i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Pending Approvals"})}),i.jsx("div",{className:"space-y-4",children:H.map(E=>i.jsx("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-default border border-border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-text mb-1",children:E.fromUser.name}),i.jsx("div",{className:"text-text-muted text-sm mb-2",children:E.description}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-info/10 text-info",children:["",E.amount]}),i.jsxs("span",{className:"text-text-muted text-sm",children:["To: ",E.toUpiId]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"btn btn-success text-sm px-3 py-1",onClick:()=>S(E.id,!0),children:" Approve"}),i.jsx("button",{className:"btn btn-danger text-sm px-3 py-1",onClick:()=>S(E.id,!1),children:" Reject"})]})]})},E.id))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Recent Transactions"}),i.jsx("button",{className:"btn btn-secondary btn-sm",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-border",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Member"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:[{id:1,member:"Rajnish Kumar",phone:"+91 9876543210",avatar:"R",description:"Grocery shopping at Big Bazaar",amount:2850,status:"completed",date:"2024-01-15",category:"Food & Groceries"},{id:2,member:"Sangam Singh",phone:"+91 9876543211",avatar:"S",description:"Mobile phone bill payment",amount:1299,status:"pending",date:"2024-01-15",category:"Bills & Utilities"},{id:3,member:"Raveena Kumari",phone:"+91 9876543212",avatar:"R",description:"Online shopping - Amazon",amount:3599,status:"completed",date:"2024-01-14",category:"Shopping"},{id:4,member:"Shubh Kumar",phone:"+91 9876543213",avatar:"S",description:"Electricity bill payment",amount:2200,status:"pending",date:"2024-01-13",category:"Bills & Utilities"}].map(E=>i.jsxs("tr",{className:"hover:bg-bg-elevated",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold text-sm",children:E.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text",children:E.member}),i.jsx("div",{className:"text-xs text-text-muted",children:E.phone})]})]})}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text",children:E.description}),i.jsx("div",{className:"text-xs text-text-muted",children:E.category})]})}),i.jsxs("td",{className:"font-semibold text-text",children:["",E.amount]}),i.jsx("td",{children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${E.status==="completed"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:E.status})}),i.jsx("td",{className:"text-text-muted text-sm",children:E.date}),i.jsx("td",{children:i.jsx("button",{className:"p-1 hover:bg-bg-elevated rounded",children:i.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v14m0 0l-7 7m7 7V7a2 2 0 002-2h2a2 2 0 002-2m0 10a2 2 0 002 2 2 2 0 002-2m-6 8a2 2 0 002-2-2 2 0 00-2z"})})})})]},E.id))})]})})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:" Activity Feed"}),i.jsx("button",{className:"btn btn-secondary btn-sm",children:"View All"})]}),i.jsx("div",{className:"space-y-4",children:[{id:1,icon:"",title:"System Update",description:"Database backup completed successfully",time:"1 hour ago",color:"text-blue-500"},{id:2,icon:"",title:"Pending Payment Alert",description:"2 payments waiting for admin approval",time:"2 hours ago",color:"text-yellow-500"},{id:3,icon:"",title:"New Transaction Received",description:"Grocery payment from Rajnish - 2,850",time:"3 hours ago",color:"text-green-500"},{id:4,icon:"",title:"New Transaction Received",description:"Mobile payment from Sangam - 1,299",time:"4 hours ago",color:"text-green-500"},{id:5,icon:"",title:"Payment Completed",description:"Electricity bill paid for Shubh",time:"5 hours ago",color:"text-green-500"}].map(E=>i.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-bg-elevated rounded-lg",children:[i.jsx("div",{className:"text-2xl",children:E.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-text mb-1",children:E.title}),i.jsx("div",{className:"text-sm text-text-muted",children:E.description}),i.jsx("div",{className:"text-xs text-text-muted mt-1",children:E.time})]})]},E.id))})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text",children:[" Family Members (",A.members.length,")"]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>L(!0),children:"+ Add Member"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.members.map(E=>i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-medium text-text mb-1",children:E.secondaryUser.name}),i.jsx("p",{className:"text-text-muted text-sm",children:E.secondaryUser.upiId}),E.secondaryUser.isMinor&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-warning/10 text-warning mt-2",children:"Minor"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[i.jsx("span",{className:"text-text-muted",children:"Daily Limit"}),i.jsxs("span",{className:"font-medium text-text",children:["",E.currentDailySpent," / ",E.dailyLimit]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(E.currentDailySpent/E.dailyLimit*100,100)}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[i.jsx("span",{className:"text-text-muted",children:"Monthly Limit"}),i.jsxs("span",{className:"font-medium text-text",children:["",E.currentMonthlySpent," / ",E.monthlyLimit]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:"bg-secondary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(E.currentMonthlySpent/E.monthlyLimit*100,100)}%`}})})]})]}),i.jsx("div",{className:"pt-4 border-t border-border",children:i.jsx("button",{className:"btn btn-secondary w-full text-sm",onClick:()=>ie(E),children:"Set Limits"})})]},E.id))})]}),G&&i.jsx(K2,{onClose:()=>L(!1),onAdd:async()=>{alert("Demo Mode: Member addition simulated"),L(!1)}}),ae&&i.jsx(ZM,{member:ae,onClose:()=>ie(null),onUpdate:T})]})]}),i.jsx(ho,{userRole:s?.role})]})},Q2={createPayment:async s=>{try{const e={...s,type:"PAYMENT",status:s.amount>=1e3?"pending":"completed",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await vn.createTransaction(e);return n.success?(e.status==="completed"&&await(void 0).updateCircleSpending(s.fromUserId,s.amount),{success:!0,data:{id:n.id,...e,autoApproved:s.amount<1e3}}):{success:!1,error:n.error}}catch(e){return{success:!1,error:e.message}}},getUserTransactions:async(s,e=50)=>{try{return await vn.getUserTransactions(s,e)}catch(n){return{success:!1,error:n.message}}},getPendingTransactions:async()=>{try{return await vn.getPendingTransactions()}catch(s){return{success:!1,error:s.message}}},approvePayment:async(s,e)=>{try{const n={status:"completed",approvedBy:e,approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},a=await vn.updateTransaction(s,n);return a.success?{success:!0,data:n}:{success:!1,error:a.error}}catch(n){return{success:!1,error:n.message}}},rejectPayment:async(s,e,n)=>{try{const a={status:"rejected",rejectedBy:e,rejectedAt:new Date().toISOString(),rejectionReason:n,updatedAt:new Date().toISOString()},o=await vn.updateTransaction(s,a);return o.success?{success:!0,data:a}:{success:!1,error:o.error}}catch(a){return{success:!1,error:a.message}}},updateCircleSpending:async(s,e)=>{try{const n=await vn.getUser(s);if(n.success&&n.data.familyCircle){const a=n.data.familyCircle,o=await vn.getCircle(a);if(o.success){const u=o.data,d={currentDailySpent:(u.currentDailySpent||0)+e,currentMonthlySpent:(u.currentMonthlySpent||0)+e,updatedAt:new Date().toISOString()};await vn.updateCircle(a,d)}}}catch(n){console.error("Error updating circle spending:",n)}},listenToUserTransactions:(s,e)=>{try{return vn.listenToTransactions(s,e)}catch(n){return console.error("Error setting up transaction listener:",n),null}},listenToPendingTransactions:s=>{try{return vn.listenToPendingTransactions(s)}catch(e){return console.error("Error setting up pending transactions listener:",e),null}},getPaymentStats:async s=>{try{const e=await vn.getUserTransactions(s,100);if(e.success){const n=e.data,a={totalTransactions:n.length,completedTransactions:n.filter(o=>o.status==="completed").length,pendingTransactions:n.filter(o=>o.status==="pending").length,rejectedTransactions:n.filter(o=>o.status==="rejected").length,totalSpent:n.filter(o=>o.status==="completed").reduce((o,u)=>o+(u.amount||0),0),averageTransaction:0};return a.completedTransactions>0&&(a.averageTransaction=a.totalSpent/a.completedTransactions),{success:!0,data:a}}else return{success:!1,error:e.error}}catch(e){return{success:!1,error:e.message}}}},tO=({isOpen:s,onClose:e,onSelectContact:n,user:a})=>{const[o,u]=R.useState(""),[d,p]=R.useState(null),[g,x]=R.useState([]),[v,w]=R.useState(!0),A=()=>{const L=Date.now();return[{id:1,name:"Mom",phone:"+91 98765 43210",email:"mom@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:{amount:500,date:new Date(L-1e3*60*60*24),type:"received"}},{id:2,name:"Dad",phone:"+91 98765 43211",email:"dad@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:{amount:1e3,date:new Date(L-1e3*60*60*48),type:"sent"}},{id:3,name:"Sister",phone:"+91 98765 43212",email:"sister@familypay.com",avatar:"",status:"offline",isFamily:!0,lastTransaction:{amount:250,date:new Date(L-1e3*60*60*72),type:"received"}},{id:4,name:"Brother",phone:"+91 98765 43213",email:"brother@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:null},{id:5,name:"John Doe",phone:"+91 98765 43214",email:"john@example.com",avatar:"",status:"offline",isFamily:!1,lastTransaction:{amount:150,date:new Date(L-1e3*60*60*120),type:"sent"}},{id:6,name:"Jane Smith",phone:"+91 98765 43215",email:"jane@example.com",avatar:"",status:"online",isFamily:!1,lastTransaction:null},{id:7,name:"Mike Wilson",phone:"+91 98765 43216",email:"mike@example.com",avatar:"",status:"offline",isFamily:!1,lastTransaction:{amount:300,date:new Date(L-1e3*60*60*168),type:"received"}},{id:8,name:"Sarah Johnson",phone:"+91 98765 43217",email:"sarah@example.com",avatar:"",status:"online",isFamily:!1,lastTransaction:null}]};R.useEffect(()=>{setTimeout(()=>{x(A()),w(!1)},500)},[]);const O=g.filter(L=>L.name.toLowerCase().includes(o.toLowerCase())||L.phone.includes(o)||L.email.toLowerCase().includes(o.toLowerCase())),H=O.filter(L=>L.isFamily),M=O.filter(L=>!L.isFamily),D=L=>{p(L)},z=()=>{d&&(n(d),e())},G=L=>{if(!L)return null;const ie=Math.abs(new Date-L.date),oe=Math.ceil(ie/(1e3*60*60*24));return oe===1?"Yesterday":oe<7?`${oe} days ago`:oe<30?`${Math.floor(oe/7)} weeks ago`:`${Math.floor(oe/30)} months ago`};return s?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsx("h2",{className:"text-xl font-semibold text-text",children:"Send Money"}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-5 h-5 text-text"})})]}),i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"relative",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),i.jsx("input",{type:"text",value:o,onChange:L=>u(L.target.value),placeholder:"Search by name, phone, or email...",className:"w-full pl-10 pr-4 py-2.5 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"space-y-6",children:[H.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-text-muted mb-3",children:"FAMILY"}),i.jsx("div",{className:"space-y-2",children:H.map(L=>i.jsx(x_,{contact:L,isSelected:d?.id===L.id,onSelect:()=>D(L),formatLastTransaction:G},L.id))})]}),M.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-text-muted mb-3",children:"OTHERS"}),i.jsx("div",{className:"space-y-2",children:M.map(L=>i.jsx(x_,{contact:L,isSelected:d?.id===L.id,onSelect:()=>D(L),formatLastTransaction:G},L.id))})]}),O.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Zl,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No contacts found"}),i.jsx("p",{className:"text-text-muted",children:"Try searching with a different name or phone number"})]})]})}),i.jsx("div",{className:"p-4 border-t border-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-text-muted",children:d?i.jsxs("span",{children:["Selected:"," ",i.jsx("span",{className:"font-medium text-text",children:d.name})]}):i.jsx("span",{children:"Select a contact to continue"})}),i.jsx("button",{onClick:z,disabled:!d,className:`btn ${d?"btn-primary":"btn-secondary"}`,children:"Continue"})]})})]})}):null},x_=({contact:s,isSelected:e,onSelect:n,formatLastTransaction:a})=>i.jsxs("div",{onClick:n,className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${e?"border-primary bg-primary/5":"border-border hover:border-primary hover:bg-bg-elevated"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:s.avatar}),i.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-bg-card ${s.status==="online"?"bg-success":"bg-text-muted"}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-text",children:s.name}),s.isFamily&&i.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:"Family"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[i.jsx(uu,{className:"w-3 h-3"}),i.jsx("span",{children:s.phone})]}),s.lastTransaction&&i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs("div",{className:`flex items-center gap-1 text-xs ${s.lastTransaction.type==="sent"?"text-danger":"text-success"}`,children:[s.lastTransaction.type==="sent"?i.jsx(za,{className:"w-3 h-3"}):i.jsx(Ot,{className:"w-3 h-3"}),i.jsxs("span",{children:[s.lastTransaction.type==="sent"?"Sent":"Received"," ","",s.lastTransaction.amount]})]}),i.jsxs("span",{className:"text-xs text-text-muted",children:[" ",a(s.lastTransaction)]})]})]})]}),i.jsx("div",{className:"flex items-center",children:e&&i.jsx("div",{className:"w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(Ot,{className:"w-3 h-3 text-white"})})})]}),nO=({isOpen:s,onClose:e,onScanSuccess:n})=>{const[a,o]=R.useState(!1),[u,d]=R.useState(null),[p,g]=R.useState(null),[x,v]=R.useState(!1),[w,A]=R.useState(!1),O=R.useRef(null),H=R.useRef(null),M=[{upiId:"mom@familypay",name:"Mom",phone:"+91 98765 43210",amount:null},{upiId:"dad@familypay",name:"Dad",phone:"+91 98765 43211",amount:null},{upiId:"sister@familypay",name:"Sister",phone:"+91 98765 43212",amount:null},{upiId:"john@paytm",name:"John Doe",phone:"+91 98765 43214",amount:500},{upiId:"merchant@paytm",name:"Grocery Store",phone:"+91 98765 43220",amount:250}],D=async()=>{v(!0),g(null);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera API not supported in this browser");H.current&&H.current.getTracks().forEach(j=>j.stop()),console.log("Requesting camera access...");let S=null;const T=[{video:{facingMode:"environment"}},{video:{facingMode:"user"}},{video:!0}];for(const j of T)try{console.log("Trying config:",j),S=await navigator.mediaDevices.getUserMedia(j),console.log("Camera access granted");break}catch(E){console.log("Config failed:",j,E);continue}if(!S)throw new Error("No camera could be accessed");H.current=S,O.current&&(O.current.srcObject=S,O.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),O.current.play().then(()=>{console.log("Video playing successfully"),A(!0),o(!0),v(!1),setTimeout(()=>{if(a&&w){const j=M[Math.floor(Math.random()*M.length)];G(j)}},3e3)}).catch(j=>{console.error("Video play failed:",j),g("Failed to start camera preview"),v(!1)})},O.current.onerror=j=>{console.error("Video error:",j),g("Camera preview error"),v(!1)})}catch(S){console.error("Camera access error:",S),v(!1),S.name==="NotAllowedError"?g("Camera access denied. Please allow camera permissions and try again."):S.name==="NotFoundError"?g("No camera found on this device."):S.name==="NotReadableError"?g("Camera is already in use by another application."):S.name==="OverconstrainedError"?g("Camera does not support the requested constraints."):g("Failed to access camera: "+S.message)}},z=()=>{console.log("Stopping camera..."),H.current&&(H.current.getTracks().forEach(S=>{console.log("Stopping track:",S),S.stop()}),H.current=null),O.current&&(O.current.srcObject=null),A(!1),o(!1)},G=S=>{console.log("Scan successful:",S),d(S),o(!1),z(),navigator.vibrate&&navigator.vibrate(200)},L=()=>{u&&(n(u),e())},ae=()=>{d(null),g(null),D()},ie=()=>{z(),d(null),g(null),e()},oe=()=>{const S=M[Math.floor(Math.random()*M.length)];G(S)};return R.useEffect(()=>(s?(console.log("QR Scanner Modal opened"),D()):z(),()=>{z()}),[s]),s?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsx("h2",{className:"text-xl font-semibold text-text",children:"Scan QR Code"}),i.jsx("button",{onClick:ie,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-5 h-5 text-text"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ot,{className:"w-8 h-8 text-success"})}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"QR Code Scanned!"}),i.jsx("p",{className:"text-sm text-text-muted",children:"Payment details retrieved successfully"})]}),i.jsx("div",{className:"card border-2 border-success/20 bg-success/5",children:i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl",children:u.name==="Mom"?"":u.name==="Dad"?"":u.name==="Sister"?"":u.name==="John Doe"?"":""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-text",children:u.name}),i.jsx("p",{className:"text-sm text-text-muted",children:u.upiId}),i.jsx("p",{className:"text-xs text-text-muted",children:u.phone})]})]}),u.amount&&i.jsxs("div",{className:"bg-bg-elevated rounded-lg p-3",children:[i.jsx("p",{className:"text-sm text-text-muted",children:"Amount"}),i.jsxs("p",{className:"text-lg font-semibold text-primary",children:["",u.amount]})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{d(null),D()},className:"flex-1 btn btn-secondary",children:[i.jsx(yg,{className:"w-4 h-4 mr-2"}),"Scan Again"]}),i.jsx("button",{onClick:L,className:"flex-1 btn btn-primary",children:"Proceed to Pay"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:x?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[i.jsx($5,{className:"w-16 h-16 animate-spin mb-4"}),i.jsx("p",{className:"text-sm",children:"Accessing camera..."})]}):w&&a?i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:O,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"w-48 h-48 border-2 border-primary rounded-lg relative",children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary rounded-tl-lg"}),i.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary rounded-tr-lg"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary rounded-bl-lg"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary rounded-br-lg"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-full h-0.5 bg-primary animate-pulse"})})]})}),i.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center pointer-events-none",children:i.jsx("p",{className:"text-white text-sm bg-black/50 px-3 py-1 rounded-full inline-block",children:" Live Camera - Auto-detect in 3 seconds"})})]}):p?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white p-4",children:[i.jsx(za,{className:"w-16 h-16 text-red-400 mb-4"}),i.jsx("p",{className:"text-center text-sm mb-4",children:p}),i.jsxs("div",{className:"flex gap-2 flex-wrap justify-center",children:[i.jsxs("button",{onClick:ae,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors flex items-center gap-2",children:[i.jsx(yg,{className:"w-4 h-4"}),"Retry Camera"]}),i.jsx("button",{onClick:oe,className:"px-4 py-2 bg-secondary text-white rounded-lg text-sm hover:bg-secondary/90 transition-colors",children:"Manual Entry"})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[i.jsx(Kc,{className:"w-16 h-16 mb-4"}),i.jsx("p",{className:"text-sm",children:"Camera initializing..."})]})}),i.jsx("div",{className:"bg-bg-elevated rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Camera Status:"}),i.jsx("span",{className:`font-medium ${w?"text-success":x?"text-warning":p?"text-danger":"text-text-muted"}`,children:w?" Active":x?" Loading":p?" Error":" Inactive"})]})}),i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("p",{className:"text-sm text-text-muted",children:"Position the QR code within the frame to scan"}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-text-muted",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ot,{className:"w-3 h-3 text-success"}),i.jsx("span",{children:"Live Camera"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Kc,{className:"w-3 h-3 text-primary"}),i.jsx("span",{children:"Auto-detect"})]})]}),i.jsx("div",{className:"pt-2",children:i.jsx("button",{onClick:oe,className:"text-xs text-primary hover:text-primary/80 underline",children:"Can't scan? Try manual entry"})})]})]})})]})}):null},sO=()=>{const{user:s,logout:e}=dn(),n=un(),[a,o]=R.useState(null),[u,d]=R.useState([]),[p,g]=R.useState(!0),[x,v]=R.useState(!1),[w,A]=R.useState(!1),[O,H]=R.useState(!1),[M,D]=R.useState(!1),[z,G]=R.useState(!1),[L,ae]=R.useState(null),[ie,oe]=R.useState(""),[S,T]=R.useState(""),[j,E]=R.useState(""),[k,B]=R.useState(""),[I,Ge]=R.useState(!1),[nt,J]=R.useState(12500.5),[ce,ge]=R.useState(3250),[Ie,Fe]=R.useState(5e4),[U,te]=R.useState([]),[Q,de]=R.useState([]),we=async()=>{try{const[Ce]=await Promise.all([Q2.getUserTransactions(s.id)]);if(Ce.success&&d(Ce.data),s.familyCircle){const rs=await vn.getCircle(s.familyCircle);rs.success&&o(rs.data)}te([{id:1,type:"payment",title:"Payment to Mom",amount:-500,timestamp:new Date(Date.now()-1e3*60*30),status:"completed"},{id:2,type:"receive",title:"From Dad",amount:1e3,timestamp:new Date(Date.now()-1e3*60*60*2),status:"completed"},{id:3,type:"payment",title:"Grocery Store",amount:-250,timestamp:new Date(Date.now()-1e3*60*60*5),status:"completed"}]),de([{id:1,name:"Mom",role:"admin",avatar:"",status:"online"},{id:2,name:"Dad",role:"admin",avatar:"",status:"online"},{id:3,name:"Sister",role:"member",avatar:"",status:"offline"},{id:4,name:"Brother",role:"member",avatar:"",status:"online"}])}catch(Ce){console.error("Error loading dashboard data:",Ce)}finally{g(!1)}};R.useEffect(()=>{s&&we()},[s]);const je=Ce=>{ae(Ce),n("/dashboard/payments",{state:{selectedContact:L}})},Me=()=>{D(!0)},xt=()=>{G(!0)},rt=Ce=>{const rs={id:Date.now(),name:Ce.name,phone:Ce.phone,email:Ce.upiId,avatar:Ce.name==="Mom"?"":Ce.name==="Dad"?"":Ce.name==="Sister"?"":Ce.name==="John Doe"?"":"",status:"offline",isFamily:Ce.name==="Mom"||Ce.name==="Dad"||Ce.name==="Sister",lastTransaction:null,upiId:Ce.upiId,preselectedAmount:Ce.amount};n("/dashboard/payments",{state:{selectedContact:rs}})};return p?i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})}):(a&&a.currentDailySpent/a.dailyLimit*100,a&&a.currentMonthlySpent/a.monthlyLimit*100,a&&a.dailyLimit-a.currentDailySpent,a&&a.monthlyLimit-a.currentMonthlySpent,i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsxs("header",{className:"bg-gradient-to-r from-primary to-primary/80 text-white px-4 py-6 sm:px-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Good morning"}),i.jsxs("p",{className:"text-white/80",children:["Welcome back, ",s?.name||"User","!"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:i.jsx(Mi,{className:"w-5 h-5"})}),i.jsx("button",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:i.jsx(Xc,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total balance"}),i.jsxs("h2",{className:"text-3xl font-bold",children:["",nt.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsx("div",{className:"bg-white/20 px-2 py-1 rounded-full",children:i.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})})]}),i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(f_,{className:"w-4 h-4 text-green-300"}),i.jsx("span",{children:"Income: 8,500"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(h_,{className:"w-4 h-4 text-red-300"}),i.jsx("span",{children:"Expense: 3,250"})]})]})]})]}),i.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[i.jsxs("button",{onClick:Me,className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-2",children:i.jsx(H2,{className:"w-5 h-5 text-primary"})}),i.jsx("span",{className:"text-xs text-text",children:"Send"})]}),i.jsxs("button",{onClick:xt,className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[i.jsx("div",{className:"w-10 h-10 bg-success/10 rounded-full flex items-center justify-center mb-2",children:i.jsx(xg,{className:"w-5 h-5 text-success"})}),i.jsx("span",{className:"text-xs text-text",children:"Scan"})]}),i.jsxs("button",{className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[i.jsx("div",{className:"w-10 h-10 bg-warning/10 rounded-full flex items-center justify-center mb-2",children:i.jsx(En,{className:"w-5 h-5 text-warning"})}),i.jsx("span",{className:"text-xs text-text",children:"Cards"})]}),i.jsxs("button",{className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[i.jsx("div",{className:"w-10 h-10 bg-info/10 rounded-full flex items-center justify-center mb-2",children:i.jsx(b5,{className:"w-5 h-5 text-info"})}),i.jsx("span",{className:"text-xs text-text",children:"More"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:"Family Members"}),i.jsx("button",{className:"text-primary text-sm font-medium",children:"See all"})]}),i.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[Q.map(Ce=>i.jsxs("div",{className:"flex flex-col items-center min-w-fit",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-14 h-14 bg-bg-elevated rounded-full flex items-center justify-center text-2xl mb-1 border-2 border-border",children:Ce.avatar}),i.jsx("div",{className:`absolute bottom-1 right-0 w-3 h-3 rounded-full border-2 border-bg-card ${Ce.status==="online"?"bg-success":"bg-text-muted"}`})]}),i.jsx("span",{className:"text-xs text-text",children:Ce.name})]},Ce.id)),i.jsxs("button",{className:"flex flex-col items-center min-w-fit",children:[i.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mb-1 border-2 border-dashed border-primary",children:i.jsx(Px,{className:"w-6 h-6 text-primary"})}),i.jsx("span",{className:"text-xs text-primary",children:"Add"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:"Recent Transactions"}),i.jsx("button",{className:"text-primary text-sm font-medium",children:"See all"})]}),i.jsx("div",{className:"space-y-3",children:U.map(Ce=>i.jsx("div",{className:"card p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Ce.type==="receive"?"bg-success/10":"bg-danger/10"}`,children:Ce.type==="receive"?i.jsx(h_,{className:"w-5 h-5 text-success"}):i.jsx(f_,{className:"w-5 h-5 text-danger"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-text",children:Ce.title}),i.jsx("p",{className:"text-xs text-text-muted",children:Ce.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`font-semibold ${Ce.amount>0?"text-success":"text-danger"}`,children:[Ce.amount>0?"+":"","",Math.abs(Ce.amount).toLocaleString("en-IN")]})})]})},Ce.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:"Savings Goal"}),i.jsx("button",{className:"text-primary text-sm font-medium",children:"Edit"})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-text-muted mb-1",children:["Target: ",Ie.toLocaleString("en-IN")]}),i.jsxs("p",{className:"text-lg font-semibold text-text",children:["",(nt*.6).toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(nt*.6/Ie*100),"%"]}),i.jsx("p",{className:"text-xs text-text-muted",children:"completed"})]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(nt*.6/Ie*100,100)}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-warning/10 rounded-full flex items-center justify-center",children:i.jsx(Pa,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Monthly Spending"}),i.jsxs("p",{className:"text-lg font-semibold text-text",children:["",ce.toLocaleString("en-IN")]})]})]})}),i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-info/10 rounded-full flex items-center justify-center",children:i.jsx($2,{className:"w-5 h-5 text-info"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Goals Left"}),i.jsx("p",{className:"text-lg font-semibold text-text",children:"3"})]})]})})]}),i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:" Member Dashboard"}),i.jsxs("p",{className:"text-sm text-text-muted",children:["Welcome, ",s?.name||"User","!"]})]})]}),i.jsx(Ox,{className:"w-5 h-5 text-text-muted"})]})})]}),i.jsx(ho,{userRole:s?.role}),i.jsx(tO,{isOpen:M,onClose:()=>D(!1),onSelectContact:je,user:s}),i.jsx(nO,{isOpen:z,onClose:()=>G(!1),onScanSuccess:rt})]}))},rO=()=>{const{user:s,logout:e,updateProfile:n}=dn();un();const[a,o]=R.useState(!1),[u,d]=R.useState(!1),[p,g]=R.useState(!1),[x,v]=R.useState(!1),[w,A]=R.useState(!1),[O,H]=R.useState(!1),[M,D]=R.useState("profile"),[z,G]=R.useState({name:"",email:"",phone:"",dateOfBirth:"",address:"",photoURL:""}),[L,ae]=R.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[ie,oe]=R.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,paymentAlerts:!0,securityAlerts:!0}),[S,T]=R.useState({twoFactorAuth:!1,biometricLogin:!1,loginAlerts:!0,sessionTimeout:!0});R.useEffect(()=>{s&&G({name:s.name||"",email:s.email||"",phone:s.phone||"",dateOfBirth:s.dateOfBirth||"",address:s.address||"",photoURL:s.photoURL||""})},[s]);const j=I=>{G({...z,[I.target.name]:I.target.value})},E=async()=>{d(!0);try{const I=await n(z);I.success?(o(!1),alert("Profile updated successfully!")):alert("Failed to update profile: "+I.error)}catch(I){alert("Error updating profile: "+I.message)}finally{d(!1)}},k=async()=>{if(L.newPassword!==L.confirmPassword){alert("New passwords do not match!");return}if(L.newPassword.length<6){alert("Password must be at least 6 characters long!");return}d(!0);try{alert("Password changed successfully!"),g(!1),ae({currentPassword:"",newPassword:"",confirmPassword:""})}catch(I){alert("Error changing password: "+I.message)}finally{d(!1)}},B=[{id:"profile",label:"Profile Info",icon:Zl},{id:"security",label:"Security",icon:Oi},{id:"notifications",label:"Notifications",icon:Mi},{id:"payment",label:"Payment Methods",icon:En}];return s?i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Profile"})]}),i.jsx("button",{onClick:e,className:"btn btn-danger btn-sm",children:"Logout"})]})}),i.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:hidden",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:B.map(I=>{const Ge=I.icon;return i.jsxs("button",{onClick:()=>D(I.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${M===I.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary"}`,children:[i.jsx(Ge,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:I.label})]},I.id)})})}),i.jsx("div",{className:"hidden lg:block",children:i.jsxs("div",{className:"card p-4",children:[i.jsx("h3",{className:"font-semibold text-text mb-4",children:"Settings"}),i.jsx("nav",{className:"space-y-2",children:B.map(I=>{const Ge=I.icon;return i.jsxs("button",{onClick:()=>D(I.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${M===I.id?"bg-primary text-white":"text-text hover:bg-bg-elevated"}`,children:[i.jsx(Ge,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:I.label})]},I.id)})})]})}),i.jsxs("div",{className:"lg:col-span-3",children:[M==="profile"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-text",children:"Profile Information"}),a?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o(!1),className:"btn btn-secondary btn-sm",children:"Cancel"}),i.jsx("button",{onClick:E,disabled:u,className:"btn btn-primary btn-sm flex items-center gap-2",children:u?i.jsx("div",{className:"loading-spinner w-4 h-4"}):i.jsxs(i.Fragment,{children:[i.jsx(U2,{className:"w-4 h-4"}),"Save Changes"]})})]}):i.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary btn-sm flex items-center gap-2",children:[i.jsx(aM,{className:"w-4 h-4"}),"Edit"]})]}),i.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-2xl",children:z.photoURL?i.jsx("img",{src:z.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):z.name?.charAt(0).toUpperCase()||"U"}),a&&i.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary rounded-full text-white",children:i.jsx(Kc,{className:"w-4 h-4"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:z.name}),i.jsx("p",{className:"text-text-muted",children:s?.role==="ADMIN"?"Administrator":s?.role==="PRIMARY"?"Primary User":"Secondary User"}),i.jsxs("p",{className:"text-sm text-text-muted",children:["Member since ",new Date().getFullYear()]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(Zl,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),i.jsx("input",{type:"text",name:"name",value:z.name,onChange:j,disabled:!a,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(Jl,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),i.jsx("input",{type:"email",name:"email",value:z.email,onChange:j,disabled:!0,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(uu,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),i.jsx("input",{type:"tel",name:"phone",value:z.phone,onChange:j,disabled:!a,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(co,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),i.jsx("input",{type:"date",name:"dateOfBirth",value:z.dateOfBirth,onChange:j,disabled:!a,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[i.jsx(F2,{className:"w-4 h-4 inline mr-2"}),"Address"]}),i.jsx("textarea",{name:"address",value:z.address,onChange:j,disabled:!a,rows:"3",className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50 resize-none"})]})]})]})}),M==="security"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Security Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-between p-4 bg-bg-elevated rounded-lg hover:border-primary transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Profile Settings"}),i.jsx("p",{className:"text-sm text-text-muted",children:"Manage your account and preferences"})]})]}),i.jsx(Ox,{className:"w-5 h-5 text-text-muted"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ff,{className:"w-5 h-5 text-text-muted"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-text",children:"Two-Factor Authentication"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Add an extra layer of security"})]})]}),i.jsx("button",{onClick:()=>T({...S,twoFactorAuth:!S.twoFactorAuth}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S.twoFactorAuth?"bg-primary":"bg-bg-border"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S.twoFactorAuth?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Oi,{className:"w-5 h-5 text-text-muted"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-text",children:"Login Alerts"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Get notified of new login attempts"})]})]}),i.jsx("button",{onClick:()=>T({...S,loginAlerts:!S.loginAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S.loginAlerts?"bg-primary":"bg-bg-border"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S.loginAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})}),M==="notifications"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Notification Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Jl,{className:"w-5 h-5 text-text-muted"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-text",children:"Email Notifications"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Receive updates via email"})]})]}),i.jsx("button",{onClick:()=>oe({...ie,emailNotifications:!ie.emailNotifications}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ie.emailNotifications?"bg-primary":"bg-bg-border"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ie.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Mi,{className:"w-5 h-5 text-text-muted"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-text",children:"Push Notifications"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Receive push notifications"})]})]}),i.jsx("button",{onClick:()=>oe({...ie,pushNotifications:!ie.pushNotifications}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ie.pushNotifications?"bg-primary":"bg-bg-border"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ie.pushNotifications?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(En,{className:"w-5 h-5 text-text-muted"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-text",children:"Payment Alerts"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Get notified about payments"})]})]}),i.jsx("button",{onClick:()=>oe({...ie,paymentAlerts:!ie.paymentAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ie.paymentAlerts?"bg-primary":"bg-bg-border"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ie.paymentAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})}),M==="payment"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Payment Methods"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-bg-elevated rounded-lg border border-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-blue-400 rounded flex items-center justify-center",children:i.jsx(En,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text",children:"   4242"}),i.jsx("div",{className:"text-sm text-text-muted",children:"Expires 12/25"})]})]}),i.jsx("span",{className:"text-xs bg-success/10 text-success px-2 py-1 rounded-full",children:"Default"})]})}),i.jsx("button",{className:"w-full p-4 border-2 border-dashed border-border rounded-lg hover:border-primary transition-colors",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-text-muted",children:[i.jsx(En,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Payment Method"})]})})]})]})})]})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-lg p-6 max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-text",children:"Change Password"}),i.jsx("button",{onClick:()=>g(!1),children:i.jsx(Bi,{className:"w-5 h-5 text-text-muted"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x?"text":"password",value:L.currentPassword,onChange:I=>ae({...L,currentPassword:I.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:x?i.jsx(lh,{className:"w-5 h-5"}):i.jsx(oh,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:w?"text":"password",value:L.newPassword,onChange:I=>ae({...L,newPassword:I.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter new password"}),i.jsx("button",{type:"button",onClick:()=>A(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:w?i.jsx(lh,{className:"w-5 h-5"}):i.jsx(oh,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:O?"text":"password",value:L.confirmPassword,onChange:I=>ae({...L,confirmPassword:I.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Confirm new password"}),i.jsx("button",{type:"button",onClick:()=>H(!O),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:O?i.jsx(lh,{className:"w-5 h-5"}):i.jsx(oh,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{onClick:()=>g(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),i.jsx("button",{onClick:k,disabled:u,className:"flex-1 btn btn-primary",children:u?i.jsx("div",{className:"loading-spinner mx-auto"}):"Change Password"})]})]})]})}),i.jsx(ho,{userRole:s?.role})]}):i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})})},aO=({isOpen:s,onClose:e,paymentData:n,onPaymentComplete:a})=>{const[o,u]=R.useState(null),[d,p]=R.useState(!1),g=[{id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",upiUrl:"phonepe",packageName:"com.phonepe.app"},{id:"googlepay",name:"Google Pay",icon:"",color:"bg-blue-500",upiUrl:"gpay",packageName:"com.google.android.apps.nbu.paisa.user"},{id:"paytm",name:"Paytm",icon:"",color:"bg-cyan-500",upiUrl:"paytmmp",packageName:"net.one97.paytm"},{id:"bhim",name:"BHIM",icon:"",color:"bg-orange-500",upiUrl:"bhim",packageName:"in.org.npci.upiapp"},{id:"amazonpay",name:"Amazon Pay",icon:"",color:"bg-yellow-500",upiUrl:"amazonpay",packageName:"in.amazon.mShop.android.shopping"},{id:"mobikwik",name:"MobiKwik",icon:"",color:"bg-green-500",upiUrl:"mobikwik",packageName:"com.mobikwik.android"}],x=()=>{const{upiId:M,amount:D,description:z}=n,G=encodeURIComponent(M),L=encodeURIComponent(n.name||""),ae=encodeURIComponent(z||"Payment via FamilyPay");return`upi://pay?pa=${G}&pn=${L}&am=${D}&cu=INR&tn=${ae}`},v=M=>{u(M),w(M)},w=async M=>{p(!0);try{const D=x();if(A()){const z=`${M.upiUrl}://upi/pay?pa=${encodeURIComponent(n.upiId)}&pn=${encodeURIComponent(n.name||"")}&am=${n.amount}&cu=INR`,G=window.open(z,"_blank");setTimeout(()=>{G?G.location.href=D:window.open(D,"_blank")},2e3)}else O(D);setTimeout(()=>{p(!1),a({success:!0,app:M.name,transactionId:`TXN${Date.now()}`,amount:n.amount,upiId:n.upiId})},5e3)}catch(D){console.error("Payment initiation failed:",D),p(!1)}},A=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),O=M=>{alert(`UPI Payment URL: ${M}

Please use your UPI app to complete the payment.`)},H=()=>{navigator.clipboard.writeText(n.upiId);const M=document.getElementById("copy-upi-btn");M&&(M.textContent="Copied!",setTimeout(()=>{M.textContent="Copy UPI ID"},2e3))};return s?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsx("h2",{className:"text-xl font-semibold text-text",children:"Choose Payment App"}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-5 h-5 text-text"})})]}),i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"bg-bg-elevated rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Paying to:"}),i.jsx("span",{className:"font-medium text-text",children:n.name||"Unknown"})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"UPI ID:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-text",children:n.upiId}),i.jsx("button",{id:"copy-upi-btn",onClick:H,className:"text-xs text-primary hover:text-primary/80",children:"Copy"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Amount:"}),i.jsxs("span",{className:"text-lg font-semibold text-primary",children:["",n.amount]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-text-muted text-center",children:"Select your preferred UPI payment app"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(M=>i.jsx("button",{onClick:()=>v(M),disabled:d,className:`p-4 rounded-lg border-2 border-border hover:border-primary transition-all ${o?.id===M.id?"border-primary bg-primary/10":""} ${d?"opacity-50 cursor-not-allowed":"hover:bg-bg-elevated"}`,children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 ${M.color} rounded-full flex items-center justify-center text-2xl`,children:M.icon}),i.jsx("span",{className:"text-sm font-medium text-text",children:M.name}),o?.id===M.id&&i.jsx(Ot,{className:"w-4 h-4 text-success"})]})},M.id))}),d&&i.jsx("div",{className:"text-center py-4",children:i.jsxs("div",{className:"inline-flex items-center gap-2 text-primary",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsxs("span",{className:"text-sm",children:["Opening ",o?.name,"..."]})]})}),i.jsx("div",{className:"bg-bg-elevated rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(za,{className:"w-4 h-4 text-warning mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-xs text-text-muted",children:[i.jsx("p",{className:"font-medium mb-1",children:"Payment Instructions:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:" Select your preferred UPI app"}),i.jsx("li",{children:" The app will open automatically"}),i.jsx("li",{children:" Confirm the payment in the app"}),i.jsx("li",{children:" You'll be redirected back here"})]})]})]})})]})}),i.jsx("div",{className:"p-4 border-t border-border",children:i.jsx("button",{onClick:e,disabled:d,className:"w-full btn btn-secondary",children:"Cancel"})})]})}):null},iO=()=>{const{user:s}=dn();un();const e=ns();console.log("PayPage rendering, user:",s);const[n,a]=R.useState("quick"),[o,u]=R.useState(!1),[d,p]=R.useState(e.state?.selectedContact||null),[g,x]=R.useState(d?.name||""),[v,w]=R.useState(d?.phone||""),[A,O]=R.useState(d?.preselectedAmount?.toString()||""),[H,M]=R.useState(""),[D,z]=R.useState("upi"),[G,L]=R.useState([]),[ae,ie]=R.useState(!1),[oe,S]=R.useState(""),[T,j]=R.useState(!1),[E,k]=R.useState({amount:"",upiId:"",description:"",recipientName:"",paymentMethod:"upi"}),[B]=[100,200,500,1e3,2e3,5e3],I=[{name:"Mom",upiId:"mom@familypay",avatar:"M"},{name:"Dad",upiId:"dad@familypay",avatar:"D"},{name:"Brother",upiId:"brother@familypay",avatar:"B"},{name:"Sister",upiId:"sister@familypay",avatar:"S"},{name:"Friend",upiId:"friend@familypay",avatar:"F"},{name:"Grocery Store",upiId:"grocery@paytm",avatar:"G"}],Ge=[{name:"Amazon",upiId:"amazon@paytm",category:"Shopping",icon:""},{name:"Flipkart",upiId:"flipkart@paytm",category:"Shopping",icon:""},{name:"Swiggy",upiId:"swiggy@paytm",category:"Food",icon:""},{name:"Zomato",upiId:"zomato@paytm",category:"Food",icon:""},{name:"Uber",upiId:"uber@paytm",category:"Travel",icon:""},{name:"Ola",upiId:"ola@paytm",category:"Travel",icon:""},{name:"BigBasket",upiId:"bigbasket@paytm",category:"Grocery",icon:""},{name:"PhonePe",upiId:"phonepe@paytm",category:"Recharge",icon:""}];R.useEffect(()=>{nt()},[]);const nt=async()=>{try{const Q=await Q2.getUserTransactions(s.id,10);Q.success&&L(Q.data)}catch(Q){console.error("Error loading recent payments:",Q)}},J=Q=>{k({...E,amount:Q.toString()})},ce=Q=>{k({...E,upiId:Q.upiId,recipientName:Q.name})},ge=Q=>{k({...E,upiId:Q.upiId,recipientName:Q.name})},Ie=()=>{if(!E.amount||!E.upiId){alert("Please fill in all required fields");return}j(!0)},Fe=Q=>{j(!1),Q.success&&(alert(`Payment successful via ${Q.app}! Transaction ID: ${Q.transactionId}`),k({amount:"",upiId:"",description:"",recipientName:"",paymentMethod:"upi"}),nt())},U=()=>{setShowScanner(!0),setTimeout(()=>{const Q={upiId:"scanned@merchant",name:"Scanned Merchant",amount:"500"};k({...E,upiId:Q.upiId,recipientName:Q.name,amount:Q.amount}),setShowScanner(!1),a("upi")},2e3)},te=[{id:"quick",label:"Quick Pay",icon:Pc},{id:"upi",label:"UPI",icon:ff},{id:"qr",label:"QR Scan",icon:xg},{id:"recent",label:"Recent",icon:Ar}];return s?i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Pay"})]}),i.jsxs("div",{className:"text-sm font-medium text-text",children:["Balance: ",(s.balance||1e4).toLocaleString()]})]})}),i.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[d&&i.jsx("div",{className:"card mb-6 border-2 border-primary/20 bg-primary/5",children:i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:d.avatar||""}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-text",children:d.name}),d.isFamily&&i.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:"Family"}),d.upiId&&i.jsx("span",{className:"bg-success/10 text-success text-xs px-2 py-0.5 rounded-full",children:"QR Scanned"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[i.jsx(uu,{className:"w-3 h-3"}),i.jsx("span",{children:d.phone})]}),d.upiId&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[i.jsx(Jl,{className:"w-3 h-3"}),i.jsx("span",{children:d.upiId})]}),d.preselectedAmount&&i.jsx("div",{className:"flex items-center gap-2 text-xs text-primary",children:i.jsxs("span",{children:["Pre-filled amount: ",d.preselectedAmount]})})]}),i.jsx("button",{onClick:()=>{p(null),x(""),w(""),O("")},className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-4 h-4 text-text-muted"})})]})}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:te.map(Q=>{const de=Q.icon;return i.jsxs("button",{onClick:()=>a(Q.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${n===Q.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary"}`,children:[i.jsx(de,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:Q.label})]},Q.id)})}),n==="quick"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Enter Amount"}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-4xl font-bold text-text mb-2",children:""}),i.jsx("input",{type:"number",value:E.amount,onChange:Q=>k({...E,amount:Q.target.value}),className:"w-full text-3xl font-bold text-center bg-transparent border-0 outline-none text-text placeholder-text-muted",placeholder:"0",min:"1"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:B.map(Q=>i.jsxs("button",{onClick:()=>J(Q),className:`p-3 rounded-lg border transition-colors ${E.amount===Q.toString()?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary"}`,children:["",Q]},Q))})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Frequent Contacts"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:I.map((Q,de)=>i.jsxs("button",{onClick:()=>ce(Q),className:"p-3 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold mx-auto mb-2",children:Q.avatar}),i.jsx("div",{className:"text-sm font-medium text-text",children:Q.name})]},de))})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Popular Merchants"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Ge.map((Q,de)=>i.jsxs("button",{onClick:()=>ge(Q),className:"p-3 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:Q.icon}),i.jsx("div",{className:"text-sm font-medium text-text",children:Q.name}),i.jsx("div",{className:"text-xs text-text-muted",children:Q.category})]},de))})]}),E.amount&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Description (Optional)"}),i.jsx("input",{type:"text",value:E.description,onChange:Q=>k({...E,description:Q.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"What's this payment for?"})]}),i.jsx("button",{onClick:Ie,disabled:o||!E.upiId,className:"w-full btn btn-primary text-lg py-4",children:o?i.jsx("div",{className:"loading-spinner mx-auto"}):`Continue to Pay ${E.amount}`})]})})]}),n==="upi"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"UPI Payment"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"UPI ID"}),i.jsx("input",{type:"text",value:E.upiId,onChange:Q=>k({...E,upiId:Q.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter UPI ID (e.g., name@upi)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Amount ()"}),i.jsx("input",{type:"number",value:E.amount,onChange:Q=>k({...E,amount:Q.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter amount",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Description"}),i.jsx("input",{type:"text",value:E.description,onChange:Q=>k({...E,description:Q.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"What's this payment for?"})]}),i.jsx("button",{onClick:Ie,disabled:o||!E.amount||!E.upiId,className:"w-full btn btn-primary",children:o?i.jsx("div",{className:"loading-spinner mx-auto"}):`Continue to Pay ${E.amount||"0"}`})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Pay with UPI Apps"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:["Google Pay","PhonePe","Paytm","Amazon Pay"].map(Q=>i.jsxs("button",{className:"p-4 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center text-white font-bold mx-auto mb-2",children:Q.charAt(0)}),i.jsx("div",{className:"text-sm font-medium text-text",children:Q})]},Q))})]})]}),n==="qr"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"Scan QR Code"}),showScanner?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-64 h-64 mx-auto bg-bg-elevated rounded-lg flex items-center justify-center mb-4 border-2 border-dashed border-border",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Kc,{className:"w-16 h-16 text-text-muted mx-auto mb-2"}),i.jsx("p",{className:"text-text-muted",children:"Scanning..."})]})}),i.jsx("button",{onClick:()=>setShowScanner(!1),className:"btn btn-secondary",children:"Cancel"})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-64 h-64 mx-auto bg-bg-elevated rounded-lg flex items-center justify-center mb-6 border-2 border-dashed border-border",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xg,{className:"w-16 h-16 text-text-muted mx-auto mb-2"}),i.jsx("p",{className:"text-text-muted",children:"QR Scanner Ready"})]})}),i.jsxs("button",{onClick:U,className:"btn btn-primary",children:[i.jsx(Kc,{className:"w-5 h-5 inline mr-2"}),"Start Scanning"]})]})]})}),n==="recent"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"Recent Payments"}),G.length>0?i.jsx("div",{className:"space-y-3",children:G.map(Q=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q.status==="completed"?"bg-success/10":Q.status==="pending"?"bg-warning/10":"bg-danger/10"}`,children:Q.status==="completed"?i.jsx(Ot,{className:"w-5 h-5 text-success"}):Q.status==="pending"?i.jsx(Ar,{className:"w-5 h-5 text-warning"}):i.jsx(za,{className:"w-5 h-5 text-danger"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text",children:Q.description}),i.jsx("div",{className:"text-sm text-text-muted",children:new Date(Q.createdAt).toLocaleDateString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold text-text",children:["",Q.amount]}),i.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Q.status==="completed"?"bg-success/10 text-success":Q.status==="pending"?"bg-warning/10 text-warning":"bg-danger/10 text-danger"}`,children:Q.status==="completed"?"Completed":Q.status==="pending"?"Pending":"Failed"})]})]},Q.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ar,{className:"w-12 h-12 text-text-muted mx-auto mb-3"}),i.jsx("p",{className:"text-text-muted",children:"No recent payments"})]})]})})]}),showSuccess&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-lg p-6 max-w-sm w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ot,{className:"w-8 h-8 text-success"})}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Payment Successful!"}),i.jsxs("p",{className:"text-text-muted mb-4",children:["",E.amount," paid successfully"]}),i.jsx("button",{onClick:()=>setShowSuccess(!1),className:"btn btn-primary w-full",children:"Done"})]})}),i.jsx(BottomNav,{userRole:s?.role}),i.jsx(aO,{isOpen:T,onClose:()=>j(!1),paymentData:{...E,name:E.recipientName},onPaymentComplete:Fe})]}):i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})})},lO=()=>{const{user:s}=dn(),e=un(),[n,a]=R.useState([]),[o,u]=R.useState([]),[d,p]=R.useState(!0),[g,x]=R.useState("all"),[v,w]=R.useState(""),[A,O]=R.useState(new Set),H=[{id:"all",label:"All",icon:Mi},{id:"unread",label:"Unread",icon:Ot},{id:"payment",label:"Payments",icon:En},{id:"security",label:"Security",icon:Oi},{id:"system",label:"System",icon:P5}];R.useEffect(()=>{const T=Date.now(),j=[{id:1,type:"payment",title:"Payment Received",message:"You received 500 from Mom",timestamp:new Date(T-1e3*60*5),read:!1,icon:En,color:"success",action:"View Transaction",actionUrl:"/dashboard/transactions"},{id:2,type:"security",title:"New Login Detected",message:"New login from Chrome on Windows",timestamp:new Date(T-1e3*60*60),read:!1,icon:Oi,color:"warning",action:"Review Activity",actionUrl:"/dashboard/profile"},{id:3,type:"payment",title:"Payment Approved",message:"Your payment of 1200 has been approved",timestamp:new Date(T-1e3*60*60*2),read:!0,icon:Ot,color:"success",action:"View Details",actionUrl:"/dashboard/transactions"},{id:4,type:"system",title:"Monthly Report Available",message:"Your spending report for November is ready",timestamp:new Date(T-1e3*60*60*24),read:!0,icon:Pa,color:"info",action:"View Report",actionUrl:"/dashboard/analytics"},{id:5,type:"alert",title:"Low Balance Alert",message:"Your balance is below 1000",timestamp:new Date(T-1e3*60*60*24*2),read:!0,icon:MM,color:"danger",action:"Add Money",actionUrl:"/dashboard/payments"},{id:6,type:"social",title:"New Family Member",message:"John Doe joined your family circle",timestamp:new Date(T-1e3*60*60*24*3),read:!0,icon:Px,color:"primary",action:"View Profile",actionUrl:"/dashboard/members"},{id:7,type:"promotion",title:"Special Offer!",message:"Get 10% cashback on your next payment",timestamp:new Date(T-1e3*60*60*24*7),read:!0,icon:C5,color:"warning",action:"Learn More",actionUrl:"/dashboard"},{id:8,type:"system",title:"App Update Available",message:"New features and improvements are available",timestamp:new Date(T-1e3*60*60*24*14),read:!0,icon:ff,color:"info",action:"Update Now",actionUrl:"/dashboard"}];setTimeout(()=>{a(j),u(j),p(!1)},1e3)},[]),R.useEffect(()=>{let T=n;g==="unread"?T=T.filter(j=>!j.read):g!=="all"&&(T=T.filter(j=>j.type===g)),v&&(T=T.filter(j=>j.title.toLowerCase().includes(v.toLowerCase())||j.message.toLowerCase().includes(v.toLowerCase()))),u(T)},[g,v,n]);const M=T=>{a(n.map(j=>j.id===T?{...j,read:!0}:j))},D=()=>{a(n.map(T=>({...T,read:!0}))),O(new Set)},z=T=>{a(n.filter(j=>j.id!==T)),O(j=>{const E=new Set(j);return E.delete(T),E})},G=()=>{a(n.filter(T=>!A.has(T.id))),O(new Set)},L=T=>{O(j=>{const E=new Set(j);return E.has(T)?E.delete(T):E.add(T),E})},ae=T=>{M(T.id),T.actionUrl&&e(T.actionUrl)},ie=T=>{const E=new Date-T,k=Math.floor(E/6e4),B=Math.floor(E/36e5),I=Math.floor(E/864e5);return k<1?"Just now":k<60?`${k}m ago`:B<24?`${B}h ago`:I<7?`${I}d ago`:T.toLocaleDateString()},oe=T=>{const j=T.icon,E={success:"text-success bg-success/10",warning:"text-warning bg-warning/10",danger:"text-danger bg-danger/10",info:"text-info bg-info/10",primary:"text-primary bg-primary/10"};return i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${E[T.color]}`,children:i.jsx(j,{className:"w-5 h-5"})})},S=n.filter(T=>!T.read).length;return s?i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-3 sm:px-6 sm:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsx("h1",{className:"text-lg sm:text-xl font-bold text-text",children:"Notifications"}),S>0&&i.jsx("span",{className:"bg-danger text-white text-xs px-2 py-0.5 rounded-full min-w-[20px] text-center",children:S})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-text-muted hidden sm:inline",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),i.jsx("button",{onClick:D,className:"btn btn-secondary btn-sm text-xs px-3 py-1.5",disabled:S===0,children:"Mark All Read"}),i.jsx("button",{className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(yg,{className:"w-4 h-4 text-text"})})]})]})}),i.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:py-4",children:[i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),i.jsx("input",{type:"text",value:v,onChange:T=>w(T.target.value),placeholder:"Search notifications...",className:"w-full pl-10 pr-4 py-2.5 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:H.map(T=>{const j=T.icon;return i.jsxs("button",{onClick:()=>x(T.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg whitespace-nowrap transition-colors text-xs font-medium ${g===T.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary border border-transparent"}`,children:[i.jsx(j,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:T.label})]},T.id)})})]}),A.size>0&&i.jsxs("div",{className:"card mb-3 flex items-center justify-between py-2 px-3",children:[i.jsxs("span",{className:"text-xs text-text",children:[A.size," selected"]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("button",{onClick:G,className:"btn btn-danger btn-xs flex items-center gap-1 py-1 px-2",children:[i.jsx(Y2,{className:"w-3 h-3"}),"Delete"]})})]}),d?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"loading-spinner"})}):o.length>0?i.jsx("div",{className:"space-y-2",children:o.map(T=>i.jsx("div",{className:`card p-3 transition-all cursor-pointer hover:border-primary ${T.read?"":"border-l-4 border-l-primary bg-primary/5"} ${A.has(T.id)?"ring-2 ring-primary/20":""}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>L(T.id),className:"mt-0.5",children:i.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${A.has(T.id)?"border-primary bg-primary":"border-border"}`,children:A.has(T.id)&&i.jsx(U2,{className:"w-2.5 h-2.5 text-white"})})}),oe(T),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h3",{className:`font-semibold text-sm text-text truncate ${T.read?"":"font-bold"}`,children:T.title}),i.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap ml-2",children:ie(T.timestamp)})]}),i.jsx("p",{className:"text-xs text-text-muted mb-2 leading-relaxed",children:T.message}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>ae(T),className:"text-primary text-xs font-medium hover:text-primary/80 transition-colors",children:T.action}),i.jsxs("div",{className:"flex items-center gap-3",children:[!T.read&&i.jsx("button",{onClick:()=>M(T.id),className:"text-xs text-text-muted hover:text-text transition-colors",children:"Mark as read"}),i.jsx("button",{onClick:()=>z(T.id),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Delete"})]})]})]})]})},T.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Mi,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No notifications"}),i.jsx("p",{className:"text-text-muted",children:v||g!=="all"?"No notifications match your criteria":"You're all caught up!"})]})]}),i.jsx(ho,{userRole:s?.role})]}):i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})})},oO=()=>{const{user:s}=dn(),[e,n]=R.useState([]),[a,o]=R.useState(!0),[u,d]=R.useState(""),[p,g]=R.useState("all"),[x,v]=R.useState("all"),[w,A]=R.useState(!1),O=()=>{const L=Date.now();return[{id:1,type:"sent",amount:500,description:"Payment to Mom",recipient:"Mom",recipientPhone:"+91 98765 43210",date:new Date(L-1e3*60*30),status:"completed",method:"upi",category:"family"},{id:2,type:"received",amount:1e3,description:"Salary credit",sender:"Company XYZ",date:new Date(L-1e3*60*60*2),status:"completed",method:"bank",category:"income"},{id:3,type:"sent",amount:250,description:"Grocery shopping",recipient:"Grocery Store",date:new Date(L-1e3*60*60*24),status:"completed",method:"qr",category:"shopping"},{id:4,type:"sent",amount:1500,description:"Electric bill payment",recipient:"Electric Board",date:new Date(L-1e3*60*60*48),status:"completed",method:"upi",category:"bills"},{id:5,type:"pending",amount:750,description:"Online shopping",recipient:"Amazon",date:new Date(L-1e3*60*60*72),status:"pending",method:"card",category:"shopping"},{id:6,type:"received",amount:2e3,description:"Freelance payment",sender:"Client ABC",date:new Date(L-1e3*60*60*120),status:"completed",method:"upi",category:"income"},{id:7,type:"sent",amount:300,description:"Mobile recharge",recipient:"Mobile Operator",date:new Date(L-1e3*60*60*168),status:"completed",method:"upi",category:"utilities"},{id:8,type:"failed",amount:1e3,description:"Failed transaction",recipient:"Merchant",date:new Date(L-1e3*60*60*200),status:"failed",method:"upi",category:"other"}]};R.useEffect(()=>{setTimeout(()=>{n(O()),o(!1)},1e3)},[]);const H=e.filter(L=>{const ae=L.description.toLowerCase().includes(u.toLowerCase())||L.recipient?.toLowerCase().includes(u.toLowerCase())||L.sender?.toLowerCase().includes(u.toLowerCase()),ie=p==="all"||L.type===p;return ae&&ie}),M=L=>{const ie=Math.abs(new Date-L),oe=Math.ceil(ie/(1e3*60*60*24));return oe===0?"Today":oe===1?"Yesterday":oe<7?`${oe} days ago`:oe<30?`${Math.floor(oe/7)} weeks ago`:L.toLocaleDateString()},D=L=>{switch(L){case"completed":return i.jsx(Ot,{className:"w-4 h-4 text-success"});case"pending":return i.jsx(Ar,{className:"w-4 h-4 text-warning"});case"failed":return i.jsx(za,{className:"w-4 h-4 text-danger"});default:return i.jsx(Ar,{className:"w-4 h-4 text-text-muted"})}},z=L=>{switch(L){case"sent":return i.jsx(Pa,{className:"w-4 h-4 text-danger"});case"received":return i.jsx(IM,{className:"w-4 h-4 text-success"});default:return i.jsx(En,{className:"w-4 h-4 text-text-muted"})}},G=()=>{alert("Transactions exported successfully!")};return a?i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Transactions"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>A(!w),className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(B2,{className:"w-5 h-5 text-text"})}),i.jsx("button",{onClick:G,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(y5,{className:"w-5 h-5 text-text"})})]})]})}),i.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),i.jsx("input",{type:"text",value:u,onChange:L=>d(L.target.value),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),w&&i.jsx("div",{className:"card mb-6 p-4",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label text-sm",children:"Transaction Type"}),i.jsxs("select",{value:p,onChange:L=>g(L.target.value),className:"form-input",children:[i.jsx("option",{value:"all",children:"All Transactions"}),i.jsx("option",{value:"sent",children:"Sent"}),i.jsx("option",{value:"received",children:"Received"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"failed",children:"Failed"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label text-sm",children:"Date Range"}),i.jsxs("select",{value:x,onChange:L=>v(L.target.value),className:"form-input",children:[i.jsx("option",{value:"all",children:"All Time"}),i.jsx("option",{value:"today",children:"Today"}),i.jsx("option",{value:"week",children:"This Week"}),i.jsx("option",{value:"month",children:"This Month"})]})]})]})}),i.jsx("div",{className:"space-y-3",children:H.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(En,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No transactions found"}),i.jsx("p",{className:"text-text-muted",children:"Try adjusting your search or filters"})]}):H.map(L=>i.jsx("div",{className:"card p-4 hover:border-primary/30 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-bg-elevated rounded-full flex items-center justify-center",children:z(L.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-text",children:L.type==="sent"?`To: ${L.recipient}`:L.type==="received"?`From: ${L.sender}`:L.description}),D(L.status)]}),i.jsx("p",{className:"text-sm text-text-muted",children:L.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs text-text-muted",children:M(L.date)}),i.jsx("span",{className:"text-xs text-text-muted",children:""}),i.jsx("span",{className:"text-xs text-text-muted capitalize",children:L.method})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-semibold ${L.type==="sent"?"text-danger":L.type==="received"?"text-success":"text-text"}`,children:[L.type==="sent"?"-":"+","",L.amount.toLocaleString()]}),i.jsx("p",{className:"text-xs text-text-muted capitalize",children:L.status})]})]})},L.id))}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Sent"}),i.jsxs("p",{className:"text-lg font-semibold text-danger",children:["",e.filter(L=>L.type==="sent").reduce((L,ae)=>L+ae.amount,0).toLocaleString()]})]}),i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Received"}),i.jsxs("p",{className:"text-lg font-semibold text-success",children:["",e.filter(L=>L.type==="received").reduce((L,ae)=>L+ae.amount,0).toLocaleString()]})]}),i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Net Balance"}),i.jsxs("p",{className:"text-lg font-semibold text-text",children:["",(e.filter(L=>L.type==="received").reduce((L,ae)=>L+ae.amount,0)-e.filter(L=>L.type==="sent").reduce((L,ae)=>L+ae.amount,0)).toLocaleString()]})]})]})]}),i.jsx(ho,{userRole:s?.role})]})},cO=({member:s,onClose:e,onSetLimit:n})=>{const[a,o]=R.useState({dailyLimit:s?.dailyLimit||1e3,monthlyLimit:s?.monthlyLimit||1e4}),[u,d]=R.useState(""),[p,g]=R.useState(!1),x=w=>{o({...a,[w.target.name]:parseFloat(w.target.value)})},v=async w=>{w.preventDefault(),d(""),g(!0);try{await n(a)}catch(A){d(A.message),g(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text",children:["Set Limits for ",s?.name||"Member"]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx("span",{className:"text-text-muted",children:""})})]}),u&&i.jsx("div",{className:"p-4 bg-danger/10 border border-danger/20",children:i.jsx("p",{className:"text-danger text-sm",children:u})}),i.jsxs("form",{onSubmit:v,className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Daily Limit ()"}),i.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:a.dailyLimit,onChange:x,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),i.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:a.monthlyLimit,onChange:x,required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:p,className:"flex-1 btn btn-primary",children:p?i.jsx("div",{className:"loading-spinner mx-auto"}):"Set Limits"})]})]})]})})},uO=()=>{const{user:s}=dn(),[e,n]=R.useState([]),[a,o]=R.useState(!0),[u,d]=R.useState(""),[p,g]=R.useState(!1),[x,v]=R.useState(!1),[w,A]=R.useState(null),[O,H]=R.useState("all"),M=()=>[{id:1,name:"Rajnish Kumar",email:"rajnish@familypay.com",phone:"+91 98765 43210",role:"ADMIN",status:"active",avatar:"",dailyLimit:5e3,monthlyLimit:5e4,currentDailySpent:1200,currentMonthlySpent:15e3,joinDate:new Date("2023-01-15"),lastActive:new Date(Date.now()-1e3*60*30),transactions:45},{id:2,name:"Priya Kumar",email:"priya@familypay.com",phone:"+91 98765 43211",role:"PRIMARY",status:"active",avatar:"",dailyLimit:3e3,monthlyLimit:3e4,currentDailySpent:800,currentMonthlySpent:8e3,joinDate:new Date("2023-02-20"),lastActive:new Date(Date.now()-1e3*60*60*2),transactions:32},{id:3,name:"Amit Kumar",email:"amit@familypay.com",phone:"+91 98765 43212",role:"SECONDARY",status:"active",avatar:"",dailyLimit:1e3,monthlyLimit:1e4,currentDailySpent:500,currentMonthlySpent:3500,joinDate:new Date("2023-03-10"),lastActive:new Date(Date.now()-1e3*60*60*24),transactions:18},{id:4,name:"Sunita Kumar",email:"sunita@familypay.com",phone:"+91 98765 43213",role:"SECONDARY",status:"inactive",avatar:"",dailyLimit:1500,monthlyLimit:15e3,currentDailySpent:0,currentMonthlySpent:0,joinDate:new Date("2023-04-05"),lastActive:new Date(Date.now()-1e3*60*60*24*7),transactions:12}];R.useEffect(()=>{setTimeout(()=>{n(M()),o(!1)},1e3)},[]);const D=e.filter(j=>{const E=j.name.toLowerCase().includes(u.toLowerCase())||j.email.toLowerCase().includes(u.toLowerCase())||j.phone.includes(u),k=O==="all"||j.status===O;return E&&k}),z=async j=>{const E={id:e.length+1,...j,name:`New Member ${e.length+1}`,email:`member${e.length+1}@familypay.com`,phone:`+91 98765 432${e.length+10}`,role:"SECONDARY",status:"active",avatar:"",currentDailySpent:0,currentMonthlySpent:0,joinDate:new Date,lastActive:new Date,transactions:0};n([...e,E]),g(!1)},G=async j=>{w&&(n(e.map(E=>E.id===w.id?{...E,...j}:E)),v(!1),A(null))},L=j=>{window.confirm("Are you sure you want to remove this member?")&&n(e.filter(E=>E.id!==j))},ae=j=>{switch(j){case"ADMIN":return"bg-danger/10 text-danger";case"PRIMARY":return"bg-primary/10 text-primary";case"SECONDARY":return"bg-warning/10 text-warning";default:return"bg-text-muted/10 text-text-muted"}},ie=j=>j==="active"?i.jsx(Ot,{className:"w-4 h-4 text-success"}):i.jsx(za,{className:"w-4 h-4 text-warning"}),oe=(j,E)=>Math.min(j/E*100,100),S=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=j=>{const k=Math.abs(new Date-j),B=Math.ceil(k/(1e3*60));return B<60?`${B} minutes ago`:B<1440?`${Math.floor(B/60)} hours ago`:`${Math.floor(B/1440)} days ago`};return a?i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[i.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Family Members"})]}),i.jsxs("button",{onClick:()=>g(!0),className:"btn btn-primary btn-sm",children:[i.jsx(Px,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),i.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),i.jsx("input",{type:"text",value:u,onChange:j=>d(j.target.value),placeholder:"Search members...",className:"w-full pl-10 pr-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{value:O,onChange:j=>H(j.target.value),className:"px-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.length===0?i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx(Mr,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No members found"}),i.jsx("p",{className:"text-text-muted",children:"Try adjusting your search or filters"})]}):D.map(j=>i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:j.avatar}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-semibold text-text",children:j.name}),ie(j.status)]}),i.jsx("p",{className:"text-sm text-text-muted",children:j.email}),i.jsx("p",{className:"text-sm text-text-muted",children:j.phone})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ae(j.role)}`,children:j.role}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>{A(j),v(!0)},className:"p-1.5 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Xc,{className:"w-4 h-4 text-text-muted"})}),j.role!=="ADMIN"&&i.jsx("button",{onClick:()=>L(j.id),className:"p-1.5 hover:bg-bg-elevated rounded-lg transition-colors",children:i.jsx(Y2,{className:"w-4 h-4 text-danger"})})]})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Daily Usage"}),i.jsxs("span",{className:"text-sm font-medium text-text",children:["",j.currentDailySpent," / ",j.dailyLimit]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${oe(j.currentDailySpent,j.dailyLimit)}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Monthly Usage"}),i.jsxs("span",{className:"text-sm font-medium text-text",children:["",j.currentMonthlySpent," / ",j.monthlyLimit]})]}),i.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:i.jsx("div",{className:"bg-success h-2 rounded-full transition-all duration-300",style:{width:`${oe(j.currentMonthlySpent,j.monthlyLimit)}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Transactions:"}),i.jsx("span",{className:"ml-2 font-medium text-text",children:j.transactions})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Joined:"}),i.jsx("span",{className:"ml-2 font-medium text-text",children:S(j.joinDate)})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-text-muted",children:"Last Active:"}),i.jsx("span",{className:"ml-2 font-medium text-text",children:T(j.lastActive)})]})]})]},j.id))}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx(Mr,{className:"w-8 h-8 text-primary mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Members"}),i.jsx("p",{className:"text-2xl font-bold text-text",children:e.length})]}),i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx(Ot,{className:"w-8 h-8 text-success mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Active Members"}),i.jsx("p",{className:"text-2xl font-bold text-text",children:e.filter(j=>j.status==="active").length})]}),i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx(En,{className:"w-8 h-8 text-warning mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Transactions"}),i.jsx("p",{className:"text-2xl font-bold text-text",children:e.reduce((j,E)=>j+E.transactions,0)})]}),i.jsxs("div",{className:"card p-4 text-center",children:[i.jsx(Pa,{className:"w-8 h-8 text-info mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Avg. Daily Usage"}),i.jsxs("p",{className:"text-2xl font-bold text-text",children:["",Math.round(e.reduce((j,E)=>j+E.currentDailySpent,0)/e.length)]})]})]})]}),i.jsx(ho,{userRole:s?.role}),i.jsx(K2,{isOpen:p,onClose:()=>g(!1),onAdd:z}),i.jsx(cO,{isOpen:x,onClose:()=>{v(!1),A(null)},member:w,onSetLimit:G})]})},dO=()=>i.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-text mb-4",children:"Test Page Working!"}),i.jsx("p",{className:"text-text-muted",children:"If you can see this, the navigation is working."})]})}),yi=({children:s})=>{const{isAuthenticated:e,loading:n}=dn();return n?i.jsx("div",{className:"loading-container",children:i.jsx("div",{className:"loading-spinner"})}):e?s:i.jsx(Ag,{to:"/login",replace:!0})},Vp=({children:s})=>{const{isAuthenticated:e,loading:n}=dn();return n?i.jsx("div",{className:"loading-container",children:i.jsx("div",{className:"loading-spinner"})}):e?i.jsx(Ag,{to:"/dashboard",replace:!0}):s};function hO(){const{user:s}=dn();return i.jsxs(Oj,{children:[i.jsx(tn,{path:"/",element:i.jsx(QM,{})}),i.jsx(tn,{path:"/about",element:i.jsx(XM,{})}),i.jsx(tn,{path:"/blog",element:i.jsx(WM,{})}),i.jsx(tn,{path:"/blog/:postId",element:i.jsx(JM,{})}),i.jsx(tn,{path:"/login",element:i.jsx(Vp,{children:i.jsx($M,{})})}),i.jsx(tn,{path:"/forgot-password",element:i.jsx(Vp,{children:i.jsx(YM,{})})}),i.jsx(tn,{path:"/register",element:i.jsx(Vp,{children:i.jsx(KM,{})})}),i.jsx(tn,{path:"/dashboard",element:i.jsx(yi,{children:s?.role==="PRIMARY"?i.jsx(g_,{}):s?.role==="ADMIN"?i.jsx(g_,{}):i.jsx(sO,{})})}),i.jsx(tn,{path:"/dashboard/profile",element:i.jsx(yi,{children:i.jsx(rO,{})})}),i.jsx(tn,{path:"/dashboard/payments",element:i.jsx(yi,{children:i.jsx(iO,{})})}),i.jsx(tn,{path:"/dashboard/notifications",element:i.jsx(yi,{children:i.jsx(lO,{})})}),i.jsx(tn,{path:"/dashboard/transactions",element:i.jsx(yi,{children:i.jsx(oO,{})})}),i.jsx(tn,{path:"/dashboard/members",element:i.jsx(yi,{children:i.jsx(uO,{})})}),i.jsx(tn,{path:"/dashboard/test",element:i.jsx(yi,{children:i.jsx(dO,{})})}),i.jsx(tn,{path:"*",element:i.jsx(Ag,{to:"/",replace:!0})})]})}function fO(){return i.jsx(iS,{children:i.jsx(Fk,{children:i.jsx("div",{className:"App",children:i.jsx(hO,{})})})})}LT.createRoot(document.getElementById("root")).render(i.jsx(CT.StrictMode,{children:i.jsx(fO,{})}));
