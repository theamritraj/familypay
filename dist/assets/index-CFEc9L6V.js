(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function c1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var cp={exports:{}},uc={};var Kb;function hN(){if(Kb)return uc;Kb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:d,ref:o!==void 0?o:null,props:u}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var Qb;function fN(){return Qb||(Qb=1,cp.exports=hN()),cp.exports}var l=fN(),up={exports:{}},Ne={};var Xb;function mN(){if(Xb)return Ne;Xb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=j&&P[j]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function H(P,te,ue){this.props=P,this.context=te,this.refs=O,this.updater=ue||F}H.prototype.isReactComponent={},H.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},H.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=H.prototype;function U(P,te,ue){this.props=P,this.context=te,this.refs=O,this.updater=ue||F}var ie=U.prototype=new J;ie.constructor=U,L(ie,H.prototype),ie.isPureReactComponent=!0;var ae=Array.isArray;function ce(){}var C={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function N(P,te,ue){var he=ue.ref;return{$$typeof:s,type:P,key:te,ref:he!==void 0?he:null,props:ue}}function S(P,te){return N(P.type,te,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function z(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return te[ue]})}var R=/\/+/g;function Ge(P,te){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):te.toString(36)}function st(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ce,ce):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,te,ue,he,Ee){var Ae=typeof P;(Ae==="undefined"||Ae==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case s:case e:ke=!0;break;case b:return ke=P._init,X(ke(P._payload),te,ue,he,Ee)}}if(ke)return Ee=Ee(P),ke=he===""?"."+Ge(P,0):he,ae(Ee)?(ue="",ke!=null&&(ue=ke.replace(R,"$&/")+"/"),X(Ee,te,ue,"",function(Ce){return Ce})):Ee!=null&&(D(Ee)&&(Ee=S(Ee,ue+(Ee.key==null||P&&P.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+ke)),te.push(Ee)),1;ke=0;var yt=he===""?".":he+":";if(ae(P))for(var rt=0;rt<P.length;rt++)he=P[rt],Ae=yt+Ge(he,rt),ke+=X(he,te,ue,Ae,Ee);else if(rt=k(P),typeof rt=="function")for(P=rt.call(P),rt=0;!(he=P.next()).done;)he=he.value,Ae=yt+Ge(he,rt++),ke+=X(he,te,ue,Ae,Ee);else if(Ae==="object"){if(typeof P.then=="function")return X(st(P),te,ue,he,Ee);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function le(P,te,ue){if(P==null)return P;var he=[],Ee=0;return X(P,he,"","",function(Ae){return te.call(ue,Ae,Ee++)}),he}function ye(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},re={map:le,forEach:function(P,te,ue){le(P,function(){te.apply(this,arguments)},ue)},count:function(P){var te=0;return le(P,function(){te++}),te},toArray:function(P){return le(P,function(te){return te})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ne.Activity=w,Ne.Children=re,Ne.Component=H,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=U,Ne.StrictMode=i,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(P,te,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=L({},P.props),Ee=P.key;if(te!=null)for(Ae in te.key!==void 0&&(Ee=""+te.key),te)!E.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(he[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=ue;else if(1<Ae){for(var ke=Array(Ae),yt=0;yt<Ae;yt++)ke[yt]=arguments[yt+2];he.children=ke}return N(P.type,Ee,he)},Ne.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ne.createElement=function(P,te,ue){var he,Ee={},Ae=null;if(te!=null)for(he in te.key!==void 0&&(Ae=""+te.key),te)E.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=te[he]);var ke=arguments.length-2;if(ke===1)Ee.children=ue;else if(1<ke){for(var yt=Array(ke),rt=0;rt<ke;rt++)yt[rt]=arguments[rt+2];Ee.children=yt}if(P&&P.defaultProps)for(he in ke=P.defaultProps,ke)Ee[he]===void 0&&(Ee[he]=ke[he]);return N(P,Ae,Ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:p,render:P}},Ne.isValidElement=D,Ne.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:ye}},Ne.memo=function(P,te){return{$$typeof:y,type:P,compare:te===void 0?null:te}},Ne.startTransition=function(P){var te=C.T,ue={};C.T=ue;try{var he=P(),Ee=C.S;Ee!==null&&Ee(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ce,De)}catch(Ae){De(Ae)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),C.T=te}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(P){return C.H.use(P)},Ne.useActionState=function(P,te,ue){return C.H.useActionState(P,te,ue)},Ne.useCallback=function(P,te){return C.H.useCallback(P,te)},Ne.useContext=function(P){return C.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,te){return C.H.useDeferredValue(P,te)},Ne.useEffect=function(P,te){return C.H.useEffect(P,te)},Ne.useEffectEvent=function(P){return C.H.useEffectEvent(P)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(P,te,ue){return C.H.useImperativeHandle(P,te,ue)},Ne.useInsertionEffect=function(P,te){return C.H.useInsertionEffect(P,te)},Ne.useLayoutEffect=function(P,te){return C.H.useLayoutEffect(P,te)},Ne.useMemo=function(P,te){return C.H.useMemo(P,te)},Ne.useOptimistic=function(P,te){return C.H.useOptimistic(P,te)},Ne.useReducer=function(P,te,ue){return C.H.useReducer(P,te,ue)},Ne.useRef=function(P){return C.H.useRef(P)},Ne.useState=function(P){return C.H.useState(P)},Ne.useSyncExternalStore=function(P,te,ue){return C.H.useSyncExternalStore(P,te,ue)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.4",Ne}var Wb;function mg(){return Wb||(Wb=1,up.exports=mN()),up.exports}var I=mg();const pN=c1(I);var dp={exports:{}},dc={},hp={exports:{}},fp={};var Jb;function gN(){return Jb||(Jb=1,(function(s){function e(X,le){var ye=X.length;X.push(le);e:for(;0<ye;){var De=ye-1>>>1,re=X[De];if(0<o(re,le))X[De]=le,X[ye]=re,ye=De;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var le=X[0],ye=X.pop();if(ye!==le){X[0]=ye;e:for(var De=0,re=X.length,P=re>>>1;De<P;){var te=2*(De+1)-1,ue=X[te],he=te+1,Ee=X[he];if(0>o(ue,ye))he<re&&0>o(Ee,ue)?(X[De]=Ee,X[he]=ye,De=he):(X[De]=ue,X[te]=ye,De=te);else if(he<re&&0>o(Ee,ye))X[De]=Ee,X[he]=ye,De=he;else break e}}return le}function o(X,le){var ye=X.sortIndex-le.sortIndex;return ye!==0?ye:X.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],b=1,w=null,j=3,k=!1,F=!1,L=!1,O=!1,H=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=n(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=X)i(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ae(X){if(L=!1,ie(X),!F)if(n(g)!==null)F=!0,ce||(ce=!0,z());else{var le=n(y);le!==null&&st(ae,le.startTime-X)}}var ce=!1,C=-1,E=5,N=-1;function S(){return O?!0:!(s.unstable_now()-N<E)}function D(){if(O=!1,ce){var X=s.unstable_now();N=X;var le=!0;try{e:{F=!1,L&&(L=!1,J(C),C=-1),k=!0;var ye=j;try{t:{for(ie(X),w=n(g);w!==null&&!(w.expirationTime>X&&S());){var De=w.callback;if(typeof De=="function"){w.callback=null,j=w.priorityLevel;var re=De(w.expirationTime<=X);if(X=s.unstable_now(),typeof re=="function"){w.callback=re,ie(X),le=!0;break t}w===n(g)&&i(g),ie(X)}else i(g);w=n(g)}if(w!==null)le=!0;else{var P=n(y);P!==null&&st(ae,P.startTime-X),le=!1}}break e}finally{w=null,j=ye,k=!1}le=void 0}}finally{le?z():ce=!1}}}var z;if(typeof U=="function")z=function(){U(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ge=R.port2;R.port1.onmessage=D,z=function(){Ge.postMessage(null)}}else z=function(){H(D,0)};function st(X,le){C=H(function(){X(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(X){switch(j){case 1:case 2:case 3:var le=3;break;default:le=j}var ye=j;j=le;try{return X()}finally{j=ye}},s.unstable_requestPaint=function(){O=!0},s.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=j;j=X;try{return le()}finally{j=ye}},s.unstable_scheduleCallback=function(X,le,ye){var De=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?De+ye:De):ye=De,X){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ye+re,X={id:b++,callback:le,priorityLevel:X,startTime:ye,expirationTime:re,sortIndex:-1},ye>De?(X.sortIndex=ye,e(y,X),n(g)===null&&X===n(y)&&(L?(J(C),C=-1):L=!0,st(ae,ye-De))):(X.sortIndex=re,e(g,X),F||k||(F=!0,ce||(ce=!0,z()))),X},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(X){var le=j;return function(){var ye=j;j=le;try{return X.apply(this,arguments)}finally{j=ye}}}})(fp)),fp}var Zb;function yN(){return Zb||(Zb=1,hp.exports=gN()),hp.exports}var mp={exports:{}},Zt={};var e0;function xN(){if(e0)return Zt;e0=1;var s=mg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Zt.flushSync=function(g){var y=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=b,i.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:k}):b==="script"&&i.d.X(g,{crossOrigin:w,integrity:j,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Zt.requestFormReset=function(g){i.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,b){return d.H.useFormState(g,y,b)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var t0;function vN(){if(t0)return mp.exports;t0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mp.exports=xN(),mp.exports}var n0;function bN(){if(n0)return dc;n0=1;var s=yN(),e=mg(),n=vN();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,c=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===c)return g(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,c=m;break}if(T===c){v=!0,c=f,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,c=f;break}if(T===c){v=!0,c=m,a=f;break}T=T.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),U=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case H:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case U:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Ge(t.type)||"Memo";case E:r=t._payload,t=t._init;try{return Ge(t(r))}catch{}}return null}var st=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},De=[],re=-1;function P(t){return{current:t}}function te(t){0>re||(t.current=De[re],De[re]=null,re--)}function ue(t,r){re++,De[re]=t.current,t.current=r}var he=P(null),Ee=P(null),Ae=P(null),ke=P(null);function yt(t,r){switch(ue(Ae,r),ue(Ee,t),ue(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?yb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=yb(r),t=xb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),ue(he,t)}function rt(){te(he),te(Ee),te(Ae)}function Ce(t){t.memoizedState!==null&&ue(ke,t);var r=he.current,a=xb(r,t.type);r!==a&&(ue(Ee,t),ue(he,a))}function ts(t){Ee.current===t&&(te(he),te(Ee)),ke.current===t&&(te(ke),ac._currentValue=ye)}var Ua,za;function Ts(t){if(Ua===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",za=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+za}var al=!1;function Li(t,r){if(!t||al)return"";al=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var Y=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){Y=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var M=v.split(`
`),$=T.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===$.length)for(c=M.length-1,f=$.length-1;1<=c&&0<=f&&M[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==$[f]){var W=`
`+M[c].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=c&&0<=f);break}}}finally{al=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ts(a):""}function ol(t,r){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==r&&r!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return Li(t.type,!1);case 11:return Li(t.type.render,!1);case 1:return Li(t.type,!0);case 31:return Ts("Activity");default:return""}}function ll(t){try{var r="",a=null;do r+=ol(t,a),a=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Et=Object.prototype.hasOwnProperty,kt=s.unstable_scheduleCallback,Pr=s.unstable_cancelCallback,df=s.unstable_shouldYield,au=s.unstable_requestPaint,rn=s.unstable_now,Vi=s.unstable_getCurrentPriorityLevel,cl=s.unstable_ImmediatePriority,ul=s.unstable_UserBlockingPriority,Lr=s.unstable_NormalPriority,hf=s.unstable_LowPriority,ou=s.unstable_IdlePriority,lu=s.log,cu=s.unstable_setDisableYieldValue,ns=null,Ft=null;function Ln(t){if(typeof lu=="function"&&cu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ns,t)}catch{}}var xt=Math.clz32?Math.clz32:du,uu=Math.log,Ba=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(uu(t)/Ba|0)|0}var Ns=256,Ui=262144,Tt=4194304;function Ss(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function As(t,r,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?f=Ss(c):(v&=T,v!==0?f=Ss(v):a||(a=T&~t,a!==0&&(f=Ss(a))))):(T=c&~m,T!==0?f=Ss(T):v!==0?f=Ss(v):a||(a=c&~t,a!==0&&(f=Ss(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function ss(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ff(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function js(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function zi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mf(t,r,a,c,f,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,$=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-xt(a),ne=1<<W;T[W]=0,M[W]=-1;var Y=$[W];if(Y!==null)for($[W]=null,W=0;W<Y.length;W++){var Q=Y[W];Q!==null&&(Q.lane&=-536870913)}a&=~ne}c!==0&&Bi(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~r))}function Bi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-xt(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function dl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-xt(a),f=1<<c;f&r|t[c]&r&&(t[c]|=r),a&=~f}}function hl(t,r){var a=r&-r;return a=(a&42)!==0?1:Fi(a),(a&(t.suspendedLanes|r))!==0?0:a}function Fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Bb(t.type))}function rs(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var is=Math.random().toString(36).slice(2),Nt="__reactFiber$"+is,Vt="__reactProps$"+is,Rs="__reactContainer$"+is,Fa="__reactEvents$"+is,pf="__reactListeners$"+is,mu="__reactHandles$"+is,pu="__reactResources$"+is,Cs="__reactMarker$"+is;function qa(t){delete t[Nt],delete t[Vt],delete t[Fa],delete t[pf],delete t[mu]}function Is(t){var r=t[Nt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Rs]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Nb(t);t!==null;){if(a=t[Nt])return a;t=Nb(t)}return r}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[Nt]||t[Rs]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Nn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ds(t){var r=t[pu];return r||(r=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[Cs]=!0}var fl=new Set,ml={};function Ms(t,r){Os(t,r),Os(t+"Capture",r)}function Os(t,r){for(ml[t]=r,t=0;t<r.length;t++)fl.add(r[t])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function gu(t){return Et.call(yl,t)?!0:Et.call(gl,t)?!1:pl.test(t)?yl[t]=!0:(gl[t]=!0,!1)}function Ha(t,r,a){if(gu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Sn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+c)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xl(t,r,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=Vr(t)?"checked":"value";t._valueTracker=xl(t,r,""+t[r])}}function qi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Vr(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hi=/[\n"\\]/g;function un(t){return t.replace(Hi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ga(t,r,a,c,f,m,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?vl(t,v,Ut(r)):a!=null?vl(t,v,Ut(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function yu(t,r,a,c,f,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function vl(t,r,a){r==="number"&&ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ur(t,r,a,c){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function xu(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function zr(t,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Qe(t)}function dn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(t,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,a):typeof a!="number"||a===0||vu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function _l(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&a[f]!==c&&bl(t,f,c)}else for(var m in r)r.hasOwnProperty(m)&&bl(t,m,r[m])}function $a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function as(){}var wl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Ps=null;function Gi(t){var r=Vn(t);if(r&&(t=r.stateNode)){var a=t[Vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var f=c[Vt]||null;if(!f)throw Error(i(90));Ga(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===t.form&&qi(c)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ur(t,!!a.multiple,r,!1)}}}var Ka=!1;function qr(t,r,a){if(Ka)return t(r,a);Ka=!0;try{var c=t(r);return c}finally{if(Ka=!1,(Fr!==null||Ps!==null)&&(fd(),Fr&&(r=Fr,t=Ps,Ps=Fr=null,Gi(r),t)))for(r=0;r<t.length;r++)Gi(t[r])}}function os(t,r){var a=t.stateNode;if(a===null)return null;var c=a[Vt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(zn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{$i=!1}var Ls=null,El=null,Yi=null;function Tl(){if(Yi)return Yi;var t,r=El,a=r.length,c,f="value"in Ls?Ls.value:Ls.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(c=1;c<=v&&r[a-c]===f[m-c];c++);return Yi=f.slice(t,1<c?1-c:void 0)}function Ki(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function ls(){return!1}function qt(t){function r(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rr:ls,this.isPropagationStopped=ls,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),r}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=qt(ir),Hr=w({},ir,{view:0,detail:0}),Nl=qt(Hr),Gr,Qa,Us,Xa=w({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(Gr=t.screenX-Us.screenX,Qa=t.screenY-Us.screenY):Qa=Gr=0,Us=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),Sl=qt(Xa),Qi=w({},Xa,{dataTransfer:0}),_u=qt(Qi),wu=w({},Hr,{relatedTarget:0}),Xi=qt(wu),Al=w({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=qt(Al),Wa=w({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=qt(Wa),Nu=w({},ir,{data:0}),zs=qt(Nu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ju[t])?!!r[t]:!1}function $r(){return Ru}var an=w({},Hr,{key:function(t){if(t.key){var r=Su[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=qt(an),Iu=w({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=qt(Iu),h=w({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),x=qt(h),_=w({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(_),q=w({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(q),oe=w({},ir,{newState:0,oldState:0}),je=qt(oe),vt=[9,13,27,32],$e=zn&&"CompositionEvent"in window,ct=null;zn&&"documentMode"in document&&(ct=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ct,Bs=zn&&(!$e||ct&&8<ct&&11>=ct),cs=" ",us=!1;function Wi(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function PT(t,r){switch(t){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(us=!0,cs);case"textInput":return t=r.data,t===cs&&us?null:t;default:return null}}function LT(t,r){if(Za)return t==="compositionend"||!$e&&Wi(t,r)?(t=Tl(),Yi=El=Ls=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bs&&r.locale!=="ko"?null:r.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!VT[t.type]:r==="textarea"}function Ry(t,r,a,c){Fr?Ps?Ps.push(c):Ps=[c]:Fr=c,r=bd(r,"onChange"),0<r.length&&(a=new Vs("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var jl=null,Rl=null;function UT(t){db(t,0)}function Du(t){var r=Nn(t);if(qi(r))return t}function Cy(t,r){if(t==="change")return r}var Iy=!1;if(zn){var gf;if(zn){var yf="oninput"in document;if(!yf){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),yf=typeof Dy.oninput=="function"}gf=yf}else gf=!1;Iy=gf&&(!document.documentMode||9<document.documentMode)}function My(){jl&&(jl.detachEvent("onpropertychange",Oy),Rl=jl=null)}function Oy(t){if(t.propertyName==="value"&&Du(Rl)){var r=[];Ry(r,Rl,t,Un(t)),qr(UT,r)}}function zT(t,r,a){t==="focusin"?(My(),jl=r,Rl=a,jl.attachEvent("onpropertychange",Oy)):t==="focusout"&&My()}function BT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Rl)}function FT(t,r){if(t==="click")return Du(r)}function qT(t,r){if(t==="input"||t==="change")return Du(r)}function HT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:HT;function Cl(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Et.call(r,f)||!An(t[f],r[f]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,r){var a=ky(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ky(a)}}function Ly(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ly(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ks(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ks(t.document)}return r}function xf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var GT=zn&&"documentMode"in document&&11>=document.documentMode,eo=null,vf=null,Il=null,bf=!1;function Uy(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||eo==null||eo!==ks(c)||(c=eo,"selectionStart"in c&&xf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Il&&Cl(Il,c)||(Il=c,c=bd(vf,"onSelect"),0<c.length&&(r=new Vs("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=eo)))}function Ji(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var to={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},_f={},zy={};zn&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Zi(t){if(_f[t])return _f[t];if(!to[t])return t;var r=to[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in zy)return _f[t]=r[a];return t}var By=Zi("animationend"),Fy=Zi("animationiteration"),qy=Zi("animationstart"),$T=Zi("transitionrun"),YT=Zi("transitionstart"),KT=Zi("transitioncancel"),Hy=Zi("transitionend"),Gy=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function ds(t,r){Gy.set(t,r),Ms(r,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],no=0,Ef=0;function Ou(){for(var t=no,r=Ef=no=0;r<t;){var a=Fn[r];Fn[r++]=null;var c=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var m=Fn[r];if(Fn[r++]=null,c!==null&&f!==null){var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}m!==0&&$y(a,f,m)}}function ku(t,r,a,c){Fn[no++]=t,Fn[no++]=r,Fn[no++]=a,Fn[no++]=c,Ef|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Tf(t,r,a,c){return ku(t,r,a,c),Pu(t)}function ea(t,r){return ku(t,null,null,r),Pu(t)}function $y(t,r,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-xt(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[r]:c.push(r),r.lane=a|536870912),m):null}function Pu(t){if(50<Zl)throw Zl=0,Mm=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var so={};function QT(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,r,a,c){return new QT(t,r,a,c)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,r){var a=t.alternate;return a===null?(a=jn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Lu(t,r,a,c,f,m){var v=0;if(c=t,typeof t=="function")Nf(t)&&(v=1);else if(typeof t=="string")v=eN(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=jn(31,a,r,f),t.elementType=N,t.lanes=m,t;case L:return ta(a.children,f,m,r);case O:v=8,f|=24;break;case H:return t=jn(12,a,r,f|2),t.elementType=H,t.lanes=m,t;case ae:return t=jn(13,a,r,f),t.elementType=ae,t.lanes=m,t;case ce:return t=jn(19,a,r,f),t.elementType=ce,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:v=10;break e;case J:v=9;break e;case ie:v=11;break e;case C:v=14;break e;case E:v=16,c=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return r=jn(v,a,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function ta(t,r,a,c){return t=jn(7,t,c,r),t.lanes=a,t}function Sf(t,r,a){return t=jn(6,t,null,r),t.lanes=a,t}function Ky(t){var r=jn(18,null,null,0);return r.stateNode=t,r}function Af(t,r,a){return r=jn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Qy=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var a=Qy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ll(r)},Qy.set(t,r),r)}return{value:t,source:r,stack:ll(r)}}var ro=[],io=0,Vu=null,Dl=0,Hn=[],Gn=0,Yr=null,Fs=1,qs="";function lr(t,r){ro[io++]=Dl,ro[io++]=Vu,Vu=t,Dl=r}function Xy(t,r,a){Hn[Gn++]=Fs,Hn[Gn++]=qs,Hn[Gn++]=Yr,Yr=t;var c=Fs;t=qs;var f=32-xt(c)-1;c&=~(1<<f),a+=1;var m=32-xt(r)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Fs=1<<32-xt(r)+f|a<<f|c,qs=m+t}else Fs=1<<m|a<<f|c,qs=t}function jf(t){t.return!==null&&(lr(t,1),Xy(t,1,0))}function Rf(t){for(;t===Vu;)Vu=ro[--io],ro[io]=null,Dl=ro[--io],ro[io]=null;for(;t===Yr;)Yr=Hn[--Gn],Hn[Gn]=null,qs=Hn[--Gn],Hn[Gn]=null,Fs=Hn[--Gn],Hn[Gn]=null}function Wy(t,r){Hn[Gn++]=Fs,Hn[Gn++]=qs,Hn[Gn++]=Yr,Fs=r.id,qs=r.overflow,Yr=t}var Ht=null,at=null,Be=!1,Kr=null,$n=!1,Cf=Error(i(519));function Qr(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(qn(r,t)),Cf}function Jy(t){var r=t.stateNode,a=t.type,c=t.memoizedProps;switch(r[Nt]=t,r[Vt]=c,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<tc.length;a++)Oe(tc[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),yu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),zr(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||pb(r.textContent,a)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=as),r=!0):r=!1,r||Qr(t,!0)}function Zy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ht=Ht.return}}function ao(t){if(t!==Ht)return!1;if(!Be)return Zy(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Km(t.type,t.memoizedProps)),a=!a),a&&at&&Qr(t),Zy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));at=Tb(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));at=Tb(t)}else r===27?(r=at,ci(t.type)?(t=Zm,Zm=null,at=t):at=r):at=Ht?Kn(t.stateNode.nextSibling):null;return!0}function na(){at=Ht=null,Be=!1}function If(){var t=Kr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Kr=null),t}function Ml(t){Kr===null?Kr=[t]:Kr.push(t)}var Df=P(null),sa=null,cr=null;function Xr(t,r,a){ue(Df,r._currentValue),r._currentValue=a}function ur(t){t._currentValue=Df.current,te(Df)}function Mf(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function Of(t,r,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var M=0;M<r.length;M++)if(T.context===r[M]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Mf(m.return,a,t),c||(v=null);break e}m=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Mf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function oo(t,r,a,c){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var T=f.type;An(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===ke.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ac):t=[ac])}f=f.return}t!==null&&Of(r,t,a,c),r.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){sa=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return ex(sa,t)}function zu(t,r){return sa===null&&ra(t),ex(t,r)}function ex(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},cr===null){if(t===null)throw Error(i(308));cr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else cr=cr.next=r;return a}var XT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},WT=s.unstable_scheduleCallback,JT=s.unstable_NormalPriority,jt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new XT,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&WT(JT,function(){t.controller.abort()})}var kl=null,Pf=0,lo=0,co=null;function ZT(t,r){if(kl===null){var a=kl=[];Pf=0,lo=Um(),co={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Pf++,r.then(tx,tx),r}function tx(){if(--Pf===0&&kl!==null){co!==null&&(co.status="fulfilled");var t=kl;kl=null,lo=0,co=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function e2(t,r){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var nx=X.S;X.S=function(t,r){Uv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZT(t,r),nx!==null&&nx(t,r)};var ia=P(null);function Lf(){var t=ia.current;return t!==null?t:nt.pooledCache}function Bu(t,r){r===null?ue(ia,ia.current):ue(ia,r.pool)}function sx(){var t=Lf();return t===null?null:{parent:jt._currentValue,pool:t}}var uo=Error(i(460)),Vf=Error(i(474)),Fu=Error(i(542)),qu={then:function(){}};function rx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ix(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(as,as),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ox(t),t;default:if(typeof r.status=="string")r.then(as,as);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ox(t),t}throw oa=r,uo}}function aa(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,uo):a}}var oa=null;function ax(){if(oa===null)throw Error(i(459));var t=oa;return oa=null,t}function ox(t){if(t===uo||t===Fu)throw Error(i(483))}var ho=null,Pl=0;function Hu(t){var r=Pl;return Pl+=1,ho===null&&(ho=[]),ix(ho,t,r)}function Ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Gu(t,r){throw r.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function lx(t){function r(B,V){if(t){var G=B.deletions;G===null?(B.deletions=[V],B.flags|=16):G.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)r(B,V),V=V.sibling;return null}function c(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=or(B,V),B.index=0,B.sibling=null,B}function m(B,V,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<V?(B.flags|=67108866,V):G):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,V,G,Z){return V===null||V.tag!==6?(V=Sf(G,B.mode,Z),V.return=B,V):(V=f(V,G),V.return=B,V)}function M(B,V,G,Z){var xe=G.type;return xe===L?W(B,V,G.props.children,Z,G.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&aa(xe)===V.type)?(V=f(V,G.props),Ll(V,G),V.return=B,V):(V=Lu(G.type,G.key,G.props,null,B.mode,Z),Ll(V,G),V.return=B,V)}function $(B,V,G,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=Af(G,B.mode,Z),V.return=B,V):(V=f(V,G.children||[]),V.return=B,V)}function W(B,V,G,Z,xe){return V===null||V.tag!==7?(V=ta(G,B.mode,Z,xe),V.return=B,V):(V=f(V,G),V.return=B,V)}function ne(B,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sf(""+V,B.mode,G),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return G=Lu(V.type,V.key,V.props,null,B.mode,G),Ll(G,V),G.return=B,G;case F:return V=Af(V,B.mode,G),V.return=B,V;case E:return V=aa(V),ne(B,V,G)}if(st(V)||z(V))return V=ta(V,B.mode,G,null),V.return=B,V;if(typeof V.then=="function")return ne(B,Hu(V),G);if(V.$$typeof===U)return ne(B,zu(B,V),G);Gu(B,V)}return null}function Y(B,V,G,Z){var xe=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return xe!==null?null:T(B,V,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case k:return G.key===xe?M(B,V,G,Z):null;case F:return G.key===xe?$(B,V,G,Z):null;case E:return G=aa(G),Y(B,V,G,Z)}if(st(G)||z(G))return xe!==null?null:W(B,V,G,Z,null);if(typeof G.then=="function")return Y(B,V,Hu(G),Z);if(G.$$typeof===U)return Y(B,V,zu(B,G),Z);Gu(B,G)}return null}function Q(B,V,G,Z,xe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(G)||null,T(V,B,""+Z,xe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return B=B.get(Z.key===null?G:Z.key)||null,M(V,B,Z,xe);case F:return B=B.get(Z.key===null?G:Z.key)||null,$(V,B,Z,xe);case E:return Z=aa(Z),Q(B,V,G,Z,xe)}if(st(Z)||z(Z))return B=B.get(G)||null,W(V,B,Z,xe,null);if(typeof Z.then=="function")return Q(B,V,G,Hu(Z),xe);if(Z.$$typeof===U)return Q(B,V,G,zu(V,Z),xe);Gu(V,Z)}return null}function me(B,V,G,Z){for(var xe=null,qe=null,pe=V,Ie=V=0,Le=null;pe!==null&&Ie<G.length;Ie++){pe.index>Ie?(Le=pe,pe=null):Le=pe.sibling;var He=Y(B,pe,G[Ie],Z);if(He===null){pe===null&&(pe=Le);break}t&&pe&&He.alternate===null&&r(B,pe),V=m(He,V,Ie),qe===null?xe=He:qe.sibling=He,qe=He,pe=Le}if(Ie===G.length)return a(B,pe),Be&&lr(B,Ie),xe;if(pe===null){for(;Ie<G.length;Ie++)pe=ne(B,G[Ie],Z),pe!==null&&(V=m(pe,V,Ie),qe===null?xe=pe:qe.sibling=pe,qe=pe);return Be&&lr(B,Ie),xe}for(pe=c(pe);Ie<G.length;Ie++)Le=Q(pe,B,Ie,G[Ie],Z),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?Ie:Le.key),V=m(Le,V,Ie),qe===null?xe=Le:qe.sibling=Le,qe=Le);return t&&pe.forEach(function(mi){return r(B,mi)}),Be&&lr(B,Ie),xe}function be(B,V,G,Z){if(G==null)throw Error(i(151));for(var xe=null,qe=null,pe=V,Ie=V=0,Le=null,He=G.next();pe!==null&&!He.done;Ie++,He=G.next()){pe.index>Ie?(Le=pe,pe=null):Le=pe.sibling;var mi=Y(B,pe,He.value,Z);if(mi===null){pe===null&&(pe=Le);break}t&&pe&&mi.alternate===null&&r(B,pe),V=m(mi,V,Ie),qe===null?xe=mi:qe.sibling=mi,qe=mi,pe=Le}if(He.done)return a(B,pe),Be&&lr(B,Ie),xe;if(pe===null){for(;!He.done;Ie++,He=G.next())He=ne(B,He.value,Z),He!==null&&(V=m(He,V,Ie),qe===null?xe=He:qe.sibling=He,qe=He);return Be&&lr(B,Ie),xe}for(pe=c(pe);!He.done;Ie++,He=G.next())He=Q(pe,B,Ie,He.value,Z),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?Ie:He.key),V=m(He,V,Ie),qe===null?xe=He:qe.sibling=He,qe=He);return t&&pe.forEach(function(dN){return r(B,dN)}),Be&&lr(B,Ie),xe}function tt(B,V,G,Z){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case k:e:{for(var xe=G.key;V!==null;){if(V.key===xe){if(xe=G.type,xe===L){if(V.tag===7){a(B,V.sibling),Z=f(V,G.props.children),Z.return=B,B=Z;break e}}else if(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&aa(xe)===V.type){a(B,V.sibling),Z=f(V,G.props),Ll(Z,G),Z.return=B,B=Z;break e}a(B,V);break}else r(B,V);V=V.sibling}G.type===L?(Z=ta(G.props.children,B.mode,Z,G.key),Z.return=B,B=Z):(Z=Lu(G.type,G.key,G.props,null,B.mode,Z),Ll(Z,G),Z.return=B,B=Z)}return v(B);case F:e:{for(xe=G.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(B,V.sibling),Z=f(V,G.children||[]),Z.return=B,B=Z;break e}else{a(B,V);break}else r(B,V);V=V.sibling}Z=Af(G,B.mode,Z),Z.return=B,B=Z}return v(B);case E:return G=aa(G),tt(B,V,G,Z)}if(st(G))return me(B,V,G,Z);if(z(G)){if(xe=z(G),typeof xe!="function")throw Error(i(150));return G=xe.call(G),be(B,V,G,Z)}if(typeof G.then=="function")return tt(B,V,Hu(G),Z);if(G.$$typeof===U)return tt(B,V,zu(B,G),Z);Gu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(B,V.sibling),Z=f(V,G),Z.return=B,B=Z):(a(B,V),Z=Sf(G,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,V)}return function(B,V,G,Z){try{Pl=0;var xe=tt(B,V,G,Z);return ho=null,xe}catch(pe){if(pe===uo||pe===Fu)throw pe;var qe=jn(29,pe,null,B.mode);return qe.lanes=Z,qe.return=B,qe}}}var la=lx(!0),cx=lx(!1),Wr=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Pu(t),$y(t,null,a),r}return ku(t,c,r,a),Pu(t)}function Vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,dl(t,a)}}function Bf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ff=!1;function Ul(){if(Ff){var t=co;if(t!==null)throw t}}function zl(t,r,a,c){Ff=!1;var f=t.updateQueue;Wr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,$=M.next;M.next=null,v===null?m=$:v.next=$,v=M;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=$:T.next=$,W.lastBaseUpdate=M))}if(m!==null){var ne=f.baseState;v=0,W=$=M=null,T=m;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Pe&Y)===Y:(c&Y)===Y){Y!==0&&Y===lo&&(Ff=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;Y=r;var tt=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){ne=me.call(tt,ne,Y);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,Y=typeof me=="function"?me.call(tt,ne,Y):me,Y==null)break e;ne=w({},ne,Y);break e;case 2:Wr=!0}}Y=T.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?($=W=Q,M=ne):W=W.next=Q,v|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(M=ne),f.baseState=M,f.firstBaseUpdate=$,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ri|=v,t.lanes=v,t.memoizedState=ne}}function ux(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function dx(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ux(a[t],r)}var fo=P(null),$u=P(0);function hx(t,r){t=vr,ue($u,t),ue(fo,r),vr=t|r.baseLanes}function qf(){ue($u,vr),ue(fo,fo.current)}function Hf(){vr=$u.current,te(fo),te($u)}var Rn=P(null),Yn=null;function ei(t){var r=t.alternate;ue(bt,bt.current&1),ue(Rn,t),Yn===null&&(r===null||fo.current!==null||r.memoizedState!==null)&&(Yn=t)}function Gf(t){ue(bt,bt.current),ue(Rn,t),Yn===null&&(Yn=t)}function fx(t){t.tag===22?(ue(bt,bt.current),ue(Rn,t),Yn===null&&(Yn=t)):ti()}function ti(){ue(bt,bt.current),ue(Rn,Rn.current)}function Cn(t){te(Rn),Yn===t&&(Yn=null),te(bt)}var bt=P(0);function Yu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wm(a)||Jm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dr=0,Re=null,Ze=null,Rt=null,Ku=!1,mo=!1,ca=!1,Qu=0,Bl=0,po=null,t2=0;function mt(){throw Error(i(321))}function $f(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function Yf(t,r,a,c,f,m){return dr=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Xx:lm,ca=!1,m=a(c,f),ca=!1,mo&&(m=px(r,a,c,f)),mx(t),m}function mx(t){X.H=Hl;var r=Ze!==null&&Ze.next!==null;if(dr=0,Rt=Ze=Re=null,Ku=!1,Bl=0,po=null,r)throw Error(i(300));t===null||Ct||(t=t.dependencies,t!==null&&Uu(t)&&(Ct=!0))}function px(t,r,a,c){Re=t;var f=0;do{if(mo&&(po=null),Bl=0,mo=!1,25<=f)throw Error(i(301));if(f+=1,Rt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Wx,m=r(a,c)}while(mo);return m}function n2(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Fl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),r}function Kf(){var t=Qu!==0;return Qu=0,t}function Qf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Xf(t){if(Ku){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ku=!1}dr=0,Rt=Ze=Re=null,mo=!1,Bl=Qu=0,po=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Rt===null?Re.memoizedState:Rt.next;if(r!==null)Rt=r,Ze=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(t){var r=Bl;return Bl+=1,po===null&&(po=[]),t=ix(po,t,r),r=Re,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Xx:lm),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fl(t);if(t.$$typeof===U)return Gt(t)}throw Error(i(438,String(t)))}function Wf(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xu(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),c=0;c<t;c++)a[c]=S;return r.index++,a}function hr(t,r){return typeof r=="function"?r(t):r}function Ju(t){var r=_t();return Jf(r,Ze,t)}function Jf(t,r,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var T=v=null,M=null,$=r,W=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Pe&ne)===ne:(dr&ne)===ne){var Y=$.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===lo&&(W=!0);else if((dr&Y)===Y){$=$.next,Y===lo&&(W=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(T=M=ne,v=m):M=M.next=ne,Re.lanes|=Y,ri|=Y;ne=$.action,ca&&a(m,ne),m=$.hasEagerState?$.eagerState:a(m,ne)}else Y={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(T=M=Y,v=m):M=M.next=Y,Re.lanes|=ne,ri|=ne;$=$.next}while($!==null&&$!==r);if(M===null?v=m:M.next=T,!An(m,t.memoizedState)&&(Ct=!0,W&&(a=co,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=M,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Zf(t){var r=_t(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);An(m,r.memoizedState)||(Ct=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function gx(t,r,a){var c=Re,f=_t(),m=Be;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var v=!An((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Ct=!0),f=f.queue,nm(vx.bind(null,c,f,t),[t]),f.getSnapshot!==r||v||Rt!==null&&Rt.memoizedState.tag&1){if(c.flags|=2048,go(9,{destroy:void 0},xx.bind(null,c,f,a,r),null),nt===null)throw Error(i(349));m||(dr&127)!==0||yx(c,r,a)}return a}function yx(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Xu(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function xx(t,r,a,c){r.value=a,r.getSnapshot=c,bx(r)&&_x(t)}function vx(t,r,a){return a(function(){bx(r)&&_x(t)})}function bx(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function _x(t){var r=ea(t,2);r!==null&&gn(r,t,2)}function em(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),ca){Ln(!0);try{a()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t},r}function wx(t,r,a,c){return t.baseState=a,Jf(t,Ze,typeof c=="function"?c:hr)}function s2(t,r,a,c,f){if(td(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};X.T!==null?a(!0):m.isTransition=!1,c(m),a=r.pending,a===null?(m.next=r.pending=m,Ex(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Ex(t,r){var a=r.action,c=r.payload,f=t.state;if(r.isTransition){var m=X.T,v={};X.T=v;try{var T=a(f,c),M=X.S;M!==null&&M(v,T),Tx(t,r,T)}catch($){tm(t,r,$)}finally{m!==null&&v.types!==null&&(m.types=v.types),X.T=m}}else try{m=a(f,c),Tx(t,r,m)}catch($){tm(t,r,$)}}function Tx(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Nx(t,r,c)},function(c){return tm(t,r,c)}):Nx(t,r,a)}function Nx(t,r,a){r.status="fulfilled",r.value=a,Sx(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ex(t,a)))}function tm(t,r,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,Sx(r),r=r.next;while(r!==c)}t.action=null}function Sx(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ax(t,r){return r}function jx(t,r){if(Be){var a=nt.formState;if(a!==null){e:{var c=Re;if(Be){if(at){t:{for(var f=at,m=$n;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Kn(f.nextSibling),c=f.data==="F!";break e}}Qr(c)}c=!1}c&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ax,lastRenderedState:r},a.queue=c,a=Yx.bind(null,Re,c),c.dispatch=a,c=em(!1),m=om.bind(null,Re,!1,c.queue),c=on(),f={state:r,dispatch:null,action:t,pending:null},c.queue=f,a=s2.bind(null,Re,f,m,a),f.dispatch=a,c.memoizedState=t,[r,a,!1]}function Rx(t){var r=_t();return Cx(r,Ze,t)}function Cx(t,r,a){if(r=Jf(t,r,Ax)[0],t=Ju(hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Fl(r)}catch(v){throw v===uo?Fu:v}else c=r;r=_t();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,go(9,{destroy:void 0},r2.bind(null,f,a),null)),[c,m,t]}function r2(t,r){t.action=r}function Ix(t){var r=_t(),a=Ze;if(a!==null)return Cx(r,a,t);_t(),r=r.memoizedState,a=_t();var c=a.queue.dispatch;return a.memoizedState=t,[r,c,!1]}function go(t,r,a,c){return t={tag:t,create:a,deps:c,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Xu(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t),t}function Dx(){return _t().memoizedState}function Zu(t,r,a,c){var f=on();Re.flags|=t,f.memoizedState=go(1|r,{destroy:void 0},a,c===void 0?null:c)}function ed(t,r,a,c){var f=_t();c=c===void 0?null:c;var m=f.memoizedState.inst;Ze!==null&&c!==null&&$f(c,Ze.memoizedState.deps)?f.memoizedState=go(r,m,a,c):(Re.flags|=t,f.memoizedState=go(1|r,m,a,c))}function Mx(t,r){Zu(8390656,8,t,r)}function nm(t,r){ed(2048,8,t,r)}function i2(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Xu(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ox(t){var r=_t().memoizedState;return i2({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function kx(t,r){return ed(4,2,t,r)}function Px(t,r){return ed(4,4,t,r)}function Lx(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Vx(t,r,a){a=a!=null?a.concat([t]):null,ed(4,4,Lx.bind(null,r,t),a)}function sm(){}function Ux(t,r){var a=_t();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&$f(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function zx(t,r){var a=_t();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&$f(r,c[1]))return c[0];if(c=t(),ca){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[c,r],c}function rm(t,r,a){return a===void 0||(dr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Bv(),Re.lanes|=t,ri|=t,a)}function Bx(t,r,a,c){return An(a,r)?a:fo.current!==null?(t=rm(t,a,c),An(t,r)||(Ct=!0),t):(dr&42)===0||(dr&1073741824)!==0&&(Pe&261930)===0?(Ct=!0,t.memoizedState=a):(t=Bv(),Re.lanes|=t,ri|=t,r)}function Fx(t,r,a,c,f){var m=le.p;le.p=m!==0&&8>m?m:8;var v=X.T,T={};X.T=T,om(t,!1,r,a);try{var M=f(),$=X.S;if($!==null&&$(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=e2(M,c);ql(t,r,W,Mn(t))}else ql(t,r,c,Mn(t))}catch(ne){ql(t,r,{then:function(){},status:"rejected",reason:ne},Mn())}finally{le.p=m,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function a2(){}function im(t,r,a,c){if(t.tag!==5)throw Error(i(476));var f=qx(t).queue;Fx(t,f,r,ye,a===null?a2:function(){return Hx(t),a(c)})}function qx(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Hx(t){var r=qx(t);r.next===null&&(r=t.alternate.memoizedState),ql(t,r.next.queue,{},Mn())}function am(){return Gt(ac)}function Gx(){return _t().memoizedState}function $x(){return _t().memoizedState}function o2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();t=Jr(a);var c=Zr(r,t,a);c!==null&&(gn(c,r,a),Vl(c,r,a)),r={cache:kf()},t.payload=r;return}r=r.return}}function l2(t,r,a){var c=Mn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},td(t)?Kx(r,a):(a=Tf(t,r,a,c),a!==null&&(gn(a,t,c),Qx(a,r,c)))}function Yx(t,r,a){var c=Mn();ql(t,r,a,c)}function ql(t,r,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(td(t))Kx(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,T=m(v,a);if(f.hasEagerState=!0,f.eagerState=T,An(T,v))return ku(t,r,f,0),nt===null&&Ou(),!1}catch{}if(a=Tf(t,r,f,c),a!==null)return gn(a,t,c),Qx(a,r,c),!0}return!1}function om(t,r,a,c){if(c={lane:2,revertLane:Um(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},td(t)){if(r)throw Error(i(479))}else r=Tf(t,a,c,2),r!==null&&gn(r,t,2)}function td(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Kx(t,r){mo=Ku=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Qx(t,r,a){if((a&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,dl(t,a)}}var Hl={readContext:Gt,use:Wu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Hl.useEffectEvent=mt;var Xx={readContext:Gt,use:Wu,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:Mx,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,Lx.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Zu(4194308,4,t,r)},useInsertionEffect:function(t,r){Zu(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var c=t();if(ca){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[c,r],c},useReducer:function(t,r,a){var c=on();if(a!==void 0){var f=a(r);if(ca){Ln(!0);try{a(r)}finally{Ln(!1)}}}else f=r;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=l2.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=em(t);var r=t.queue,a=Yx.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sm,useDeferredValue:function(t,r){var a=on();return rm(a,t,r)},useTransition:function(){var t=em(!1);return t=Fx.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var c=Re,f=on();if(Be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),nt===null)throw Error(i(349));(Pe&127)!==0||yx(c,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Mx(vx.bind(null,c,m,t),[t]),c.flags|=2048,go(9,{destroy:void 0},xx.bind(null,c,m,a,r),null),a},useId:function(){var t=on(),r=nt.identifierPrefix;if(Be){var a=qs,c=Fs;a=(c&~(1<<32-xt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Qu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=t2++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:am,useFormState:jx,useActionState:jx,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=om.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Wf,useCacheRefresh:function(){return on().memoizedState=o2.bind(null,Re)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},lm={readContext:Gt,use:Wu,useCallback:Ux,useContext:Gt,useEffect:nm,useImperativeHandle:Vx,useInsertionEffect:kx,useLayoutEffect:Px,useMemo:zx,useReducer:Ju,useRef:Dx,useState:function(){return Ju(hr)},useDebugValue:sm,useDeferredValue:function(t,r){var a=_t();return Bx(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Ju(hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Fl(t),r]},useSyncExternalStore:gx,useId:Gx,useHostTransitionStatus:am,useFormState:Rx,useActionState:Rx,useOptimistic:function(t,r){var a=_t();return wx(a,Ze,t,r)},useMemoCache:Wf,useCacheRefresh:$x};lm.useEffectEvent=Ox;var Wx={readContext:Gt,use:Wu,useCallback:Ux,useContext:Gt,useEffect:nm,useImperativeHandle:Vx,useInsertionEffect:kx,useLayoutEffect:Px,useMemo:zx,useReducer:Zf,useRef:Dx,useState:function(){return Zf(hr)},useDebugValue:sm,useDeferredValue:function(t,r){var a=_t();return Ze===null?rm(a,t,r):Bx(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Zf(hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Fl(t),r]},useSyncExternalStore:gx,useId:Gx,useHostTransitionStatus:am,useFormState:Ix,useActionState:Ix,useOptimistic:function(t,r){var a=_t();return Ze!==null?wx(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:$x};Wx.useEffectEvent=Ox;function cm(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:w({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var um={enqueueSetState:function(t,r,a){t=t._reactInternals;var c=Mn(),f=Jr(c);f.payload=r,a!=null&&(f.callback=a),r=Zr(t,f,c),r!==null&&(gn(r,t,c),Vl(r,t,c))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=Mn(),f=Jr(c);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Zr(t,f,c),r!==null&&(gn(r,t,c),Vl(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Mn(),c=Jr(a);c.tag=2,r!=null&&(c.callback=r),r=Zr(t,c,a),r!==null&&(gn(r,t,a),Vl(r,t,a))}};function Jx(t,r,a,c,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!Cl(a,c)||!Cl(f,m):!0}function Zx(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&um.enqueueReplaceState(r,r.state,null)}function ua(t,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(t=t.defaultProps){a===r&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function ev(t){Mu(t)}function tv(t){console.error(t)}function nv(t){Mu(t)}function nd(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function sv(t,r,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dm(t,r,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){nd(t,r)},a}function rv(t){return t=Jr(t),t.tag=3,t}function iv(t,r,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){sv(r,a,c)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){sv(r,a,c),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function c2(t,r,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&oo(r,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?md():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===qu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Pm(t,c,f)),!1;case 22:return a.flags|=65536,c===qu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Pm(t,c,f)),!1}throw Error(i(435,a.tag))}return Pm(t,c,f),md(),!1}if(Be)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==Cf&&(t=Error(i(422),{cause:c}),Ml(qn(t,a)))):(c!==Cf&&(r=Error(i(423),{cause:c}),Ml(qn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=qn(c,a),f=dm(t.stateNode,c,f),Bf(t,f),pt!==4&&(pt=2)),!1;var m=Error(i(520),{cause:c});if(m=qn(m,a),Jl===null?Jl=[m]:Jl.push(m),pt!==4&&(pt=2),r===null)return!0;c=qn(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=dm(a.stateNode,c,t),Bf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ii===null||!ii.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=rv(f),iv(f,t,a,c),Bf(a,f),!1}a=a.return}while(a!==null);return!1}var hm=Error(i(461)),Ct=!1;function $t(t,r,a,c){r.child=t===null?cx(r,null,a,c):la(r,t.child,a,c)}function av(t,r,a,c,f){a=a.render;var m=r.ref;if("ref"in c){var v={};for(var T in c)T!=="ref"&&(v[T]=c[T])}else v=c;return ra(r),c=Yf(t,r,a,v,m,f),T=Kf(),t!==null&&!Ct?(Qf(t,r,f),fr(t,r,f)):(Be&&T&&jf(r),r.flags|=1,$t(t,r,c,f),r.child)}function ov(t,r,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!Nf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,lv(t,r,m,c,f)):(t=Lu(a.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!bm(t,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(v,c)&&t.ref===r.ref)return fr(t,r,f)}return r.flags|=1,t=or(m,c),t.ref=r.ref,t.return=r,r.child=t}function lv(t,r,a,c,f){if(t!==null){var m=t.memoizedProps;if(Cl(m,c)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=c=m,bm(t,f))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,fr(t,r,f)}return fm(t,r,a,c,f)}function cv(t,r,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=r.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,r.child=null;return uv(t,r,m,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(r,m!==null?m.cachePool:null),m!==null?hx(r,m):qf(),fx(r);else return c=r.lanes=536870912,uv(t,r,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Bu(r,m.cachePool),hx(r,m),ti(),r.memoizedState=null):(t!==null&&Bu(r,null),qf(),ti());return $t(t,r,f,a),r.child}function Gl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function uv(t,r,a,c,f){var m=Lf();return m=m===null?null:{parent:jt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Bu(r,null),qf(),fx(r),t!==null&&oo(t,r,c,!0),r.childLanes=f,null}function sd(t,r){return r=id({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function dv(t,r,a){return la(r,t.child,null,a),t=sd(r,r.pendingProps),t.flags|=2,Cn(r),r.memoizedState=null,t}function u2(t,r,a){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(c.mode==="hidden")return t=sd(r,c),r.lanes=536870912,Gl(null,t);if(Gf(r),(t=at)?(t=Eb(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Fs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},a=Ky(t),a.return=r,r.child=a,Ht=r,at=null)):t=null,t===null)throw Qr(r);return r.lanes=536870912,null}return sd(r,c)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Gf(r),f)if(r.flags&256)r.flags&=-257,r=dv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ct||oo(t,r,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(c=nt,c!==null&&(v=hl(c,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,ea(t,v),gn(c,t,v),hm;md(),r=dv(t,r,a)}else t=m.treeContext,at=Kn(v.nextSibling),Ht=r,Be=!0,Kr=null,$n=!1,t!==null&&Wy(r,t),r=sd(r,c),r.flags|=4096;return r}return t=or(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function rd(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function fm(t,r,a,c,f){return ra(r),a=Yf(t,r,a,c,void 0,f),c=Kf(),t!==null&&!Ct?(Qf(t,r,f),fr(t,r,f)):(Be&&c&&jf(r),r.flags|=1,$t(t,r,a,f),r.child)}function hv(t,r,a,c,f,m){return ra(r),r.updateQueue=null,a=px(r,c,a,f),mx(t),c=Kf(),t!==null&&!Ct?(Qf(t,r,m),fr(t,r,m)):(Be&&c&&jf(r),r.flags|=1,$t(t,r,a,m),r.child)}function fv(t,r,a,c,f){if(ra(r),r.stateNode===null){var m=so,v=a.contextType;typeof v=="object"&&v!==null&&(m=Gt(v)),m=new a(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=um,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},Uf(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?Gt(v):so,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cm(r,a,v,c),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&um.enqueueReplaceState(m,m.state,null),zl(r,c,m,f),Ul(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){m=r.stateNode;var T=r.memoizedProps,M=ua(a,T);m.props=M;var $=m.context,W=a.contextType;v=so,typeof W=="object"&&W!==null&&(v=Gt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||$!==v)&&Zx(r,m,c,v),Wr=!1;var Y=r.memoizedState;m.state=Y,zl(r,c,m,f),Ul(),$=r.memoizedState,T||Y!==$||Wr?(typeof ne=="function"&&(cm(r,a,ne,c),$=r.memoizedState),(M=Wr||Jx(r,a,M,c,Y,$,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),m.props=c,m.state=$,m.context=v,c=M):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,zf(t,r),v=r.memoizedProps,W=ua(a,v),m.props=W,ne=r.pendingProps,Y=m.context,$=a.contextType,M=so,typeof $=="object"&&$!==null&&(M=Gt($)),T=a.getDerivedStateFromProps,($=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ne||Y!==M)&&Zx(r,m,c,M),Wr=!1,Y=r.memoizedState,m.state=Y,zl(r,c,m,f),Ul();var Q=r.memoizedState;v!==ne||Y!==Q||Wr||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof T=="function"&&(cm(r,a,T,c),Q=r.memoizedState),(W=Wr||Jx(r,a,W,c,Y,Q,M)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,M)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),m.props=c,m.state=Q,m.context=M,c=W):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),c=!1)}return m=c,rd(t,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&c?(r.child=la(r,t.child,null,f),r.child=la(r,null,a,f)):$t(t,r,a,f),r.memoizedState=m.state,t=r.child):t=fr(t,r,f),t}function mv(t,r,a,c){return na(),r.flags|=256,$t(t,r,a,c),r.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(t){return{baseLanes:t,cachePool:sx()}}function gm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Dn),t}function pv(t,r,a){var c=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(f?ei(r):ti(),(t=at)?(t=Eb(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Fs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},a=Ky(t),a.return=r,r.child=a,Ht=r,at=null)):t=null,t===null)throw Qr(r);return Jm(t)?r.lanes=32:r.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(ti(),f=r.mode,T=id({mode:"hidden",children:T},f),c=ta(c,f,a,null),T.return=r,c.return=r,T.sibling=c,r.child=T,c=r.child,c.memoizedState=pm(a),c.childLanes=gm(t,v,a),r.memoizedState=mm,Gl(null,c)):(ei(r),ym(r,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(m)r.flags&256?(ei(r),r.flags&=-257,r=xm(t,r,a)):r.memoizedState!==null?(ti(),r.child=t.child,r.flags|=128,r=null):(ti(),T=c.fallback,f=r.mode,c=id({mode:"visible",children:c.children},f),T=ta(T,f,a,null),T.flags|=2,c.return=r,T.return=r,c.sibling=T,r.child=c,la(r,t.child,null,a),c=r.child,c.memoizedState=pm(a),c.childLanes=gm(t,v,a),r.memoizedState=mm,r=Gl(null,c));else if(ei(r),Jm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var $=v.dgst;v=$,c=Error(i(419)),c.stack="",c.digest=v,Ml({value:c,source:null,stack:null}),r=xm(t,r,a)}else if(Ct||oo(t,r,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=nt,v!==null&&(c=hl(v,a),c!==0&&c!==M.retryLane))throw M.retryLane=c,ea(t,c),gn(v,t,c),hm;Wm(T)||md(),r=xm(t,r,a)}else Wm(T)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,at=Kn(T.nextSibling),Ht=r,Be=!0,Kr=null,$n=!1,t!==null&&Wy(r,t),r=ym(r,c.children),r.flags|=4096);return r}return f?(ti(),T=c.fallback,f=r.mode,M=t.child,$=M.sibling,c=or(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,$!==null?T=or($,T):(T=ta(T,f,a,null),T.flags|=2),T.return=r,c.return=r,c.sibling=T,r.child=c,Gl(null,c),c=r.child,T=t.child.memoizedState,T===null?T=pm(a):(f=T.cachePool,f!==null?(M=jt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=sx(),T={baseLanes:T.baseLanes|a,cachePool:f}),c.memoizedState=T,c.childLanes=gm(t,v,a),r.memoizedState=mm,Gl(t.child,c)):(ei(r),a=t.child,t=a.sibling,a=or(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function ym(t,r){return r=id({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function id(t,r){return t=jn(22,t,null,r),t.lanes=0,t}function xm(t,r,a){return la(r,t.child,null,a),t=ym(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function gv(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Mf(t.return,r,a)}function vm(t,r,a,c,f,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function yv(t,r,a){var c=r.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var v=bt.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,ue(bt,v),$t(t,r,c,a),c=Be?Dl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,a,r);else if(t.tag===19)gv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vm(r,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Yu(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}vm(r,!0,a,null,m,c);break;case"together":vm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function fr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ri|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(oo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=or(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=or(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function bm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function d2(t,r,a){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),Xr(r,jt,t.memoizedState.cache),na();break;case 27:case 5:Ce(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:Xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gf(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?pv(t,r,a):(ei(r),t=fr(t,r,a),t!==null?t.sibling:null);ei(r);break;case 19:var f=(t.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(oo(t,r,a,!1),c=(a&r.childLanes)!==0),f){if(c)return yv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(bt,bt.current),c)break;return null;case 22:return r.lanes=0,cv(t,r,a,r.pendingProps);case 24:Xr(r,jt,t.memoizedState.cache)}return fr(t,r,a)}function xv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!bm(t,a)&&(r.flags&128)===0)return Ct=!1,d2(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(r.flags&1048576)!==0&&Xy(r,Dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(t=aa(r.elementType),r.type=t,typeof t=="function")Nf(t)?(c=ua(t,c),r.tag=1,r=fv(null,r,t,c,a)):(r.tag=0,r=fm(null,r,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===ie){r.tag=11,r=av(null,r,t,c,a);break e}else if(f===C){r.tag=14,r=ov(null,r,t,c,a);break e}}throw r=Ge(t)||t,Error(i(306,r,""))}}return r;case 0:return fm(t,r,r.type,r.pendingProps,a);case 1:return c=r.type,f=ua(c,r.pendingProps),fv(t,r,c,f,a);case 3:e:{if(yt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));c=r.pendingProps;var m=r.memoizedState;f=m.element,zf(t,r),zl(r,c,null,a);var v=r.memoizedState;if(c=v.cache,Xr(r,jt,c),c!==m.cache&&Of(r,[jt],a,!0),Ul(),c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=mv(t,r,c,a);break e}else if(c!==f){f=qn(Error(i(424)),r),Ml(f),r=mv(t,r,c,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Kn(t.firstChild),Ht=r,Be=!0,Kr=null,$n=!0,a=cx(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(na(),c===f){r=fr(t,r,a);break e}$t(t,r,c,a)}r=r.child}return r;case 26:return rd(t,r),t===null?(a=Rb(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,c=_d(Ae.current).createElement(a),c[Nt]=r,c[Vt]=t,Yt(c,a,t),St(c),r.stateNode=c):r.memoizedState=Rb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ce(r),t===null&&Be&&(c=r.stateNode=Sb(r.type,r.pendingProps,Ae.current),Ht=r,$n=!0,f=at,ci(r.type)?(Zm=f,at=Kn(c.firstChild)):at=f),$t(t,r,r.pendingProps.children,a),rd(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((f=c=at)&&(c=B2(c,r.type,r.pendingProps,$n),c!==null?(r.stateNode=c,Ht=r,at=Kn(c.firstChild),$n=!1,f=!0):f=!1),f||Qr(r)),Ce(r),f=r.type,m=r.pendingProps,v=t!==null?t.memoizedProps:null,c=m.children,Km(f,m)?c=null:v!==null&&Km(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Yf(t,r,n2,null,null,a),ac._currentValue=f),rd(t,r),$t(t,r,c,a),r.child;case 6:return t===null&&Be&&((t=a=at)&&(a=F2(a,r.pendingProps,$n),a!==null?(r.stateNode=a,Ht=r,at=null,t=!0):t=!1),t||Qr(r)),null;case 13:return pv(t,r,a);case 4:return yt(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=la(r,null,c,a):$t(t,r,c,a),r.child;case 11:return av(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,Xr(r,r.type,c.value),$t(t,r,c.children,a),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,ra(r),f=Gt(f),c=c(f),r.flags|=1,$t(t,r,c,a),r.child;case 14:return ov(t,r,r.type,r.pendingProps,a);case 15:return lv(t,r,r.type,r.pendingProps,a);case 19:return yv(t,r,a);case 31:return u2(t,r,a);case 22:return cv(t,r,a,r.pendingProps);case 24:return ra(r),c=Gt(jt),t===null?(f=Lf(),f===null&&(f=nt,m=kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:c,cache:f},Uf(r),Xr(r,jt,f)):((t.lanes&a)!==0&&(zf(t,r),zl(r,null,null,a),Ul()),f=t.memoizedState,m=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xr(r,jt,c)):(c=m.cache,Xr(r,jt,c),c!==f.cache&&Of(r,[jt],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function mr(t){t.flags|=4}function _m(t,r,a,c,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Gv())t.flags|=8192;else throw oa=qu,Vf}else t.flags&=-16777217}function vv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ob(r))if(Gv())t.flags|=8192;else throw oa=qu,Vf}function ad(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?hu():536870912,t.lanes|=r,bo|=r)}function $l(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function h2(t,r,a){var c=r.pendingProps;switch(Rf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ur(jt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ao(r)?mr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,If())),ot(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(mr(r),m!==null?(ot(r),vv(r,m)):(ot(r),_m(r,f,null,c,a))):m?m!==t.memoizedState?(mr(r),ot(r),vv(r,m)):(ot(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&mr(r),ot(r),_m(r,f,t,c,a)),null;case 27:if(ts(r),a=Ae.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ot(r),null}t=he.current,ao(r)?Jy(r):(t=Sb(f,c,a),r.stateNode=t,mr(r))}return ot(r),null;case 5:if(ts(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ot(r),null}if(m=he.current,ao(r))Jy(r);else{var v=_d(Ae.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?v.createElement(f,{is:c.is}):v.createElement(f)}}m[Nt]=r,m[Vt]=c;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;e:switch(Yt(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&mr(r)}}return ot(r),_m(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&mr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(t=Ae.current,ao(r)){if(t=r.stateNode,a=r.memoizedProps,c=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Nt]=r,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||pb(t.nodeValue,a)),t||Qr(r,!0)}else t=_d(t).createTextNode(c),t[Nt]=r,r.stateNode=t}return ot(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(c=ao(r),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Nt]=r}else na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ot(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ao(r),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=r}else na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ad(r,r.updateQueue),ot(r),null);case 4:return rt(),t===null&&qm(r.stateNode.containerInfo),ot(r),null;case 10:return ur(r.type),ot(r),null;case 19:if(te(bt),c=r.memoizedState,c===null)return ot(r),null;if(f=(r.flags&128)!==0,m=c.rendering,m===null)if(f)$l(c,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Yu(t),m!==null){for(r.flags|=128,$l(c,!1),t=m.updateQueue,r.updateQueue=t,ad(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Yy(a,t),a=a.sibling;return ue(bt,bt.current&1|2),Be&&lr(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&rn()>dd&&(r.flags|=128,f=!0,$l(c,!1),r.lanes=4194304)}else{if(!f)if(t=Yu(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,ad(r,t),$l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Be)return ot(r),null}else 2*rn()-c.renderingStartTime>dd&&a!==536870912&&(r.flags|=128,f=!0,$l(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(t=c.last,t!==null?t.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=rn(),t.sibling=null,a=bt.current,ue(bt,f?a&1|2:a&1),Be&&lr(r,c.treeForkCount),t):(ot(r),null);case 22:case 23:return Cn(r),Hf(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&ad(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),t!==null&&te(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ur(jt),ot(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function f2(t,r){switch(Rf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ur(jt),rt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ts(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(i(340));na()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Cn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));na()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(bt),null;case 4:return rt(),null;case 10:return ur(r.type),null;case 22:case 23:return Cn(r),Hf(),t!==null&&te(ia),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ur(jt),null;case 25:return null;default:return null}}function bv(t,r){switch(Rf(r),r.tag){case 3:ur(jt),rt();break;case 26:case 27:case 5:ts(r);break;case 4:rt();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:te(bt);break;case 10:ur(r.type);break;case 22:case 23:Cn(r),Hf(),t!==null&&te(ia);break;case 24:ur(jt)}}function Yl(t,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,v=a.inst;c=m(),v.destroy=c}a=a.next}while(a!==f)}}catch(T){We(r,r.return,T)}}function ni(t,r,a){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var v=c.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var M=a,$=T;try{$()}catch(W){We(f,M,W)}}}c=c.next}while(c!==m)}}catch(W){We(r,r.return,W)}}function _v(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{dx(r,a)}catch(c){We(t,t.return,c)}}}function wv(t,r,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){We(t,r,c)}}function Kl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){We(t,r,f)}}function Hs(t,r){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){We(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,r,f)}else a.current=null}function Ev(t){var r=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function wm(t,r,a){try{var c=t.stateNode;k2(c,t.type,a,r),c[Vt]=r}catch(f){We(t,t.return,f)}}function Tv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ci(t.type)||t.tag===4}function Em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tm(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=as));else if(c!==4&&(c===27&&ci(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Tm(t,r,a),t=t.sibling;t!==null;)Tm(t,r,a),t=t.sibling}function od(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(c===27&&ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(od(t,r,a),t=t.sibling;t!==null;)od(t,r,a),t=t.sibling}function Nv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,c,a),r[Nt]=t,r[Vt]=a}catch(m){We(t,t.return,m)}}var pr=!1,It=!1,Nm=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function m2(t,r){if(t=t.containerInfo,$m=jd,t=Vy(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,M=-1,$=0,W=0,ne=t,Y=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(T=v+f),ne!==m||c!==0&&ne.nodeType!==3||(M=v+c),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)Y=ne,ne=Q;for(;;){if(ne===t)break t;if(Y===a&&++$===f&&(T=v),Y===m&&++W===c&&(M=v),(Q=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=Q}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ym={focusedElem:t,selectionRange:a},jd=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var me=ua(a.type,f);t=c.getSnapshotBeforeUpdate(me,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(be){We(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Xm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function Av(t,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:yr(t,a),c&4&&Yl(5,a);break;case 1:if(yr(t,a),c&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var f=ua(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}c&64&&_v(a),c&512&&Kl(a,a.return);break;case 3:if(yr(t,a),c&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{dx(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&c&4&&Nv(a);case 26:case 5:yr(t,a),r===null&&c&4&&Ev(a),c&512&&Kl(a,a.return);break;case 12:yr(t,a);break;case 31:yr(t,a),c&4&&Cv(t,a);break;case 13:yr(t,a),c&4&&Iv(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=E2.bind(null,a),q2(t,a))));break;case 22:if(c=a.memoizedState!==null||pr,!c){r=r!==null&&r.memoizedState!==null||It,f=pr;var m=It;pr=c,(It=r)&&!m?xr(t,a,(a.subtreeFlags&8772)!==0):yr(t,a),pr=f,It=m}break;case 30:break;default:yr(t,a)}}function jv(t){var r=t.alternate;r!==null&&(t.alternate=null,jv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&qa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function gr(t,r,a){for(a=a.child;a!==null;)Rv(t,r,a),a=a.sibling}function Rv(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 26:It||Hs(a,r),gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Hs(a,r);var c=ut,f=hn;ci(a.type)&&(ut=a.stateNode,hn=!1),gr(t,r,a),sc(a.stateNode),ut=c,hn=f;break;case 5:It||Hs(a,r);case 6:if(c=ut,f=hn,ut=null,gr(t,r,a),ut=c,hn=f,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){We(a,r,m)}else try{ut.removeChild(a.stateNode)}catch(m){We(a,r,m)}break;case 18:ut!==null&&(hn?(t=ut,_b(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jo(t)):_b(ut,a.stateNode));break;case 4:c=ut,f=hn,ut=a.stateNode.containerInfo,hn=!0,gr(t,r,a),ut=c,hn=f;break;case 0:case 11:case 14:case 15:ni(2,a,r),It||ni(4,a,r),gr(t,r,a);break;case 1:It||(Hs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&wv(a,r,c)),gr(t,r,a);break;case 21:gr(t,r,a);break;case 22:It=(c=It)||a.memoizedState!==null,gr(t,r,a),It=c;break;default:gr(t,r,a)}}function Cv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{jo(t)}catch(a){We(r,r.return,a)}}}function Iv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jo(t)}catch(a){We(r,r.return,a)}}function p2(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Sv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Sv),r;default:throw Error(i(435,t.tag))}}function ld(t,r){var a=p2(t);r.forEach(function(c){if(!a.has(c)){a.add(c);var f=T2.bind(null,t,c);c.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ci(T.type)){ut=T.stateNode,hn=!1;break e}break;case 5:ut=T.stateNode,hn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ut===null)throw Error(i(160));Rv(m,v,f),ut=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Dv(r,t),r=r.sibling}var hs=null;function Dv(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),mn(t),c&4&&(ni(3,t,t.return),Yl(3,t),ni(5,t,t.return));break;case 1:fn(r,t),mn(t),c&512&&(It||a===null||Hs(a,a.return)),c&64&&pr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=hs;if(fn(r,t),mn(t),c&512&&(It||a===null||Hs(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Cs]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Yt(m,c,a),m[Nt]=t,St(m),c=m;break e;case"link":var v=Db("link","href",f).get(c+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=f.createElement(c),Yt(m,c,a),f.head.appendChild(m);break;case"meta":if(v=Db("meta","content",f).get(c+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=f.createElement(c),Yt(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[Nt]=t,St(m),c=m}t.stateNode=c}else Mb(f,t.type,t.stateNode);else t.stateNode=Ib(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Mb(f,t.type,t.stateNode):Ib(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&wm(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),mn(t),c&512&&(It||a===null||Hs(a,a.return)),a!==null&&c&4&&wm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),mn(t),c&512&&(It||a===null||Hs(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(me){We(t,t.return,me)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,wm(t,f,a!==null?a.memoizedProps:f)),c&1024&&(Nm=!0);break;case 6:if(fn(r,t),mn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(me){We(t,t.return,me)}}break;case 3:if(Td=null,f=hs,hs=wd(r.containerInfo),fn(r,t),hs=f,mn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{jo(r.containerInfo)}catch(me){We(t,t.return,me)}Nm&&(Nm=!1,Mv(t));break;case 4:c=hs,hs=wd(t.stateNode.containerInfo),fn(r,t),mn(t),hs=c;break;case 12:fn(r,t),mn(t);break;case 31:fn(r,t),mn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ld(t,c)));break;case 13:fn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=rn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ld(t,c)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,$=pr,W=It;if(pr=$||f,It=W||M,fn(r,t),It=W,pr=$,mn(t),c&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||pr||It||da(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(m=M.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=M.stateNode;var ne=M.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){We(M,M.return,me)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(me){We(M,M.return,me)}}}else if(r.tag===18){if(a===null){M=r;try{var Q=M.stateNode;f?wb(Q,!0):wb(M.stateNode,!1)}catch(me){We(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,ld(t,a))));break;case 19:fn(r,t),mn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ld(t,c)));break;case 30:break;case 21:break;default:fn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,c=t.return;c!==null;){if(Tv(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Em(t);od(t,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(dn(v,""),a.flags&=-33);var T=Em(t);od(t,T,v);break;case 3:case 4:var M=a.stateNode.containerInfo,$=Em(t);Tm(t,$,M);break;default:throw Error(i(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Mv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Mv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function yr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Av(t,r.alternate,r),r=r.sibling}function da(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ni(4,r,r.return),da(r);break;case 1:Hs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&wv(r,r.return,a),da(r);break;case 27:sc(r.stateNode);case 26:case 5:Hs(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}t=t.sibling}}function xr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=t,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:xr(f,m,a),Yl(4,m);break;case 1:if(xr(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){We(c,c.return,$)}if(c=m,f=c.updateQueue,f!==null){var T=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)ux(M[f],T)}catch($){We(c,c.return,$)}}a&&v&64&&_v(m),Kl(m,m.return);break;case 27:Nv(m);case 26:case 5:xr(f,m,a),a&&c===null&&v&4&&Ev(m),Kl(m,m.return);break;case 12:xr(f,m,a);break;case 31:xr(f,m,a),a&&v&4&&Cv(f,m);break;case 13:xr(f,m,a),a&&v&4&&Iv(f,m);break;case 22:m.memoizedState===null&&xr(f,m,a),Kl(m,m.return);break;case 30:break;default:xr(f,m,a)}r=r.sibling}}function Sm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ol(a))}function Am(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ol(t))}function fs(t,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ov(t,r,a,c),r=r.sibling}function Ov(t,r,a,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r,a,c),f&2048&&Yl(9,r);break;case 1:fs(t,r,a,c);break;case 3:fs(t,r,a,c),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ol(t)));break;case 12:if(f&2048){fs(t,r,a,c),t=r.stateNode;try{var m=r.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){We(r,r.return,M)}}else fs(t,r,a,c);break;case 31:fs(t,r,a,c);break;case 13:fs(t,r,a,c);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?fs(t,r,a,c):Ql(t,r):m._visibility&2?fs(t,r,a,c):(m._visibility|=2,yo(t,r,a,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Sm(v,r);break;case 24:fs(t,r,a,c),f&2048&&Am(r.alternate,r);break;default:fs(t,r,a,c)}}function yo(t,r,a,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,v=r,T=a,M=c,$=v.flags;switch(v.tag){case 0:case 11:case 15:yo(m,v,T,M,f),Yl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?yo(m,v,T,M,f):Ql(m,v):(W._visibility|=2,yo(m,v,T,M,f)),f&&$&2048&&Sm(v.alternate,v);break;case 24:yo(m,v,T,M,f),f&&$&2048&&Am(v.alternate,v);break;default:yo(m,v,T,M,f)}r=r.sibling}}function Ql(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,c=r,f=c.flags;switch(c.tag){case 22:Ql(a,c),f&2048&&Sm(c.alternate,c);break;case 24:Ql(a,c),f&2048&&Am(c.alternate,c);break;default:Ql(a,c)}r=r.sibling}}var Xl=8192;function xo(t,r,a){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)kv(t,r,a),t=t.sibling}function kv(t,r,a){switch(t.tag){case 26:xo(t,r,a),t.flags&Xl&&t.memoizedState!==null&&tN(a,hs,t.memoizedState,t.memoizedProps);break;case 5:xo(t,r,a);break;case 3:case 4:var c=hs;hs=wd(t.stateNode.containerInfo),xo(t,r,a),hs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Xl,Xl=16777216,xo(t,r,a),Xl=c):xo(t,r,a));break;default:xo(t,r,a)}}function Pv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Wl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];zt=c,Vv(c,t)}Pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(t),t=t.sibling}function Lv(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&ni(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,cd(t)):Wl(t);break;default:Wl(t)}}function cd(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];zt=c,Vv(c,t)}Pv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ni(8,r,r.return),cd(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,cd(r));break;default:cd(r)}t=t.sibling}}function Vv(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:ni(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,zt=c;else e:for(a=t;zt!==null;){c=zt;var f=c.sibling,m=c.return;if(jv(c),c===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var g2={getCacheForType:function(t){var r=Gt(jt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Gt(jt).controller.signal}},y2=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Me=null,Pe=0,Xe=0,In=null,si=!1,vo=!1,jm=!1,vr=0,pt=0,ri=0,ha=0,Rm=0,Dn=0,bo=0,Jl=null,pn=null,Cm=!1,ud=0,Uv=0,dd=1/0,hd=null,ii=null,Pt=0,ai=null,_o=null,br=0,Im=0,Dm=null,zv=null,Zl=0,Mm=null;function Mn(){return(Ye&2)!==0&&Pe!==0?Pe&-Pe:X.T!==null?Um():fu()}function Bv(){if(Dn===0)if((Pe&536870912)===0||Be){var t=Ui;Ui<<=1,(Ui&3932160)===0&&(Ui=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function gn(t,r,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(wo(t,0),oi(t,Pe,Dn,!1)),zi(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(ha|=a),pt===4&&oi(t,Pe,Dn,!1)),Gs(t))}function Fv(t,r,a){if((Ye&6)!==0)throw Error(i(327));var c=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ss(t,r),f=c?b2(t,r):km(t,r,!0),m=c;do{if(f===0){vo&&!c&&oi(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!x2(a)){f=km(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;f=Jl;var M=T.current.memoizedState.isDehydrated;if(M&&(wo(T,v).flags|=256),v=km(T,v,!1),v!==2){if(jm&&!M){T.errorRecoveryDisabledLanes|=m,ha|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){wo(t,0),oi(t,r,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:oi(c,r,Dn,!si);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=ud+300-rn(),10<f)){if(oi(c,r,Dn,!si),As(c,0,!0)!==0)break e;br=r,c.timeoutHandle=vb(qv.bind(null,c,a,pn,hd,Cm,r,Dn,ha,bo,si,m,"Throttled",-0,0),f);break e}qv(c,a,pn,hd,Cm,r,Dn,ha,bo,si,m,null,-0,0)}}break}while(!0);Gs(t)}function qv(t,r,a,c,f,m,v,T,M,$,W,ne,Y,Q){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},kv(r,m,ne);var me=(m&62914560)===m?ud-rn():(m&4194048)===m?Uv-rn():0;if(me=nN(ne,me),me!==null){br=m,t.cancelPendingCommit=me(Wv.bind(null,t,r,m,a,c,f,v,T,M,W,ne,null,Y,Q)),oi(t,m,v,!$);return}}Wv(t,r,m,a,c,f,v,T,M)}function x2(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oi(t,r,a,c){r&=~Rm,r&=~ha,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var f=r;0<f;){var m=31-xt(f),v=1<<m;c[m]=-1,f&=~v}a!==0&&Bi(t,a,r)}function fd(){return(Ye&6)===0?(ec(0),!1):!0}function Om(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,cr=sa=null,Xf(t),ho=null,Pl=0,t=Me;for(;t!==null;)bv(t.alternate,t),t=t.return;Me=null}}function wo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,V2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),br=0,Om(),nt=t,Me=a=or(t.current,null),Pe=r,Xe=0,In=null,si=!1,vo=ss(t,r),jm=!1,bo=Dn=Rm=ha=ri=pt=0,pn=Jl=null,Cm=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var f=31-xt(c),m=1<<f;r|=t[f],c&=~m}return vr=r,Ou(),a}function Hv(t,r){Re=null,X.H=Hl,r===uo||r===Fu?(r=ax(),Xe=3):r===Vf?(r=ax(),Xe=4):Xe=r===hm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Me===null&&(pt=1,nd(t,qn(r,t.current)))}function Gv(){var t=Rn.current;return t===null?!0:(Pe&4194048)===Pe?Yn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Yn:!1}function $v(){var t=X.H;return X.H=Hl,t===null?Hl:t}function Yv(){var t=X.A;return X.A=g2,t}function md(){pt=4,si||(Pe&4194048)!==Pe&&Rn.current!==null||(vo=!0),(ri&134217727)===0&&(ha&134217727)===0||nt===null||oi(nt,Pe,Dn,!1)}function km(t,r,a){var c=Ye;Ye|=2;var f=$v(),m=Yv();(nt!==t||Pe!==r)&&(hd=null,wo(t,r)),r=!1;var v=pt;e:do try{if(Xe!==0&&Me!==null){var T=Me,M=In;switch(Xe){case 8:Om(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var $=Xe;if(Xe=0,In=null,Eo(t,T,M,$),a&&vo){v=0;break e}break;default:$=Xe,Xe=0,In=null,Eo(t,T,M,$)}}v2(),v=pt;break}catch(W){Hv(t,W)}while(!0);return r&&t.shellSuspendCounter++,cr=sa=null,Ye=c,X.H=f,X.A=m,Me===null&&(nt=null,Pe=0,Ou()),v}function v2(){for(;Me!==null;)Kv(Me)}function b2(t,r){var a=Ye;Ye|=2;var c=$v(),f=Yv();nt!==t||Pe!==r?(hd=null,dd=rn()+500,wo(t,r)):vo=ss(t,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var m=In;t:switch(Xe){case 1:Xe=0,In=null,Eo(t,r,m,1);break;case 2:case 9:if(rx(m)){Xe=0,In=null,Qv(r);break}r=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Gs(t)},m.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:rx(m)?(Xe=0,In=null,Qv(r)):(Xe=0,In=null,Eo(t,r,m,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(v?Ob(v):T.stateNode.complete){Xe=0,In=null;var M=T.sibling;if(M!==null)Me=M;else{var $=T.return;$!==null?(Me=$,pd($)):Me=null}break t}}Xe=0,In=null,Eo(t,r,m,5);break;case 6:Xe=0,In=null,Eo(t,r,m,6);break;case 8:Om(),pt=6;break e;default:throw Error(i(462))}}_2();break}catch(W){Hv(t,W)}while(!0);return cr=sa=null,X.H=c,X.A=f,Ye=a,Me!==null?0:(nt=null,Pe=0,Ou(),pt)}function _2(){for(;Me!==null&&!df();)Kv(Me)}function Kv(t){var r=xv(t.alternate,t,vr);t.memoizedProps=t.pendingProps,r===null?pd(t):Me=r}function Qv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=hv(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=hv(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Xf(r);default:bv(a,r),r=Me=Yy(r,vr),r=xv(a,r,vr)}t.memoizedProps=t.pendingProps,r===null?pd(t):Me=r}function Eo(t,r,a,c){cr=sa=null,Xf(r),ho=null,Pl=0;var f=r.return;try{if(c2(t,f,r,a,Pe)){pt=1,nd(t,qn(a,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;pt=1,nd(t,qn(a,t.current)),Me=null;return}r.flags&32768?(Be||c===1?t=!0:vo||(Pe&536870912)!==0?t=!1:(si=t=!0,(c===2||c===9||c===3||c===6)&&(c=Rn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xv(r,t)):pd(r)}function pd(t){var r=t;do{if((r.flags&32768)!==0){Xv(r,si);return}t=r.return;var a=h2(r.alternate,r,vr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);pt===0&&(pt=5)}function Xv(t,r){do{var a=f2(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);pt=6,Me=null}function Wv(t,r,a,c,f,m,v,T,M){t.cancelPendingCommit=null;do gd();while(Pt!==0);if((Ye&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Ef,mf(t,a,m,v,T,M),t===nt&&(Me=nt=null,Pe=0),_o=r,ai=t,br=a,Im=m,Dm=f,zv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,N2(Lr,function(){return nb(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,f=le.p,le.p=2,v=Ye,Ye|=4;try{m2(t,r,a)}finally{Ye=v,le.p=f,X.T=c}}Pt=1,Jv(),Zv(),eb()}}function Jv(){if(Pt===1){Pt=0;var t=ai,r=_o,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var c=le.p;le.p=2;var f=Ye;Ye|=4;try{Dv(r,t);var m=Ym,v=Vy(t.containerInfo),T=m.focusedElem,M=m.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ly(T.ownerDocument.documentElement,T)){if(M!==null&&xf(T)){var $=M.start,W=M.end;if(W===void 0&&(W=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(W,T.value.length);else{var ne=T.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),me=T.textContent.length,be=Math.min(M.start,me),tt=M.end===void 0?be:Math.min(M.end,me);!Q.extend&&be>tt&&(v=tt,tt=be,be=v);var B=Py(T,be),V=Py(T,tt);if(B&&V&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var G=ne.createRange();G.setStart(B.node,B.offset),Q.removeAllRanges(),be>tt?(Q.addRange(G),Q.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),Q.addRange(G))}}}}for(ne=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var Z=ne[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jd=!!$m,Ym=$m=null}finally{Ye=f,le.p=c,X.T=a}}t.current=r,Pt=2}}function Zv(){if(Pt===2){Pt=0;var t=ai,r=_o,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var c=le.p;le.p=2;var f=Ye;Ye|=4;try{Av(t,r.alternate,r)}finally{Ye=f,le.p=c,X.T=a}}Pt=3}}function eb(){if(Pt===4||Pt===3){Pt=0,au();var t=ai,r=_o,a=br,c=zv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,_o=ai=null,tb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ii=null),sr(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ns,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,f=le.p,le.p=2,X.T=null;try{for(var m=t.onRecoverableError,v=0;v<c.length;v++){var T=c[v];m(T.value,{componentStack:T.stack})}}finally{X.T=r,le.p=f}}(br&3)!==0&&gd(),Gs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Mm?Zl++:(Zl=0,Mm=t):Zl=0,ec(0)}}function tb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ol(r)))}function gd(){return Jv(),Zv(),eb(),nb()}function nb(){if(Pt!==5)return!1;var t=ai,r=Im;Im=0;var a=sr(br),c=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=Dm,Dm=null;var m=ai,v=br;if(Pt=0,_o=ai=null,br=0,(Ye&6)!==0)throw Error(i(331));var T=Ye;if(Ye|=4,Lv(m.current),Ov(m,m.current,v,a),Ye=T,ec(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ns,m)}catch{}return!0}finally{le.p=f,X.T=c,tb(t,r)}}function sb(t,r,a){r=qn(a,r),r=dm(t.stateNode,r,2),t=Zr(t,r,2),t!==null&&(zi(t,2),Gs(t))}function We(t,r,a){if(t.tag===3)sb(t,t,a);else for(;r!==null;){if(r.tag===3){sb(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ii===null||!ii.has(c))){t=qn(a,t),a=rv(2),c=Zr(r,a,2),c!==null&&(iv(a,c,r,t),zi(c,2),Gs(c));break}}r=r.return}}function Pm(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new y2;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(jm=!0,f.add(a),t=w2.bind(null,t,r,a),r.then(t,t))}function w2(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Pe&a)===a&&(pt===4||pt===3&&(Pe&62914560)===Pe&&300>rn()-ud?(Ye&2)===0&&wo(t,0):Rm|=a,bo===Pe&&(bo=0)),Gs(t)}function rb(t,r){r===0&&(r=hu()),t=ea(t,r),t!==null&&(zi(t,r),Gs(t))}function E2(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),rb(t,a)}function T2(t,r){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),rb(t,a)}function N2(t,r){return kt(t,r)}var yd=null,To=null,Lm=!1,xd=!1,Vm=!1,li=0;function Gs(t){t!==To&&t.next===null&&(To===null?yd=To=t:To=To.next=t),xd=!0,Lm||(Lm=!0,A2())}function ec(t,r){if(!Vm&&xd){Vm=!0;do for(var a=!1,c=yd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var v=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-xt(42|t)+1)-1,m&=f&~(v&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,lb(c,m))}else m=Pe,m=As(c,c===nt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ss(c,m)||(a=!0,lb(c,m));c=c.next}while(a);Vm=!1}}function S2(){ib()}function ib(){xd=Lm=!1;var t=0;li!==0&&L2()&&(t=li);for(var r=rn(),a=null,c=yd;c!==null;){var f=c.next,m=ab(c,r);m===0?(c.next=null,a===null?yd=f:a.next=f,f===null&&(To=a)):(a=c,(t!==0||(m&3)!==0)&&(xd=!0)),c=f}Pt!==0&&Pt!==5||ec(t),li!==0&&(li=0)}function ab(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-xt(m),T=1<<v,M=f[v];M===-1?((T&a)===0||(T&c)!==0)&&(f[v]=ff(T,r)):M<=r&&(t.expiredLanes|=T),m&=~T}if(r=nt,a=Pe,a=As(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Pr(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ss(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(c!==null&&Pr(c),sr(a)){case 2:case 8:a=ul;break;case 32:a=Lr;break;case 268435456:a=ou;break;default:a=Lr}return c=ob.bind(null,t),a=kt(a,c),t.callbackPriority=r,t.callbackNode=a,r}return c!==null&&c!==null&&Pr(c),t.callbackPriority=2,t.callbackNode=null,2}function ob(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gd()&&t.callbackNode!==a)return null;var c=Pe;return c=As(t,t===nt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Fv(t,c,r),ab(t,rn()),t.callbackNode!=null&&t.callbackNode===a?ob.bind(null,t):null)}function lb(t,r){if(gd())return null;Fv(t,r,!0)}function A2(){U2(function(){(Ye&6)!==0?kt(cl,S2):ib()})}function Um(){if(li===0){var t=lo;t===0&&(t=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),li=t}return li}function cb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ya(""+t)}function ub(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function j2(t,r,a,c,f){if(r==="submit"&&a&&a.stateNode===f){var m=cb((f[Vt]||null).action),v=c.submitter;v&&(r=(r=v[Vt]||null)?cb(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var T=new Vs("action","action",null,c,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(li!==0){var M=v?ub(f,v):new FormData(f);im(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(T.preventDefault(),M=v?ub(f,v):new FormData(f),im(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var zm=0;zm<wf.length;zm++){var Bm=wf[zm],R2=Bm.toLowerCase(),C2=Bm[0].toUpperCase()+Bm.slice(1);ds(R2,"on"+C2)}ds(By,"onAnimationEnd"),ds(Fy,"onAnimationIteration"),ds(qy,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds($T,"onTransitionRun"),ds(YT,"onTransitionStart"),ds(KT,"onTransitionCancel"),ds(Hy,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function db(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var T=c[v],M=T.instance,$=T.currentTarget;if(T=T.listener,M!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=$;try{m(f)}catch(W){Mu(W)}f.currentTarget=null,m=M}else for(v=0;v<c.length;v++){if(T=c[v],M=T.instance,$=T.currentTarget,T=T.listener,M!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=$;try{m(f)}catch(W){Mu(W)}f.currentTarget=null,m=M}}}}function Oe(t,r){var a=r[Fa];a===void 0&&(a=r[Fa]=new Set);var c=t+"__bubble";a.has(c)||(hb(r,t,2,!1),a.add(c))}function Fm(t,r,a){var c=0;r&&(c|=4),hb(a,t,c,r)}var vd="_reactListening"+Math.random().toString(36).slice(2);function qm(t){if(!t[vd]){t[vd]=!0,fl.forEach(function(a){a!=="selectionchange"&&(I2.has(a)||Fm(a,!1,t),Fm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[vd]||(r[vd]=!0,Fm("selectionchange",!1,r))}}function hb(t,r,a,c){switch(Bb(r)){case 2:var f=iN;break;case 8:f=aN;break;default:f=rp}a=f.bind(null,r,a,t),f=void 0,!$i||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Hm(t,r,a,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=c.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Is(T),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){c=m=v;continue e}T=T.parentNode}}c=c.return}qr(function(){var $=m,W=Un(a),ne=[];e:{var Y=Gy.get(t);if(Y!==void 0){var Q=Vs,me=t;switch(t){case"keypress":if(Ki(a)===0)break e;case"keydown":case"keyup":Q=Cu;break;case"focusin":me="focus",Q=Xi;break;case"focusout":me="blur",Q=Xi;break;case"beforeblur":case"afterblur":Q=Xi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=x;break;case By:case Fy:case qy:Q=Eu;break;case Hy:Q=A;break;case"scroll":case"scrollend":Q=Nl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ar;break;case"toggle":case"beforetoggle":Q=je}var be=(r&4)!==0,tt=!be&&(t==="scroll"||t==="scrollend"),B=be?Y!==null?Y+"Capture":null:Y;be=[];for(var V=$,G;V!==null;){var Z=V;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||B===null||(Z=os(V,B),Z!=null&&be.push(nc(V,Z,G))),tt)break;V=V.return}0<be.length&&(Y=new Q(Y,me,null,a,W),ne.push({event:Y,listeners:be}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&a!==wl&&(me=a.relatedTarget||a.fromElement)&&(Is(me)||me[Rs]))break e;if((Q||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=$,me=me?Is(me):null,me!==null&&(tt=u(me),be=me.tag,me!==tt||be!==5&&be!==27&&be!==6)&&(me=null)):(Q=null,me=$),Q!==me)){if(be=Sl,Z="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=ar,Z="onPointerLeave",B="onPointerEnter",V="pointer"),tt=Q==null?Y:Nn(Q),G=me==null?Y:Nn(me),Y=new be(Z,V+"leave",Q,a,W),Y.target=tt,Y.relatedTarget=G,Z=null,Is(W)===$&&(be=new be(B,V+"enter",me,a,W),be.target=G,be.relatedTarget=tt,Z=be),tt=Z,Q&&me)t:{for(be=D2,B=Q,V=me,G=0,Z=B;Z;Z=be(Z))G++;Z=0;for(var xe=V;xe;xe=be(xe))Z++;for(;0<G-Z;)B=be(B),G--;for(;0<Z-G;)V=be(V),Z--;for(;G--;){if(B===V||V!==null&&B===V.alternate){be=B;break t}B=be(B),V=be(V)}be=null}else be=null;Q!==null&&fb(ne,Y,Q,be,!1),me!==null&&tt!==null&&fb(ne,tt,me,be,!0)}}e:{if(Y=$?Nn($):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var qe=Cy;else if(jy(Y))if(Iy)qe=qT;else{qe=BT;var pe=zT}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&$a($.elementType)&&(qe=Cy):qe=FT;if(qe&&(qe=qe(t,$))){Ry(ne,qe,a,W);break e}pe&&pe(t,Y,$),t==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&vl(Y,"number",Y.value)}switch(pe=$?Nn($):window,t){case"focusin":(jy(pe)||pe.contentEditable==="true")&&(eo=pe,vf=$,Il=null);break;case"focusout":Il=vf=eo=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Uy(ne,a,W);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":Uy(ne,a,W)}var Ie;if($e)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Za?Wi(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Bs&&a.locale!=="ko"&&(Za||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Za&&(Ie=Tl()):(Ls=W,El="value"in Ls?Ls.value:Ls.textContent,Za=!0)),pe=bd($,Le),0<pe.length&&(Le=new zs(Le,t,null,a,W),ne.push({event:Le,listeners:pe}),Ie?Le.data=Ie:(Ie=Ja(a),Ie!==null&&(Le.data=Ie)))),(Ie=Bn?PT(t,a):LT(t,a))&&(Le=bd($,"onBeforeInput"),0<Le.length&&(pe=new zs("onBeforeInput","beforeinput",null,a,W),ne.push({event:pe,listeners:Le}),pe.data=Ie)),j2(ne,t,$,a,W)}db(ne,r)})}function nc(t,r,a){return{instance:t,listener:r,currentTarget:a}}function bd(t,r){for(var a=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=os(t,a),f!=null&&c.unshift(nc(t,f,m)),f=os(t,r),f!=null&&c.push(nc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function D2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fb(t,r,a,c,f){for(var m=r._reactName,v=[];a!==null&&a!==c;){var T=a,M=T.alternate,$=T.stateNode;if(T=T.tag,M!==null&&M===c)break;T!==5&&T!==26&&T!==27||$===null||(M=$,f?($=os(a,m),$!=null&&v.unshift(nc(a,$,M))):f||($=os(a,m),$!=null&&v.push(nc(a,$,M)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var M2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function mb(t){return(typeof t=="string"?t:""+t).replace(M2,`
`).replace(O2,"")}function pb(t,r){return r=mb(r),mb(t)===r}function et(t,r,a,c,f,m){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||dn(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&dn(t,""+c);break;case"className":Sn(t,"class",c);break;case"tabIndex":Sn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,c);break;case"style":_l(t,c,m);break;case"data":if(r!=="object"){Sn(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ya(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ya(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=as);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Ya(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ha(t,"popover",c);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ha(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,Ha(t,a,c))}}function Gm(t,r,a,c,f,m){switch(a){case"style":_l(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?dn(t,c):(typeof c=="number"||typeof c=="bigint")&&dn(t,""+c);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ha(t,a,c)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:et(t,r,m,v,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),c&&et(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=m=v=f=null,M=null,$=null;for(c in a)if(a.hasOwnProperty(c)){var W=a[c];if(W!=null)switch(c){case"name":f=W;break;case"type":v=W;break;case"checked":M=W;break;case"defaultChecked":$=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:et(t,r,c,W,a,null)}}yu(t,m,T,M,$,v,f,!1);return;case"select":Oe("invalid",t),c=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":c=T;default:et(t,r,f,T,a,null)}r=m,a=v,t.multiple=!!c,r!=null?Ur(t,!!c,r,!1):a!=null&&Ur(t,!!c,a,!0);return;case"textarea":Oe("invalid",t),m=f=c=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":c=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:et(t,r,v,T,a,null)}zr(t,c,f,m);return;case"option":for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null)&&(M==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":et(t,r,M,c,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(c=0;c<tc.length;c++)Oe(tc[c],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(c=a[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:et(t,r,$,c,a,null)}return;default:if($a(r)){for(W in a)a.hasOwnProperty(W)&&(c=a[W],c!==void 0&&Gm(t,r,W,c,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(c=a[T],c!=null&&et(t,r,T,c,a,null))}function k2(t,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,T=null,M=null,$=null,W=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=ne;default:c.hasOwnProperty(Q)||et(t,r,Q,null,c,ne)}}for(var Y in c){var Q=c[Y];if(ne=a[Y],c.hasOwnProperty(Y)&&(Q!=null||ne!=null))switch(Y){case"type":m=Q;break;case"name":f=Q;break;case"checked":$=Q;break;case"defaultChecked":W=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==ne&&et(t,r,Y,Q,c,ne)}}Ga(t,v,T,M,$,W,m,f);return;case"select":Q=v=T=Y=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":Q=M;default:c.hasOwnProperty(m)||et(t,r,m,null,c,M)}for(f in c)if(m=c[f],M=a[f],c.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":Y=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==M&&et(t,r,f,m,c,M)}r=T,a=v,c=Q,Y!=null?Ur(t,!!a,Y,!1):!!c!=!!a&&(r!=null?Ur(t,!!a,r,!0):Ur(t,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,r,T,null,c,f)}for(v in c)if(f=c[v],m=a[v],c.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&et(t,r,v,f,c,m)}xu(t,Y,Q);return;case"option":for(var me in a)Y=a[me],a.hasOwnProperty(me)&&Y!=null&&!c.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:et(t,r,me,null,c,Y));for(M in c)Y=c[M],Q=a[M],c.hasOwnProperty(M)&&Y!==Q&&(Y!=null||Q!=null)&&(M==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":et(t,r,M,Y,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Y=a[be],a.hasOwnProperty(be)&&Y!=null&&!c.hasOwnProperty(be)&&et(t,r,be,null,c,Y);for($ in c)if(Y=c[$],Q=a[$],c.hasOwnProperty($)&&Y!==Q&&(Y!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:et(t,r,$,Y,c,Q)}return;default:if($a(r)){for(var tt in a)Y=a[tt],a.hasOwnProperty(tt)&&Y!==void 0&&!c.hasOwnProperty(tt)&&Gm(t,r,tt,void 0,c,Y);for(W in c)Y=c[W],Q=a[W],!c.hasOwnProperty(W)||Y===Q||Y===void 0&&Q===void 0||Gm(t,r,W,Y,c,Q);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!c.hasOwnProperty(B)&&et(t,r,B,null,c,Y);for(ne in c)Y=c[ne],Q=a[ne],!c.hasOwnProperty(ne)||Y===Q||Y==null&&Q==null||et(t,r,ne,Y,c,Q)}function gb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,v=f.initiatorType,T=f.duration;if(m&&T&&gb(v)){for(v=0,T=f.responseEnd,c+=1;c<a.length;c++){var M=a[c],$=M.startTime;if($>T)break;var W=M.transferSize,ne=M.initiatorType;W&&gb(ne)&&(M=M.responseEnd,v+=W*(M<T?1:(T-$)/(M-$)))}if(--c,r+=8*(m+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $m=null,Ym=null;function _d(t){return t.nodeType===9?t:t.ownerDocument}function yb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Km(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qm=null;function L2(){var t=window.event;return t&&t.type==="popstate"?t===Qm?!1:(Qm=t,!0):(Qm=null,!1)}var vb=typeof setTimeout=="function"?setTimeout:void 0,V2=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(t){return bb.resolve(null).then(t).catch(z2)}:vb;function z2(t){setTimeout(function(){throw t})}function ci(t){return t==="head"}function _b(t,r){var a=r,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),jo(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")sc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,sc(a);for(var m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[Cs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&sc(t.ownerDocument.body);a=f}while(a);jo(r)}function wb(t,r){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function Xm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xm(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function B2(t,r,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function F2(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Eb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function Wm(t){return t.data==="$?"||t.data==="$~"}function Jm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function q2(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Zm=null;function Tb(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Kn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Nb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Sb(t,r,a){switch(r=_d(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function sc(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);qa(t)}var Qn=new Map,Ab=new Set;function wd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=le.d;le.d={f:H2,r:G2,D:$2,C:Y2,L:K2,m:Q2,X:W2,S:X2,M:J2};function H2(){var t=_r.f(),r=fd();return t||r}function G2(t){var r=Vn(t);r!==null&&r.tag===5&&r.type==="form"?Hx(r):_r.r(t)}var No=typeof document>"u"?null:document;function jb(t,r,a){var c=No;if(c&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ab.has(f)||(Ab.add(f),t={rel:t,crossOrigin:a,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),Yt(r,"link",t),St(r),c.head.appendChild(r)))}}function $2(t){_r.D(t),jb("dns-prefetch",t,null)}function Y2(t,r){_r.C(t,r),jb("preconnect",t,r)}function K2(t,r,a){_r.L(t,r,a);var c=No;if(c&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(r){case"style":m=So(t);break;case"script":m=Ao(t)}Qn.has(m)||(t=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Qn.set(m,t),c.querySelector(f)!==null||r==="style"&&c.querySelector(rc(m))||r==="script"&&c.querySelector(ic(m))||(r=c.createElement("link"),Yt(r,"link",t),St(r),c.head.appendChild(r)))}}function Q2(t,r){_r.m(t,r);var a=No;if(a&&t){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ao(t)}if(!Qn.has(m)&&(t=w({rel:"modulepreload",href:t},r),Qn.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ic(m)))return}c=a.createElement("link"),Yt(c,"link",t),St(c),a.head.appendChild(c)}}}function X2(t,r,a){_r.S(t,r,a);var c=No;if(c&&t){var f=Ds(c).hoistableStyles,m=So(t);r=r||"default";var v=f.get(m);if(!v){var T={loading:0,preload:null};if(v=c.querySelector(rc(m)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Qn.get(m))&&ep(t,a);var M=v=c.createElement("link");St(M),Yt(M,"link",t),M._p=new Promise(function($,W){M.onload=$,M.onerror=W}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ed(v,r,c)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(m,v)}}}function W2(t,r){_r.X(t,r);var a=No;if(a&&t){var c=Ds(a).hoistableScripts,f=Ao(t),m=c.get(f);m||(m=a.querySelector(ic(f)),m||(t=w({src:t,async:!0},r),(r=Qn.get(f))&&tp(t,r),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function J2(t,r){_r.M(t,r);var a=No;if(a&&t){var c=Ds(a).hoistableScripts,f=Ao(t),m=c.get(f);m||(m=a.querySelector(ic(f)),m||(t=w({src:t,async:!0,type:"module"},r),(r=Qn.get(f))&&tp(t,r),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Rb(t,r,a,c){var f=(f=Ae.current)?wd(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=Ds(f).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var m=Ds(f).hoistableStyles,v=m.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=f.querySelector(rc(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),m||Z2(f,t,a,v.state))),r&&c===null)throw Error(i(528,""));return v}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ao(a),a=Ds(f).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function So(t){return'href="'+un(t)+'"'}function rc(t){return'link[rel="stylesheet"]['+t+"]"}function Cb(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Z2(t,r,a,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Yt(r,"link",a),St(r),t.head.appendChild(r))}function Ao(t){return'[src="'+un(t)+'"]'}function ic(t){return"script[async]"+t}function Ib(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(c)return r.instance=c,St(c),c;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),St(c),Yt(c,"style",f),Ed(c,a.precedence,t),r.instance=c;case"stylesheet":f=So(a.href);var m=t.querySelector(rc(f));if(m)return r.state.loading|=4,r.instance=m,St(m),m;c=Cb(a),(f=Qn.get(f))&&ep(c,f),m=(t.ownerDocument||t).createElement("link"),St(m);var v=m;return v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),Yt(m,"link",c),r.state.loading|=4,Ed(m,a.precedence,t),r.instance=m;case"script":return m=Ao(a.src),(f=t.querySelector(ic(m)))?(r.instance=f,St(f),f):(c=a,(f=Qn.get(m))&&(c=w({},a),tp(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Yt(f,"link",c),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Ed(c,a.precedence,t));return r.instance}function Ed(t,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,v=0;v<c.length;v++){var T=c[v];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function ep(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Td=null;function Db(t,r,a){if(Td===null){var c=new Map,f=Td=new Map;f.set(a,c)}else f=Td,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Cs]||m[Nt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=t+v;var T=c.get(v);T?T.push(m):c.set(v,[m])}}return c}function Mb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function eN(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ob(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tN(t,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(c.href),m=r.querySelector(rc(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Nd.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,St(m);return}m=r.ownerDocument||r,c=Cb(c),(f=Qn.get(f))&&ep(c,f),m=m.createElement("link"),St(m);var v=m;v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),Yt(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nd.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var np=0;function nN(t,r){return t.stylesheets&&t.count===0&&Ad(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&np===0&&(np=62500*P2());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>np?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sd=null;function Ad(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sd=new Map,r.forEach(sN,t),Sd=null,Nd.call(t))}function sN(t,r){if(!(r.state.loading&4)){var a=Sd.get(t);if(a)var c=a.get(null);else{a=new Map,Sd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),c=v)}c&&a.set(null,c)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||c,m===c&&a.set(null,f),a.set(v,f),this.count++,c=Nd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var ac={$$typeof:U,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function rN(t,r,a,c,f,m,v,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function kb(t,r,a,c,f,m,v,T,M,$,W,ne){return t=new rN(t,r,a,v,M,$,W,ne,T),r=1,m===!0&&(r|=24),m=jn(3,null,null,r),t.current=m,m.stateNode=t,r=kf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:r},Uf(m),t}function Pb(t){return t?(t=so,t):so}function Lb(t,r,a,c,f,m){f=Pb(f),c.context===null?c.context=f:c.pendingContext=f,c=Jr(r),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Zr(t,c,r),a!==null&&(gn(a,t,r),Vl(a,t,r))}function Vb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function sp(t,r){Vb(t,r),(t=t.alternate)&&Vb(t,r)}function Ub(t){if(t.tag===13||t.tag===31){var r=ea(t,67108864);r!==null&&gn(r,t,67108864),sp(t,67108864)}}function zb(t){if(t.tag===13||t.tag===31){var r=Mn();r=Fi(r);var a=ea(t,r);a!==null&&gn(a,t,r),sp(t,r)}}var jd=!0;function iN(t,r,a,c){var f=X.T;X.T=null;var m=le.p;try{le.p=2,rp(t,r,a,c)}finally{le.p=m,X.T=f}}function aN(t,r,a,c){var f=X.T;X.T=null;var m=le.p;try{le.p=8,rp(t,r,a,c)}finally{le.p=m,X.T=f}}function rp(t,r,a,c){if(jd){var f=ip(c);if(f===null)Hm(t,r,c,Rd,a),Fb(t,c);else if(lN(f,t,r,a,c))c.stopPropagation();else if(Fb(t,c),r&4&&-1<oN.indexOf(t)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Ss(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var M=1<<31-xt(v);T.entanglements[1]|=M,v&=~M}Gs(m),(Ye&6)===0&&(dd=rn()+500,ec(0))}}break;case 31:case 13:T=ea(m,2),T!==null&&gn(T,m,2),fd(),sp(m,2)}if(m=ip(c),m===null&&Hm(t,r,c,Rd,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else Hm(t,r,c,null,a)}}function ip(t){return t=Un(t),ap(t)}var Rd=null;function ap(t){if(Rd=null,t=Is(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rd=t,null}function Bb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case cl:return 2;case ul:return 8;case Lr:case hf:return 32;case ou:return 268435456;default:return 32}default:return 32}}var op=!1,ui=null,di=null,hi=null,oc=new Map,lc=new Map,fi=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(t,r){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":oc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(r.pointerId)}}function cc(t,r,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&Ub(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function lN(t,r,a,c,f){switch(r){case"focusin":return ui=cc(ui,t,r,a,c,f),!0;case"dragenter":return di=cc(di,t,r,a,c,f),!0;case"mouseover":return hi=cc(hi,t,r,a,c,f),!0;case"pointerover":var m=f.pointerId;return oc.set(m,cc(oc.get(m)||null,t,r,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,lc.set(m,cc(lc.get(m)||null,t,r,a,c,f)),!0}return!1}function qb(t){var r=Is(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,rs(t.priority,function(){zb(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,rs(t.priority,function(){zb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ip(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);wl=c,a.target.dispatchEvent(c),wl=null}else return r=Vn(a),r!==null&&Ub(r),t.blockedOn=a,!1;r.shift()}return!0}function Hb(t,r,a){Cd(t)&&a.delete(r)}function cN(){op=!1,ui!==null&&Cd(ui)&&(ui=null),di!==null&&Cd(di)&&(di=null),hi!==null&&Cd(hi)&&(hi=null),oc.forEach(Hb),lc.forEach(Hb)}function Id(t,r){t.blockedOn===r&&(t.blockedOn=null,op||(op=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cN)))}var Dd=null;function Gb(t){Dd!==t&&(Dd=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dd===t&&(Dd=null);for(var r=0;r<t.length;r+=3){var a=t[r],c=t[r+1],f=t[r+2];if(typeof c!="function"){if(ap(c||a)===null)continue;break}var m=Vn(a);m!==null&&(t.splice(r,3),r-=3,im(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function jo(t){function r(M){return Id(M,t)}ui!==null&&Id(ui,t),di!==null&&Id(di,t),hi!==null&&Id(hi,t),oc.forEach(r),lc.forEach(r);for(var a=0;a<fi.length;a++){var c=fi[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<fi.length&&(a=fi[0],a.blockedOn===null);)qb(a),a.blockedOn===null&&fi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],v=f[Vt]||null;if(typeof m=="function")v||Gb(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Vt]||null)T=v.formAction;else if(ap(f)!==null)continue}else T=v.action;typeof T=="function"?a[c+1]=T:(a.splice(c,3),c-=3),Gb(a)}}}function $b(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function lp(t){this._internalRoot=t}Md.prototype.render=lp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,c=Mn();Lb(a,c,t,r,null,null)},Md.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Lb(t.current,2,null,t,null,null),fd(),r[Rs]=null}};function Md(t){this._internalRoot=t}Md.prototype.unstable_scheduleHydration=function(t){if(t){var r=fu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<fi.length&&r!==0&&r<fi[a].priority;a++);fi.splice(a,0,t),a===0&&qb(t)}};var Yb=e.version;if(Yb!=="19.2.4")throw Error(i(527,Yb,"19.2.4"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var uN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ns=Od.inject(uN),Ft=Od}catch{}}return dc.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,c="",f=ev,m=tv,v=nv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=kb(t,1,!1,null,null,a,c,null,f,m,v,$b),t[Rs]=r.current,qm(t),new lp(r)},dc.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var c=!1,f="",m=ev,v=tv,T=nv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=kb(t,1,!0,r,a??null,c,f,M,m,v,T,$b),r.context=Pb(null),a=r.current,c=Mn(),c=Fi(c),f=Jr(c),f.callback=null,Zr(a,f,c),a=c,r.current.lanes=a,zi(r,a),Gs(r),t[Rs]=r.current,qm(t),new Md(r)},dc.version="19.2.4",dc}var s0;function _N(){if(s0)return dp.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dp.exports=bN(),dp.exports}var wN=_N();const EN=c1(wN);var r0="popstate";function TN(s={}){function e(i,o){let{pathname:u,search:d,hash:p}=i.location;return Pp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Cc(o)}return SN(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vs(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NN(){return Math.random().toString(36).substring(2,10)}function i0(s,e){return{usr:s.state,key:s.key,idx:e}}function Pp(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||i||NN()}}function Cc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Wo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function SN(s,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",g=null,y=b();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function b(){return(d.state||{idx:null}).idx}function w(){p="POP";let O=b(),H=O==null?null:O-y;y=O,g&&g({action:p,location:L.location,delta:H})}function j(O,H){p="PUSH";let J=Pp(L.location,O,H);y=b()+1;let U=i0(J,y),ie=L.createHref(J);try{d.pushState(U,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}u&&g&&g({action:p,location:L.location,delta:1})}function k(O,H){p="REPLACE";let J=Pp(L.location,O,H);y=b();let U=i0(J,y),ie=L.createHref(J);d.replaceState(U,"",ie),u&&g&&g({action:p,location:L.location,delta:0})}function F(O){return AN(O)}let L={get action(){return p},get location(){return s(o,d)},listen(O){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(r0,w),g=O,()=>{o.removeEventListener(r0,w),g=null}},createHref(O){return e(o,O)},createURL:F,encodeLocation(O){let H=F(O);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:j,replace:k,go(O){return d.go(O)}};return L}function AN(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Cc(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function u1(s,e,n="/"){return jN(s,e,n,!1)}function jN(s,e,n,i){let o=typeof e=="string"?Wo(e):e,u=jr(o.pathname||"/",n);if(u==null)return null;let d=d1(s);RN(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=zN(u);p=VN(d[g],y,i)}return p}function d1(s,e=[],n=[],i="",o=!1){let u=(d,p,g=o,y)=>{let b={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;dt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let w=Nr([i,b.relativePath]),j=n.concat(b);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),d1(d.children,e,j,w,g)),!(d.path==null&&!d.index)&&e.push({path:w,score:PN(w,d.index),routesMeta:j})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of h1(d.path))u(d,p,!0,g)}),e}function h1(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=h1(i.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function RN(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var CN=/^:[\w-]+$/,IN=3,DN=2,MN=1,ON=10,kN=-2,a0=s=>s==="*";function PN(s,e){let n=s.split("/"),i=n.length;return n.some(a0)&&(i+=kN),e&&(i+=DN),n.filter(o=>!a0(o)).reduce((o,u)=>o+(CN.test(u)?IN:u===""?MN:ON),i)}function LN(s,e){return s.length===e.length&&s.slice(0,-1).every((i,o)=>i===e[o])?s[s.length-1]-e[e.length-1]:0}function VN(s,e,n=!1){let{routesMeta:i}=s,o={},u="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,b=u==="/"?e:e.slice(u.length)||"/",w=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),j=g.route;if(!w&&y&&n&&!i[i.length-1].route.index&&(w=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Nr([u,w.pathname]),pathnameBase:HN(Nr([u,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(u=Nr([u,w.pathnameBase]))}return d}function rh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=UN(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:w},j)=>{if(b==="*"){let F=p[j]||"";d=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=p[j];return w&&!k?y[b]=void 0:y[b]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function UN(s,e=!1,n=!0){vs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function zN(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function jr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}var BN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function FN(s,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?Wo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=o0(n.substring(1),"/"):u=o0(n,e)):u=e,{pathname:u,search:GN(i),hash:$N(o)}}function o0(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pp(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qN(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pg(s){let e=qN(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gg(s,e,n,i=!1){let o;typeof s=="string"?o=Wo(s):(o={...s},dt(!o.pathname||!o.pathname.includes("?"),pp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),pp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),pp("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let w=e.length-1;if(!i&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),w-=1;o.pathname=j.join("/")}p=w>=0?e[w]:"/"}let g=FN(o,p),y=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Nr=s=>s.join("/").replace(/\/\/+/g,"/"),HN=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$N=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,YN=class{constructor(s,e,n,i=!1){this.status=s,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function KN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function QN(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function m1(s,e){let n=s;if(typeof n!="string"||!BN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(f1)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=jr(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{vs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var XN=["GET",...p1];new Set(XN);var Jo=I.createContext(null);Jo.displayName="DataRouter";var Mh=I.createContext(null);Mh.displayName="DataRouterState";var WN=I.createContext(!1),g1=I.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var JN=I.createContext(new Map);JN.displayName="Fetchers";var ZN=I.createContext(null);ZN.displayName="Await";var Pn=I.createContext(null);Pn.displayName="Navigation";var Hc=I.createContext(null);Hc.displayName="Location";var er=I.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var yg=I.createContext(null);yg.displayName="RouteError";var y1="REACT_ROUTER_ERROR",eS="REDIRECT",tS="ROUTE_ERROR_RESPONSE";function nS(s){if(s.startsWith(`${y1}:${eS}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sS(s){if(s.startsWith(`${y1}:${tS}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new YN(e.status,e.statusText,e.data)}catch{}}function rS(s,{relative:e}={}){dt(Zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Pn),{hash:o,pathname:u,search:d}=Gc(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Nr([n,u])),i.createHref({pathname:p,search:d,hash:o})}function Zo(){return I.useContext(Hc)!=null}function ws(){return dt(Zo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Hc).location}var x1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v1(s){I.useContext(Pn).static||I.useLayoutEffect(s)}function Es(){let{isDataRoute:s}=I.useContext(er);return s?yS():iS()}function iS(){dt(Zo(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Jo),{basename:e,navigator:n}=I.useContext(Pn),{matches:i}=I.useContext(er),{pathname:o}=ws(),u=JSON.stringify(pg(i)),d=I.useRef(!1);return v1(()=>{d.current=!0}),I.useCallback((g,y={})=>{if(vs(d.current,x1),!d.current)return;if(typeof g=="number"){n.go(g);return}let b=gg(g,JSON.parse(u),o,y.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Nr([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,s])}I.createContext(null);function Gc(s,{relative:e}={}){let{matches:n}=I.useContext(er),{pathname:i}=ws(),o=JSON.stringify(pg(n));return I.useMemo(()=>gg(s,JSON.parse(o),i,e==="path"),[s,o,i,e])}function aS(s,e){return b1(s,e)}function b1(s,e,n,i,o){dt(Zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(Pn),{matches:d}=I.useContext(er),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",w=p&&p.route;{let J=w&&w.path||"";w1(y,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let j=ws(),k;if(e){let J=typeof e=="string"?Wo(e):e;dt(b==="/"||J.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${J.pathname}" was given in the \`location\` prop.`),k=J}else k=j;let F=k.pathname||"/",L=F;if(b!=="/"){let J=b.replace(/^\//,"").split("/");L="/"+F.replace(/^\//,"").split("/").slice(J.length).join("/")}let O=u1(s,{pathname:L});vs(w||O!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),vs(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=dS(O&&O.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Nr([b,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?b:Nr([b,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),d,n,i,o);return e&&H?I.createElement(Hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},H):H}function oS(){let s=gS(),e=KN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,d)}var lS=I.createElement(oS,null),_1=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=sS(s.digest);n&&(s=n)}let e=s!==void 0?I.createElement(er.Provider,{value:this.props.routeContext},I.createElement(yg.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?I.createElement(cS,{error:s},e):e}};_1.contextType=WN;var gp=new WeakMap;function cS({children:s,error:e}){let{basename:n}=I.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=nS(e.digest);if(i){let o=gp.get(e);if(o)throw o;let u=m1(i.location,n);if(f1&&!gp.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw gp.set(e,d),d}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function uS({routeContext:s,match:e,children:n}){let i=I.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(er.Provider,{value:s},n)}function dS(s,e=[],n=null,i=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let b=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);dt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let w=u[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=b),w.route.id){let{loaderData:j,errors:k}=n,F=w.route.loader&&!j.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||F){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(b,w)=>{i(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:QN(n.matches),errorInfo:w})}:void 0;return u.reduceRight((b,w,j)=>{let k,F=!1,L=null,O=null;n&&(k=d&&w.route.id?d[w.route.id]:void 0,L=w.route.errorElement||lS,p&&(g<0&&j===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,O=null):g===j&&(F=!0,O=w.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,j+1)),J=()=>{let U;return k?U=L:F?U=O:w.route.Component?U=I.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=b,I.createElement(uS,{match:w,routeContext:{outlet:b,matches:H,isDataRoute:n!=null},children:U})};return n&&(w.route.ErrorBoundary||w.route.errorElement||j===0)?I.createElement(_1,{location:n.location,revalidation:n.revalidation,component:L,error:k,children:J(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:y}):J()},null)}function xg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(s){let e=I.useContext(Jo);return dt(e,xg(s)),e}function fS(s){let e=I.useContext(Mh);return dt(e,xg(s)),e}function mS(s){let e=I.useContext(er);return dt(e,xg(s)),e}function vg(s){let e=mS(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function pS(){return vg("useRouteId")}function gS(){let s=I.useContext(yg),e=fS("useRouteError"),n=vg("useRouteError");return s!==void 0?s:e.errors?.[n]}function yS(){let{router:s}=hS("useNavigate"),e=vg("useNavigate"),n=I.useRef(!1);return v1(()=>{n.current=!0}),I.useCallback(async(o,u={})=>{vs(n.current,x1),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var l0={};function w1(s,e,n){!e&&!l0[s]&&(l0[s]=!0,vs(!1,n))}I.memo(xS);function xS({routes:s,future:e,state:n,onError:i}){return b1(s,void 0,n,i,e)}function ih({to:s,replace:e,state:n,relative:i}){dt(Zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Pn);vs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=I.useContext(er),{pathname:d}=ws(),p=Es(),g=gg(s,pg(u),d,i==="path"),y=JSON.stringify(g);return I.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function yn(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vS({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){dt(!Zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=Wo(n));let{pathname:y="/",search:b="",hash:w="",state:j=null,key:k="default"}=n,F=I.useMemo(()=>{let L=jr(y,p);return L==null?null:{location:{pathname:L,search:b,hash:w,state:j,key:k},navigationType:i}},[p,y,b,w,j,k,i]);return vs(F!=null,`<Router basename="${p}"> is not able to match the URL "${y}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:I.createElement(Pn.Provider,{value:g},I.createElement(Hc.Provider,{children:e,value:F}))}function bS({children:s,location:e}){return aS(Lp(s),e)}function Lp(s,e=[]){let n=[];return I.Children.forEach(s,(i,o)=>{if(!I.isValidElement(i))return;let u=[...e,o];if(i.type===I.Fragment){n.push.apply(n,Lp(i.props.children,u));return}dt(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Lp(i.props.children,u)),n.push(d)}),n}var Hd="get",Gd="application/x-www-form-urlencoded";function Oh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function _S(s){return Oh(s)&&s.tagName.toLowerCase()==="button"}function wS(s){return Oh(s)&&s.tagName.toLowerCase()==="form"}function ES(s){return Oh(s)&&s.tagName.toLowerCase()==="input"}function TS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function NS(s,e){return s.button===0&&(!e||e==="_self")&&!TS(s)}var kd=null;function SS(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var AS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(s){return s!=null&&!AS.has(s)?(vs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gd}"`),null):s}function jS(s,e){let n,i,o,u,d;if(wS(s)){let p=s.getAttribute("action");i=p?jr(p,e):null,n=s.getAttribute("method")||Hd,o=yp(s.getAttribute("enctype"))||Gd,u=new FormData(s)}else if(_S(s)||ES(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(i=g?jr(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Hd,o=yp(s.getAttribute("formenctype"))||yp(p.getAttribute("enctype"))||Gd,u=new FormData(p,s),!SS()){let{name:y,type:b,value:w}=s;if(b==="image"){let j=y?`${y}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else y&&u.append(y,w)}}else{if(Oh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hd,i=null,o=Gd,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function RS(s,e,n,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&jr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function CS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function DS(s,e,n){let i=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await CS(u,n);return d.links?d.links():[]}return[]}));return PS(i.flat(1).filter(IS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(s,e,n,i,o,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function MS(s,e,{includeHydrateFallback:n}={}){return OS(s.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function OS(s){return[...new Set(s)]}function kS(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function PS(s,e){let n=new Set;return new Set(e),s.reduce((i,o)=>{let u=JSON.stringify(kS(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function E1(){let s=I.useContext(Jo);return bg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function LS(){let s=I.useContext(Mh);return bg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var _g=I.createContext(void 0);_g.displayName="FrameworkContext";function T1(){let s=I.useContext(_g);return bg(s,"You must render this element inside a <HydratedRouter> element"),s}function VS(s,e){let n=I.useContext(_g),[i,o]=I.useState(!1),[u,d]=I.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:w}=e,j=I.useRef(null);I.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let L=H=>{H.forEach(J=>{d(J.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return j.current&&O.observe(j.current),()=>{O.disconnect()}}},[s]),I.useEffect(()=>{if(i){let L=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(L)}}},[i]);let k=()=>{o(!0)},F=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,j,{}]:[u,j,{onFocus:hc(p,k),onBlur:hc(g,F),onMouseEnter:hc(y,k),onMouseLeave:hc(b,F),onTouchStart:hc(w,k)}]:[!1,j,{}]}function hc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function US({page:s,...e}){let{router:n}=E1(),i=I.useMemo(()=>u1(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?I.createElement(BS,{page:s,matches:i,...e}):null}function zS(s){let{manifest:e,routeModules:n}=T1(),[i,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return DS(s,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,e,n]),i}function BS({page:s,matches:e,...n}){let i=ws(),{future:o,manifest:u,routeModules:d}=T1(),{basename:p}=E1(),{loaderData:g,matches:y}=LS(),b=I.useMemo(()=>c0(s,e,y,u,i,"data"),[s,e,y,u,i]),w=I.useMemo(()=>c0(s,e,y,u,i,"assets"),[s,e,y,u,i]),j=I.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let L=new Set,O=!1;if(e.forEach(J=>{let U=u.routes[J.route.id];!U||!U.hasLoader||(!b.some(ie=>ie.route.id===J.route.id)&&J.route.id in g&&d[J.route.id]?.shouldRevalidate||U.hasClientLoader?O=!0:L.add(J.route.id))}),L.size===0)return[];let H=RS(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return O&&L.size>0&&H.searchParams.set("_routes",e.filter(J=>L.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,u,b,e,s,d]),k=I.useMemo(()=>MS(w,u),[w,u]),F=zS(w);return I.createElement(I.Fragment,null,j.map(L=>I.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),k.map(L=>I.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),F.map(({key:L,link:O})=>I.createElement("link",{key:L,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function FS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.13.0")}catch{}function HS({basename:s,children:e,unstable_useTransitions:n,window:i}){let o=I.useRef();o.current==null&&(o.current=TN({window:i,v5Compat:!0}));let u=o.current,[d,p]=I.useState({action:u.action,location:u.location}),g=I.useCallback(y=>{n===!1?p(y):I.startTransition(()=>p(y))},[n]);return I.useLayoutEffect(()=>u.listen(g),[u,g]),I.createElement(vS,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j,...k},F){let{basename:L,unstable_useTransitions:O}=I.useContext(Pn),H=typeof y=="string"&&N1.test(y),J=m1(y,L);y=J.to;let U=rS(y,{relative:o}),[ie,ae,ce]=VS(i,k),C=KS(y,{replace:d,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:j,unstable_useTransitions:O});function E(S){e&&e(S),S.defaultPrevented||C(S)}let N=I.createElement("a",{...k,...ce,href:J.absoluteURL||U,onClick:J.isExternal||u?e:E,ref:FS(F,ae),target:g,"data-discover":!H&&n==="render"?"true":void 0});return ie&&!H?I.createElement(I.Fragment,null,N,I.createElement(US,{page:U})):N});Si.displayName="Link";var GS=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:p,children:g,...y},b){let w=Gc(d,{relative:y.relative}),j=ws(),k=I.useContext(Mh),{navigator:F,basename:L}=I.useContext(Pn),O=k!=null&&ZS(w)&&p===!0,H=F.encodeLocation?F.encodeLocation(w).pathname:w.pathname,J=j.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(J=J.toLowerCase(),U=U?U.toLowerCase():null,H=H.toLowerCase()),U&&L&&(U=jr(U,L)||U);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ae=J===H||!o&&J.startsWith(H)&&J.charAt(ie)==="/",ce=U!=null&&(U===H||!o&&U.startsWith(H)&&U.charAt(H.length)==="/"),C={isActive:ae,isPending:ce,isTransitioning:O},E=ae?e:void 0,N;typeof i=="function"?N=i(C):N=[i,ae?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let S=typeof u=="function"?u(C):u;return I.createElement(Si,{...y,"aria-current":E,className:N,ref:b,style:S,to:d,viewTransition:p},typeof g=="function"?g(C):g)});GS.displayName="NavLink";var $S=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:d=Hd,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j,...k},F)=>{let{unstable_useTransitions:L}=I.useContext(Pn),O=WS(),H=JS(p,{relative:y}),J=d.toLowerCase()==="get"?"get":"post",U=typeof p=="string"&&N1.test(p),ie=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let ce=ae.nativeEvent.submitter,C=ce?.getAttribute("formmethod")||d,E=()=>O(ce||ae.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:j});L&&n!==!1?I.startTransition(()=>E()):E()};return I.createElement("form",{ref:F,method:J,action:H,onSubmit:i?g:ie,...k,"data-discover":!U&&s==="render"?"true":void 0})});$S.displayName="Form";function YS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(s){let e=I.useContext(Jo);return dt(e,YS(s)),e}function KS(s,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Es(),b=ws(),w=Gc(s,{relative:u});return I.useCallback(j=>{if(NS(j,e)){j.preventDefault();let k=n!==void 0?n:Cc(b)===Cc(w),F=()=>y(s,{replace:k,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?I.startTransition(()=>F()):F()}},[b,y,w,n,i,e,s,o,u,d,p,g])}var QS=0,XS=()=>`__${String(++QS)}__`;function WS(){let{router:s}=S1("useSubmit"),{basename:e}=I.useContext(Pn),n=pS(),i=s.fetch,o=s.navigate;return I.useCallback(async(u,d={})=>{let{action:p,method:g,encType:y,formData:b,body:w}=jS(u,e);if(d.navigate===!1){let j=d.fetcherKey||XS();await i(j,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,e,n])}function JS(s,{relative:e}={}){let{basename:n}=I.useContext(Pn),i=I.useContext(er);dt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Gc(s||".",{relative:e})},d=ws();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Nr([n,u.pathname])),Cc(u)}function ZS(s,{relative:e}={}){let n=I.useContext(g1);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S1("useViewTransitionState"),o=Gc(s,{relative:e});if(!n.isTransitioning)return!1;let u=jr(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=jr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rh(o.pathname,d)!=null||rh(o.pathname,u)!=null}const eA=()=>{};var u0={};const A1=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tA=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],d=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,b=u>>2,w=(u&3)<<4|p>>4;let j=(p&15)<<2|y>>6,k=y&63;g||(k=64,d||(j=64)),i.push(n[b],n[w],n[j],n[k])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(A1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||w==null)throw new nA;const j=u<<2|p>>4;if(i.push(j),y!==64){const k=p<<4&240|y>>2;if(i.push(k),w!==64){const F=y<<6&192|w;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sA=function(s){const e=A1(s);return j1.encodeByteArray(e,!0)},ah=function(s){return sA(s).replace(/\./g,"")},R1=function(s){try{return j1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>rA().__FIREBASE_DEFAULTS__,aA=()=>{if(typeof process>"u"||typeof u0>"u")return;const s=u0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&R1(s[1]);return e&&JSON.parse(e)},kh=()=>{try{return eA()||iA()||aA()||oA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},C1=s=>kh()?.emulatorHosts?.[s],I1=s=>{const e=C1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},D1=()=>kh()?.config,M1=s=>kh()?.[`_${s}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Da(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(s){return(await fetch(s,{credentials:"include"})).ok}function O1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(d)),""].join(".")}const wc={};function cA(){const s={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?s.emulator.push(e):s.prod.push(e);return s}function uA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let d0=!1;function Eg(s,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||wc[s]===e||wc[s]||d0)return;wc[s]=e;function n(j){return`__firebase__banner__${j}`}const i="__firebase__banner",u=cA().prod.length>0;function d(){const j=document.getElementById(i);j&&j.remove()}function p(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function g(j,k){j.setAttribute("width","24"),j.setAttribute("id",k),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function y(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{d0=!0,d()},j}function b(j,k){j.setAttribute("id",k),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function w(){const j=uA(i),k=n("text"),F=document.getElementById(k)||document.createElement("span"),L=n("learnmore"),O=document.getElementById(L)||document.createElement("a"),H=n("preprendIcon"),J=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const U=j.element;p(U),b(O,L);const ie=y();g(J,H),U.append(J,F,O,ie),document.body.appendChild(U)}u?(F.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function hA(){const s=kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function L1(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function yA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const xA="FirebaseError";class es extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?vA(u,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new es(o,p,i)}}function vA(s,e){return s.replace(bA,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const bA=/\{\$([^}]+)}/g;function _A(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ai(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=s[o],d=e[o];if(h0(u)&&h0(d)){if(!Ai(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function h0(s){return s!==null&&typeof s=="object"}function $c(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function gc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function wA(s,e){const n=new EA(s,e);return n.subscribe.bind(n)}class EA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");TA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=xp),o.error===void 0&&(o.error=xp),o.complete===void 0&&(o.complete=xp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function xp(){}const NA=1e3,SA=2,AA=14400*1e3,jA=.5;function f0(s,e=NA,n=SA){const i=e*Math.pow(n,s),o=Math.round(jA*i*(Math.random()-.5)*2);return Math.min(AA,i+o)}function ht(s){return s&&s._delegate?s._delegate:s}class Jn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class RA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===pa?void 0:s}function IA(s){return s.instantiationMode==="EAGER"}class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const MA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},OA=Ve.INFO,kA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},PA=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=kA[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ph{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const LA=(s,e)=>e.some(n=>s instanceof n);let m0,p0;function VA(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,Vp=new WeakMap,U1=new WeakMap,vp=new WeakMap,Tg=new WeakMap;function zA(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(wi(s.result)),o()},d=()=>{i(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&V1.set(n,s)}).catch(()=>{}),Tg.set(e,s),e}function BA(s){if(Vp.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Vp.set(s,e)}let Up={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||U1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function FA(s){Up=s(Up)}function qA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(bp(this),e,...n);return U1.set(i,e.sort?e.sort():[e]),wi(i)}:UA().includes(s)?function(...e){return s.apply(bp(this),e),wi(V1.get(this))}:function(...e){return wi(s.apply(bp(this),e))}}function HA(s){return typeof s=="function"?qA(s):(s instanceof IDBTransaction&&BA(s),LA(s,VA())?new Proxy(s,Up):s)}function wi(s){if(s instanceof IDBRequest)return zA(s);if(vp.has(s))return vp.get(s);const e=HA(s);return e!==s&&(vp.set(s,e),Tg.set(e,s)),e}const bp=s=>Tg.get(s);function z1(s,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=wi(d);return i&&d.addEventListener("upgradeneeded",g=>{i(wi(d.result),g.oldVersion,g.newVersion,wi(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],_p=new Map;function g0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=$A.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return _p.set(e,u),u}FA(s=>({...s,get:(e,n,i)=>g0(e,n)||s.get(e,n,i),has:(e,n)=>!!g0(e,n)||s.has(e,n)}));class YA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function KA(s){return s.getComponent()?.type==="VERSION"}const zp="@firebase/app",y0="0.14.7";const Rr=new Ph("@firebase/app"),QA="@firebase/app-compat",XA="@firebase/analytics-compat",WA="@firebase/analytics",JA="@firebase/app-check-compat",ZA="@firebase/app-check",ej="@firebase/auth",tj="@firebase/auth-compat",nj="@firebase/database",sj="@firebase/data-connect",rj="@firebase/database-compat",ij="@firebase/functions",aj="@firebase/functions-compat",oj="@firebase/installations",lj="@firebase/installations-compat",cj="@firebase/messaging",uj="@firebase/messaging-compat",dj="@firebase/performance",hj="@firebase/performance-compat",fj="@firebase/remote-config",mj="@firebase/remote-config-compat",pj="@firebase/storage",gj="@firebase/storage-compat",yj="@firebase/firestore",xj="@firebase/ai",vj="@firebase/firestore-compat",bj="firebase",_j="12.8.0";const Bp="[DEFAULT]",wj={[zp]:"fire-core",[QA]:"fire-core-compat",[WA]:"fire-analytics",[XA]:"fire-analytics-compat",[ZA]:"fire-app-check",[JA]:"fire-app-check-compat",[ej]:"fire-auth",[tj]:"fire-auth-compat",[nj]:"fire-rtdb",[sj]:"fire-data-connect",[rj]:"fire-rtdb-compat",[ij]:"fire-fn",[aj]:"fire-fn-compat",[oj]:"fire-iid",[lj]:"fire-iid-compat",[cj]:"fire-fcm",[uj]:"fire-fcm-compat",[dj]:"fire-perf",[hj]:"fire-perf-compat",[fj]:"fire-rc",[mj]:"fire-rc-compat",[pj]:"fire-gcs",[gj]:"fire-gcs-compat",[yj]:"fire-fst",[vj]:"fire-fst-compat",[xj]:"fire-vertex","fire-js":"fire-js",[bj]:"fire-js-all"};const oh=new Map,Ej=new Map,Fp=new Map;function x0(s,e){try{s.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function bs(s){const e=s.name;if(Fp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,s);for(const n of oh.values())x0(n,s);for(const n of Ej.values())x0(n,s);return!0}function Oi(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function _n(s){return s==null?!1:s.settings!==void 0}const Tj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Ma("app","Firebase",Tj);class Nj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const Oa=_j;function B1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:Bp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(n||(n=D1()),!n)throw Ei.create("no-options");const u=oh.get(o);if(u){if(Ai(n,u.options)&&Ai(i,u.config))return u;throw Ei.create("duplicate-app",{appName:o})}const d=new DA(o);for(const g of Fp.values())d.addComponent(g);const p=new Nj(n,i,d);return oh.set(o,p),p}function Lh(s=Bp){const e=oh.get(s);if(!e&&s===Bp&&D1())return B1();if(!e)throw Ei.create("no-app",{appName:s});return e}function Tn(s,e,n){let i=wj[s]??s;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(d.join(" "));return}bs(new Jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Sj="firebase-heartbeat-database",Aj=1,Ic="firebase-heartbeat-store";let wp=null;function F1(){return wp||(wp=z1(Sj,Aj,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),wp}async function jj(s){try{const n=(await F1()).transaction(Ic),i=await n.objectStore(Ic).get(q1(s));return await n.done,i}catch(e){if(e instanceof es)Rr.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(n.message)}}}async function v0(s,e){try{const i=(await F1()).transaction(Ic,"readwrite");await i.objectStore(Ic).put(e,q1(s)),await i.done}catch(n){if(n instanceof es)Rr.warn(n.message);else{const i=Ei.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(i.message)}}}function q1(s){return`${s.name}!${s.options.appId}`}const Rj=1024,Cj=30;class Ij{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=b0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Cj){const o=Oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b0(),{heartbeatsToSend:n,unsentEntries:i}=Dj(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function b0(){return new Date().toISOString().substring(0,10)}function Dj(s,e=Rj){const n=[];let i=s.slice();for(const o of s){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),_0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Mj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?L1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _0(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function Oj(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}function kj(s){bs(new Jn("platform-logger",e=>new YA(e),"PRIVATE")),bs(new Jn("heartbeat",e=>new Ij(e),"PRIVATE")),Tn(zp,y0,s),Tn(zp,y0,"esm2020"),Tn("fire-js","")}kj("");var Pj="firebase",Lj="12.8.0";Tn(Pj,Lj,"app");const H1="@firebase/installations",Ng="0.6.19";const G1=1e4,$1=`w:${Ng}`,Y1="FIS_v2",Vj="https://firebaseinstallations.googleapis.com/v1",Uj=3600*1e3,zj="installations",Bj="Installations";const Fj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Ma(zj,Bj,Fj);function K1(s){return s instanceof es&&s.code.includes("request-failed")}function Q1({projectId:s}){return`${Vj}/projects/${s}/installations`}function X1(s){return{token:s.token,requestStatus:2,expiresIn:Hj(s.expiresIn),creationTime:Date.now()}}async function W1(s,e){const i=(await e.json()).error;return wa.create("request-failed",{requestName:s,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function J1({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function qj(s,{refreshToken:e}){const n=J1(s);return n.append("Authorization",Gj(e)),n}async function Z1(s){const e=await s();return e.status>=500&&e.status<600?s():e}function Hj(s){return Number(s.replace("s","000"))}function Gj(s){return`${Y1} ${s}`}async function $j({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const i=Q1(s),o=J1(s),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:n,authVersion:Y1,appId:s.appId,sdkVersion:$1},p={method:"POST",headers:o,body:JSON.stringify(d)},g=await Z1(()=>fetch(i,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:X1(y.authToken)}}else throw await W1("Create Installation",g)}function ew(s){return new Promise(e=>{setTimeout(e,s)})}function Yj(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const Kj=/^[cdef][\w-]{21}$/,qp="";function Qj(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=Xj(s);return Kj.test(n)?n:qp}catch{return qp}}function Xj(s){return Yj(s).substr(0,22)}function Vh(s){return`${s.appName}!${s.appId}`}const tw=new Map;function nw(s,e){const n=Vh(s);sw(n,e),Wj(n,e)}function sw(s,e){const n=tw.get(s);if(n)for(const i of n)i(e)}function Wj(s,e){const n=Jj();n&&n.postMessage({key:s,fid:e}),Zj()}let ya=null;function Jj(){return!ya&&"BroadcastChannel"in self&&(ya=new BroadcastChannel("[Firebase] FID Change"),ya.onmessage=s=>{sw(s.data.key,s.data.fid)}),ya}function Zj(){tw.size===0&&ya&&(ya.close(),ya=null)}const eR="firebase-installations-database",tR=1,Ea="firebase-installations-store";let Ep=null;function Sg(){return Ep||(Ep=z1(eR,tR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Ea)}})),Ep}async function lh(s,e){const n=Vh(s),o=(await Sg()).transaction(Ea,"readwrite"),u=o.objectStore(Ea),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&nw(s,e.fid),e}async function rw(s){const e=Vh(s),i=(await Sg()).transaction(Ea,"readwrite");await i.objectStore(Ea).delete(e),await i.done}async function Uh(s,e){const n=Vh(s),o=(await Sg()).transaction(Ea,"readwrite"),u=o.objectStore(Ea),d=await u.get(n),p=e(d);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!d||d.fid!==p.fid)&&nw(s,p.fid),p}async function Ag(s){let e;const n=await Uh(s.appConfig,i=>{const o=nR(i),u=sR(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===qp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nR(s){const e=s||{fid:Qj(),registrationStatus:0};return iw(e)}function sR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(wa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=rR(s,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iR(s)}:{installationEntry:e}}async function rR(s,e){try{const n=await $j(s,e);return lh(s.appConfig,n)}catch(n){throw K1(n)&&n.customData.serverCode===409?await rw(s.appConfig):await lh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iR(s){let e=await w0(s.appConfig);for(;e.registrationStatus===1;)await ew(100),e=await w0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ag(s);return i||n}return e}function w0(s){return Uh(s,e=>{if(!e)throw wa.create("installation-not-found");return iw(e)})}function iw(s){return aR(s)?{fid:s.fid,registrationStatus:0}:s}function aR(s){return s.registrationStatus===1&&s.registrationTime+G1<Date.now()}async function oR({appConfig:s,heartbeatServiceProvider:e},n){const i=lR(s,n),o=qj(s,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:$1,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},g=await Z1(()=>fetch(i,p));if(g.ok){const y=await g.json();return X1(y)}else throw await W1("Generate Auth Token",g)}function lR(s,{fid:e}){return`${Q1(s)}/${e}/authTokens:generate`}async function jg(s,e=!1){let n;const i=await Uh(s.appConfig,u=>{if(!aw(u))throw wa.create("not-registered");const d=u.authToken;if(!e&&dR(d))return u;if(d.requestStatus===1)return n=cR(s,e),u;{if(!navigator.onLine)throw wa.create("app-offline");const p=fR(u);return n=uR(s,p),p}});return n?await n:i.authToken}async function cR(s,e){let n=await E0(s.appConfig);for(;n.authToken.requestStatus===1;)await ew(100),n=await E0(s.appConfig);const i=n.authToken;return i.requestStatus===0?jg(s,e):i}function E0(s){return Uh(s,e=>{if(!aw(e))throw wa.create("not-registered");const n=e.authToken;return mR(n)?{...e,authToken:{requestStatus:0}}:e})}async function uR(s,e){try{const n=await oR(s,e),i={...e,authToken:n};return await lh(s.appConfig,i),n}catch(n){if(K1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rw(s.appConfig);else{const i={...e,authToken:{requestStatus:0}};await lh(s.appConfig,i)}throw n}}function aw(s){return s!==void 0&&s.registrationStatus===2}function dR(s){return s.requestStatus===2&&!hR(s)}function hR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+Uj}function fR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function mR(s){return s.requestStatus===1&&s.requestTime+G1<Date.now()}async function pR(s){const e=s,{installationEntry:n,registrationPromise:i}=await Ag(e);return i?i.catch(console.error):jg(e).catch(console.error),n.fid}async function gR(s,e=!1){const n=s;return await yR(n),(await jg(n,e)).token}async function yR(s){const{registrationPromise:e}=await Ag(s);e&&await e}function xR(s){if(!s||!s.options)throw Tp("App Configuration");if(!s.name)throw Tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw Tp(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Tp(s){return wa.create("missing-app-config-values",{valueName:s})}const ow="installations",vR="installations-internal",bR=s=>{const e=s.getProvider("app").getImmediate(),n=xR(e),i=Oi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},_R=s=>{const e=s.getProvider("app").getImmediate(),n=Oi(e,ow).getImmediate();return{getId:()=>pR(n),getToken:o=>gR(n,o)}};function wR(){bs(new Jn(ow,bR,"PUBLIC")),bs(new Jn(vR,_R,"PRIVATE"))}wR();Tn(H1,Ng);Tn(H1,Ng,"esm2020");const ch="analytics",ER="firebase_id",TR="origin",NR=60*1e3,SR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rg="https://www.googletagmanager.com/gtag/js";const ln=new Ph("@firebase/analytics");const AR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Ma("analytics","Analytics",AR);function jR(s){if(!s.startsWith(Rg)){const e=kn.create("invalid-gtag-resource",{gtagURL:s});return ln.warn(e.message),""}return s}function lw(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function RR(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function CR(s,e){const n=RR("firebase-js-sdk-policy",{createScriptURL:jR}),i=document.createElement("script"),o=`${Rg}?l=${s}&id=${e}`;i.src=n?n?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function IR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function DR(s,e,n,i,o,u){const d=i[o];try{if(d)await e[d];else{const g=(await lw(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(p){ln.error(p)}s("config",o,u)}async function MR(s,e,n,i,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await lw(n);for(const g of d){const y=p.find(w=>w.measurementId===g),b=y&&e[y.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",i,o||{})}catch(u){ln.error(u)}}function OR(s,e,n,i){async function o(u,...d){try{if(u==="event"){const[p,g]=d;await MR(s,e,n,p,g)}else if(u==="config"){const[p,g]=d;await DR(s,e,n,i,p,g)}else if(u==="consent"){const[p,g]=d;s("consent",p,g)}else if(u==="get"){const[p,g,y]=d;s("get",p,g,y)}else if(u==="set"){const[p]=d;s("set",p)}else s(u,...d)}catch(p){ln.error(p)}}return o}function kR(s,e,n,i,o){let u=function(...d){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=OR(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function PR(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rg)&&n.src.includes(s))return n;return null}const LR=30,VR=1e3;class UR{constructor(e={},n=VR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cw=new UR;function zR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function BR(s){const{appId:e,apiKey:n}=s,i={method:"GET",headers:zR(n)},o=SR.replace("{app-id}",e),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();p.error?.message&&(d=p.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function FR(s,e=cw,n){const{appId:i,apiKey:o,measurementId:u}=s.options;if(!i)throw kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:i};throw kn.create("no-api-key")}const d=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new GR;return setTimeout(async()=>{p.abort()},NR),uw({appId:i,apiKey:o,measurementId:u},d,p,e)}async function uw(s,{throttleEndTimeMillis:e,backoffCount:n},i,o=cw){const{appId:u,measurementId:d}=s;try{await qR(i,e)}catch(p){if(d)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{const p=await BR(s);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!HR(g)){if(o.deleteThrottleMetadata(u),d)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw p}const y=Number(g?.customData?.httpStatus)===503?f0(n,o.intervalMillis,LR):f0(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(u,b),ln.debug(`Calling attemptFetch again in ${y} millis`),uw(s,b,i,o)}}function qR(s,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),i(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HR(s){if(!(s instanceof es)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class GR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $R(s,e,n,i,o){if(o&&o.global){s("event",n,i);return}else{const u=await e,d={...i,send_to:u};s("event",n,d)}}async function YR(s,e,n,i){if(i&&i.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function KR(){if(P1())try{await L1()}catch(s){return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QR(s,e,n,i,o,u,d){const p=FR(s);p.then(j=>{n[j.measurementId]=j.appId,s.options.measurementId&&j.measurementId!==s.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>ln.error(j)),e.push(p);const g=KR().then(j=>{if(j)return i.getId()}),[y,b]=await Promise.all([p,g]);PR(u)||CR(u,y.measurementId),o("js",new Date);const w=d?.config??{};return w[TR]="firebase",w.update=!0,b!=null&&(w[ER]=b),o("config",y.measurementId,w),y.measurementId}class XR{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},T0=[];const N0={};let Np="dataLayer",WR="gtag",S0,Cg,A0=!1;function JR(){const s=[];if(k1()&&s.push("This is a browser extension environment."),yA()||s.push("Cookies are not available."),s.length>0){const e=s.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function ZR(s,e,n){JR();const i=s.options.appId;if(!i)throw kn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Lo[i]!=null)throw kn.create("already-exists",{id:i});if(!A0){IR(Np);const{wrappedGtag:u,gtagCore:d}=kR(Lo,T0,N0,Np,WR);Cg=u,S0=d,A0=!0}return Lo[i]=QR(s,T0,N0,e,S0,Np,n),new XR(s)}function eC(s=Lh()){s=ht(s);const e=Oi(s,ch);return e.isInitialized()?e.getImmediate():tC(s)}function tC(s,e={}){const n=Oi(s,ch);if(n.isInitialized()){const o=n.getImmediate();if(Ai(e,n.getOptions()))return o;throw kn.create("already-initialized")}return n.initialize({options:e})}function nC(s,e,n){s=ht(s),YR(Cg,Lo[s.app.options.appId],e,n).catch(i=>ln.error(i))}function sC(s,e,n,i){s=ht(s),$R(Cg,Lo[s.app.options.appId],e,n,i).catch(o=>ln.error(o))}const j0="@firebase/analytics",R0="0.10.19";function rC(){bs(new Jn(ch,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return ZR(i,o,n)},"PUBLIC")),bs(new Jn("analytics-internal",s,"PRIVATE")),Tn(j0,R0),Tn(j0,R0,"esm2020");function s(e){try{const n=e.getProvider(ch).getImmediate();return{logEvent:(i,o,u)=>sC(n,i,o,u),setUserProperties:(i,o)=>nC(n,i,o)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}rC();function dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=dw,hw=new Ma("auth","Firebase",dw());const uh=new Ph("@firebase/auth");function aC(s,...e){uh.logLevel<=Ve.WARN&&uh.warn(`Auth (${Oa}): ${s}`,...e)}function $d(s,...e){uh.logLevel<=Ve.ERROR&&uh.error(`Auth (${Oa}): ${s}`,...e)}function Zn(s,...e){throw Dg(s,...e)}function ys(s,...e){return Dg(s,...e)}function Ig(s,e,n){const i={...iC(),[e]:n};return new Ma("auth","Firebase",i).create(e,{appName:s.name})}function Sr(s){return Ig(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oC(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(s,"argument-error"),Ig(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return hw.create(s,...e)}function _e(s,e,...n){if(!s)throw Dg(e,...n)}function Er(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $d(e),new Error(e)}function Cr(s,e){s||Er(e)}function Hp(){return typeof self<"u"&&self.location?.href||""}function lC(){return C0()==="http:"||C0()==="https:"}function C0(){return typeof self<"u"&&self.location?.protocol||null}function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||k1()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=dA()||mA()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mg(s,e){Cr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new Yc(3e4,6e4);function Mr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function tr(s,e,n,i,o={}){return mw(s,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const p=$c({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return fA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Da(s.emulatorConfig.host)&&(y.credentials="include"),fw.fetch()(await pw(s,s.config.apiHost,n,p),y)})}async function mw(s,e,n){s._canInitEmulator=!1;const i={...dC,...e};try{const o=new pC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Pd(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Pd(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Pd(s,"user-disabled",d);const b=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ig(s,b,y);Zn(s,b)}}catch(o){if(o instanceof es)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Kc(s,e,n,i,o={}){const u=await tr(s,e,n,i,o);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function pw(s,e,n,i){const o=`${e}${n}?${i}`,u=s,d=u.config.emulator?Mg(s.config,o):`${s.config.apiScheme}://${o}`;return hC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function mC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ys(this.auth,"network-request-failed")),fC.get())})}}function Pd(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ys(s,e,i);return o.customData._tokenResponse=n,o}function I0(s){return s!==void 0&&s.enterprise!==void 0}class gC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(s,e){return tr(s,"GET","/v2/recaptchaConfig",Mr(s,e))}async function xC(s,e){return tr(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return tr(s,"POST","/v1/accounts:lookup",e)}function Ec(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(s,e=!1){const n=ht(s),i=await n.getIdToken(e),o=Og(i);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Ec(Sp(o.auth_time)),issuedAtTime:Ec(Sp(o.iat)),expirationTime:Ec(Sp(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sp(s){return Number(s)*1e3}function Og(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return $d("JWT malformed, contained fewer than 3 sections"),null;try{const o=R1(n);return o?JSON.parse(o):($d("Failed to decode base64 JWT payload"),null)}catch(o){return $d("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D0(s){const e=Og(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof es&&bC(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function bC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class _C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,n=await s.getIdToken(),i=await qo(s,dh(e,{idToken:n}));_e(i?.users.length,e,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?gw(o.providerUserInfo):[],d=EC(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,y=p?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function wC(s){const e=ht(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EC(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function gw(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function TC(s,e){const n=await mw(s,{},async()=>{const i=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await pw(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&Da(s.emulatorConfig.host)&&(g.credentials="include"),fw.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(s,e){return tr(s,"POST","/v2/accounts:revokeToken",Mr(s,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await TC(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new Vo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Er("not implemented")}}function pi(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ps{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vC(this,e)}reload(){return wC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await qo(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:j,isAnonymous:k,providerData:F,stsTokenManager:L}=n;_e(w&&L,e,"internal-error");const O=Vo.fromJSON(this.name,L);_e(typeof w=="string",e,"internal-error"),pi(i,e.name),pi(o,e.name),_e(typeof j=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),pi(u,e.name),pi(d,e.name),pi(p,e.name),pi(g,e.name),pi(y,e.name),pi(b,e.name);const H=new ps({uid:w,auth:e,email:o,emailVerified:j,displayName:i,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:O,createdAt:y,lastLoginAt:b});return F&&Array.isArray(F)&&(H.providerData=F.map(J=>({...J}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(e,n,i=!1){const o=new Vo;o.updateFromServerResponse(n);const u=new ps({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gw(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new Vo;p.updateFromIdToken(i);const g=new ps({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const M0=new Map;function Tr(s){Cr(s instanceof Function,"Expected a class definition");let e=M0.get(s);return e?(Cr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,M0.set(s,e),e)}class yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yw.type="NONE";const O0=yw;function Yd(s,e,n){return`firebase:${s}:${e}:${n}`}class Uo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Yd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Uo(Tr(O0),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Tr(O0);const d=Yd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const j=await dh(e,{idToken:b}).catch(()=>{});if(!j)break;w=await ps._fromGetAccountInfoResponse(e,j,b)}else w=ps._fromJSON(e,b);y!==u&&(p=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Uo(u,e,i):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Uo(u,e,i))}}function k0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_w(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ew(e))return"Blackberry";if(Tw(e))return"Webos";if(vw(e))return"Safari";if((e.includes("chrome/")||bw(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if(i?.length===2)return i[1]}return"Other"}function xw(s=sn()){return/firefox\//i.test(s)}function vw(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bw(s=sn()){return/crios\//i.test(s)}function _w(s=sn()){return/iemobile/i.test(s)}function ww(s=sn()){return/android/i.test(s)}function Ew(s=sn()){return/blackberry/i.test(s)}function Tw(s=sn()){return/webos/i.test(s)}function kg(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function SC(s=sn()){return kg(s)&&!!window.navigator?.standalone}function AC(){return pA()&&document.documentMode===10}function Nw(s=sn()){return kg(s)||ww(s)||Tw(s)||Ew(s)||/windows phone/i.test(s)||_w(s)}function Sw(s,e=[]){let n;switch(s){case"Browser":n=k0(sn());break;case"Worker":n=`${k0(sn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${i}`}class jC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function RC(s,e={}){return tr(s,"GET","/v2/passwordPolicy",Mr(s,e))}const CC=6;class IC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class DC{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new jC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),i=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Sr(this));const n=e?ht(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RC(this),n=new IC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await NC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Or(s){return ht(s)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MC(s){zh=s}function Aw(s){return zh.loadJS(s)}function OC(){return zh.recaptchaEnterpriseScript}function kC(){return zh.gapiScript}function PC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new VC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UC="recaptcha-enterprise",jw="NO_RECAPTCHA";class zC{constructor(e){this.type=UC,this.auth=Or(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{yC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new gC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;I0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(jw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(p=>{if(!n&&I0(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=OC();g.length!==0&&(g+=p),Aw(g).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function L0(s,e,n,i=!1,o=!1){const u=new zC(s);let d;if(o)d=jw;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function fh(s,e,n,i,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await L0(s,e,n,n==="getOobCode");return i(s,u)}else return i(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L0(s,e,n,n==="getOobCode");return i(s,d)}else return Promise.reject(u)})}function BC(s,e){const n=Oi(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ai(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function FC(s,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function qC(s,e,n){const i=Or(s);_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Rw(e),{host:d,port:p}=HC(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},b=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){_e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_e(Ai(y,i.config.emulator)&&Ai(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Da(d)?(wg(`${u}//${d}${g}`),Eg("Auth",!0)):GC()}function Rw(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function HC(s){const e=Rw(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:V0(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:V0(d)}}}function V0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function $C(s,e){return tr(s,"POST","/v1/accounts:signUp",e)}async function YC(s,e){return Kc(s,"POST","/v1/accounts:signInWithPassword",Mr(s,e))}async function KC(s,e){return tr(s,"POST","/v1/accounts:sendOobCode",Mr(s,e))}async function QC(s,e){return KC(s,e)}async function XC(s,e){return Kc(s,"POST","/v1/accounts:signInWithEmailLink",Mr(s,e))}async function WC(s,e){return Kc(s,"POST","/v1/accounts:signInWithEmailLink",Mr(s,e))}class Dc extends Pg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Dc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Dc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,n,"signInWithPassword",YC);case"emailLink":return XC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,i,"signUpPassword",$C);case"emailLink":return WC(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(s,e){return Kc(s,"POST","/v1/accounts:signInWithIdp",Mr(s,e))}const JC="http://localhost";class Ta extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new Ta(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:JC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$c(n)}return e}}function ZC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(s){const e=pc(gc(s)).link,n=e?pc(gc(e)).deep_link_id:null,i=pc(gc(s)).deep_link_id;return(i?pc(gc(i)).link:null)||i||n||e||s}class Lg{constructor(e){const n=pc(gc(e)),i=n.apiKey??null,o=n.oobCode??null,u=ZC(n.mode??null);_e(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eI(e);try{return new Lg(n)}catch{return null}}}class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,n){return Dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Lg.parseLink(n);return _e(i,"argument-error"),Dc._fromEmailAndCode(e,i.code,i.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qc extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yi extends Qc{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";class wr extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wr.credential(n,i)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class xi extends Qc{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";class vi extends Qc{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";async function tI(s,e){return Kc(s,"POST","/v1/accounts:signUp",Mr(s,e))}class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await ps._fromIdTokenResponse(e,i,o),d=U0(i);return new Na({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=U0(i);return new Na({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function U0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends es{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new mh(e,n,i,o)}}function Cw(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,u,e,i):u})}async function nI(s,e,n=!1){const i=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Na._forOperation(s,"link",i)}async function sI(s,e,n=!1){const{auth:i}=s;if(_n(i.app))return Promise.reject(Sr(i));const o="reauthenticate";try{const u=await qo(s,Cw(i,o,e,s),n);_e(u.idToken,i,"internal-error");const d=Og(u.idToken);_e(d,i,"internal-error");const{sub:p}=d;return _e(s.uid===p,i,"user-mismatch"),Na._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(i,"user-mismatch"),u}}async function Iw(s,e,n=!1){if(_n(s.app))return Promise.reject(Sr(s));const i="signIn",o=await Cw(s,i,e),u=await Na._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(u.user),u}async function rI(s,e){return Iw(Or(s),e)}async function Dw(s){const e=Or(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iI(s,e,n){const i=Or(s);await fh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",QC)}async function aI(s,e,n){if(_n(s.app))return Promise.reject(Sr(s));const i=Or(s),d=await fh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Dw(s),g}),p=await Na._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function oI(s,e,n){return _n(s.app)?Promise.reject(Sr(s)):rI(ht(s),el.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Dw(s),i})}async function lI(s,e){return tr(s,"POST","/v1/accounts:update",e)}async function cI(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ht(s),u={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await qo(i,lI(i.auth,u));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const p=i.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(d)}function uI(s,e,n,i){return ht(s).onIdTokenChanged(e,n,i)}function dI(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function hI(s,e,n,i){return ht(s).onAuthStateChanged(e,n,i)}function fI(s){return ht(s).signOut()}const ph="__sak";class Mw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mI=1e3,pI=10;class Ow extends Mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);AC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pI):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ow.type="LOCAL";const gI=Ow;class kw extends Mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kw.type="SESSION";const Pw=kw;function yI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Bh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await yI(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function Ug(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}class xI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Ug("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(w){const j=w;if(j.data.eventId===y)switch(j.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(j.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ys(){return window}function vI(s){Ys().location.href=s}function Lw(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function bI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _I(){return navigator?.serviceWorker?.controller||null}function wI(){return Lw()?self:null}const Vw="firebaseLocalStorageDb",EI=1,gh="firebaseLocalStorage",Uw="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function TI(){const s=indexedDB.deleteDatabase(Vw);return new Xc(s).toPromise()}function $p(){const s=indexedDB.open(Vw,EI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(gh,{keyPath:Uw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(gh)?e(i):(i.close(),await TI(),e(await $p()))})})}async function z0(s,e,n){const i=Fh(s,!0).put({[Uw]:e,value:n});return new Xc(i).toPromise()}async function NI(s,e){const n=Fh(s,!1).get(e),i=await new Xc(n).toPromise();return i===void 0?null:i.value}function B0(s,e){const n=Fh(s,!0).delete(e);return new Xc(n).toPromise()}const SI=800,AI=3;class zw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await z0(e,ph,"1"),await B0(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>z0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>NI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new Xc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zw.type="LOCAL";const jI=zw;new Yc(3e4,6e4);function Bw(s,e){return e?Tr(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zg extends Pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RI(s){return Iw(s.auth,new zg(s),s.bypassAuthState)}function CI(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),sI(n,new zg(s),s.bypassAuthState)}async function II(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),nI(n,new zg(s),s.bypassAuthState)}class Fw{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return CI;default:Zn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DI=new Yc(2e3,1e4);async function MI(s,e,n){if(_n(s.app))return Promise.reject(ys(s,"operation-not-supported-in-this-environment"));const i=Or(s);oC(s,e,Vg);const o=Bw(i,n);return new xa(i,"signInViaPopup",e,o).executeNotNull()}class xa extends Fw{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DI.get())};e()}}xa.currentPopupAction=null;const OI="pendingRedirect",Kd=new Map;class kI extends Fw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const i=await PI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(s,e){const n=UI(e),i=VI(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function LI(s,e){Kd.set(s._key(),e)}function VI(s){return Tr(s._redirectPersistence)}function UI(s){return Yd(OI,s.config.apiKey,s.name)}async function zI(s,e,n=!1){if(_n(s.app))return Promise.reject(Sr(s));const i=Or(s),o=Bw(i,e),d=await new kI(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const BI=600*1e3;class FI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ys(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BI&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function qI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qw(s);default:return!1}}async function HI(s,e={}){return tr(s,"GET","/v1/projects",e)}const GI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function YI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await HI(s);for(const n of e)try{if(KI(n))return}catch{}Zn(s,"unauthorized-domain")}function KI(s){const e=Hp(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!$I.test(n))return!1;if(GI.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const QI=new Yc(3e4,6e4);function q0(){const s=Ys().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function XI(s){return new Promise((e,n)=>{function i(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(ys(s,"network-request-failed"))},timeout:QI.get()})}if(Ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ys().gapi?.load)i();else{const o=PC("iframefcb");return Ys()[o]=()=>{gapi.load?i():n(ys(s,"network-request-failed"))},Aw(`${kC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function WI(s){return Qd=Qd||XI(s),Qd}const JI=new Yc(5e3,15e3),ZI="__/auth/iframe",e4="emulator/auth/iframe",t4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s4(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Mg(e,e4):`https://${s.config.authDomain}/${ZI}`,i={apiKey:e.apiKey,appName:s.name,v:Oa},o=n4.get(s.config.apiHost);o&&(i.eid=o);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${$c(i).slice(1)}`}async function r4(s){const e=await WI(s),n=Ys().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:s4(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t4,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=ys(s,"network-request-failed"),p=Ys().setTimeout(()=>{u(d)},JI.get());function g(){Ys().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(d)})}))}const i4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a4=500,o4=600,l4="_blank",c4="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u4(s,e,n,i=a4,o=o4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...i4,width:i.toString(),height:o.toString(),top:u,left:d},y=sn().toLowerCase();n&&(p=bw(y)?l4:n),xw(y)&&(e=e||c4,g.scrollbars="yes");const b=Object.entries(g).reduce((j,[k,F])=>`${j}${k}=${F},`,"");if(SC(y)&&p!=="_self")return d4(e||"",p),new H0(null);const w=window.open(e||"",p,b);_e(w,s,"popup-blocked");try{w.focus()}catch{}return new H0(w)}function d4(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const h4="__/auth/handler",f4="emulator/auth/handler",m4=encodeURIComponent("fac");async function G0(s,e,n,i,o,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Oa,eventId:o};if(e instanceof Vg){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",_A(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof Qc){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await s._getAppCheckToken(),y=g?`#${m4}=${encodeURIComponent(g)}`:"";return`${p4(s)}?${$c(p).slice(1)}${y}`}function p4({config:s}){return s.emulator?Mg(s,f4):`https://${s.authDomain}/${h4}`}const Ap="webStorageSupport";class g4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pw,this._completeRedirectFn=zI,this._overrideRedirectResult=LI}async _openPopup(e,n,i,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await G0(e,n,i,Hp(),o);return u4(e,u,Ug())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await G0(e,n,i,Hp(),o);return vI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await r4(e),i=new FI(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},o=>{const u=o?.[0]?.[Ap];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nw()||vw()||kg()}}const y4=g4;var $0="@firebase/auth",Y0="1.12.0";class x4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v4(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(s){bs(new Jn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(s)},y=new DC(i,o,u,g);return FC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),bs(new Jn("auth-internal",e=>{const n=Or(e.getProvider("auth").getImmediate());return(i=>new x4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn($0,Y0,v4(s)),Tn($0,Y0,"esm2020")}const _4=300,w4=M1("authIdTokenMaxAge")||_4;let K0=null;const E4=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>w4)return;const o=n?.token;K0!==o&&(K0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function T4(s=Lh()){const e=Oi(s,"auth");if(e.isInitialized())return e.getImmediate();const n=BC(s,{popupRedirectResolver:y4,persistence:[jI,gI,Pw]}),i=M1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=E4(u.toString());dI(n,d,()=>d(n.currentUser)),uI(n,p=>d(p))}}const o=C1("auth");return o&&qC(n,`http://${o}`),n}function N4(){return document.getElementsByTagName("head")?.[0]??document}MC({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const u=ys("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",N4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ti,Hw;(function(){var s;function e(C,E){function N(){}N.prototype=E.prototype,C.F=E.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(S,D,z){for(var R=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)R[Ge-2]=arguments[Ge];return E.prototype[D].apply(S,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,E,N){N||(N=0);const S=Array(16);if(typeof E=="string")for(var D=0;D<16;++D)S[D]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(D=0;D<16;++D)S[D]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=C.g[0],N=C.g[1],D=C.g[2];let z=C.g[3],R;R=E+(z^N&(D^z))+S[0]+3614090360&4294967295,E=N+(R<<7&4294967295|R>>>25),R=z+(D^E&(N^D))+S[1]+3905402710&4294967295,z=E+(R<<12&4294967295|R>>>20),R=D+(N^z&(E^N))+S[2]+606105819&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(E^D&(z^E))+S[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=E+(z^N&(D^z))+S[4]+4118548399&4294967295,E=N+(R<<7&4294967295|R>>>25),R=z+(D^E&(N^D))+S[5]+1200080426&4294967295,z=E+(R<<12&4294967295|R>>>20),R=D+(N^z&(E^N))+S[6]+2821735955&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(E^D&(z^E))+S[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=E+(z^N&(D^z))+S[8]+1770035416&4294967295,E=N+(R<<7&4294967295|R>>>25),R=z+(D^E&(N^D))+S[9]+2336552879&4294967295,z=E+(R<<12&4294967295|R>>>20),R=D+(N^z&(E^N))+S[10]+4294925233&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(E^D&(z^E))+S[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=E+(z^N&(D^z))+S[12]+1804603682&4294967295,E=N+(R<<7&4294967295|R>>>25),R=z+(D^E&(N^D))+S[13]+4254626195&4294967295,z=E+(R<<12&4294967295|R>>>20),R=D+(N^z&(E^N))+S[14]+2792965006&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(E^D&(z^E))+S[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=E+(D^z&(N^D))+S[1]+4129170786&4294967295,E=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(E^N))+S[6]+3225465664&4294967295,z=E+(R<<9&4294967295|R>>>23),R=D+(E^N&(z^E))+S[11]+643717713&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^E&(D^z))+S[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=E+(D^z&(N^D))+S[5]+3593408605&4294967295,E=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(E^N))+S[10]+38016083&4294967295,z=E+(R<<9&4294967295|R>>>23),R=D+(E^N&(z^E))+S[15]+3634488961&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^E&(D^z))+S[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=E+(D^z&(N^D))+S[9]+568446438&4294967295,E=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(E^N))+S[14]+3275163606&4294967295,z=E+(R<<9&4294967295|R>>>23),R=D+(E^N&(z^E))+S[3]+4107603335&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^E&(D^z))+S[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=E+(D^z&(N^D))+S[13]+2850285829&4294967295,E=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(E^N))+S[2]+4243563512&4294967295,z=E+(R<<9&4294967295|R>>>23),R=D+(E^N&(z^E))+S[7]+1735328473&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^E&(D^z))+S[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=E+(N^D^z)+S[5]+4294588738&4294967295,E=N+(R<<4&4294967295|R>>>28),R=z+(E^N^D)+S[8]+2272392833&4294967295,z=E+(R<<11&4294967295|R>>>21),R=D+(z^E^N)+S[11]+1839030562&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^E)+S[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=E+(N^D^z)+S[1]+2763975236&4294967295,E=N+(R<<4&4294967295|R>>>28),R=z+(E^N^D)+S[4]+1272893353&4294967295,z=E+(R<<11&4294967295|R>>>21),R=D+(z^E^N)+S[7]+4139469664&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^E)+S[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=E+(N^D^z)+S[13]+681279174&4294967295,E=N+(R<<4&4294967295|R>>>28),R=z+(E^N^D)+S[0]+3936430074&4294967295,z=E+(R<<11&4294967295|R>>>21),R=D+(z^E^N)+S[3]+3572445317&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^E)+S[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=E+(N^D^z)+S[9]+3654602809&4294967295,E=N+(R<<4&4294967295|R>>>28),R=z+(E^N^D)+S[12]+3873151461&4294967295,z=E+(R<<11&4294967295|R>>>21),R=D+(z^E^N)+S[15]+530742520&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^E)+S[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=E+(D^(N|~z))+S[0]+4096336452&4294967295,E=N+(R<<6&4294967295|R>>>26),R=z+(N^(E|~D))+S[7]+1126891415&4294967295,z=E+(R<<10&4294967295|R>>>22),R=D+(E^(z|~N))+S[14]+2878612391&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~E))+S[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=E+(D^(N|~z))+S[12]+1700485571&4294967295,E=N+(R<<6&4294967295|R>>>26),R=z+(N^(E|~D))+S[3]+2399980690&4294967295,z=E+(R<<10&4294967295|R>>>22),R=D+(E^(z|~N))+S[10]+4293915773&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~E))+S[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=E+(D^(N|~z))+S[8]+1873313359&4294967295,E=N+(R<<6&4294967295|R>>>26),R=z+(N^(E|~D))+S[15]+4264355552&4294967295,z=E+(R<<10&4294967295|R>>>22),R=D+(E^(z|~N))+S[6]+2734768916&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~E))+S[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=E+(D^(N|~z))+S[4]+4149444226&4294967295,E=N+(R<<6&4294967295|R>>>26),R=z+(N^(E|~D))+S[11]+3174756917&4294967295,z=E+(R<<10&4294967295|R>>>22),R=D+(E^(z|~N))+S[2]+718787259&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~E))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+z&4294967295}i.prototype.v=function(C,E){E===void 0&&(E=C.length);const N=E-this.blockSize,S=this.C;let D=this.h,z=0;for(;z<E;){if(D==0)for(;z<=N;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<E;)if(S[D++]=C.charCodeAt(z++),D==this.blockSize){o(this,S),D=0;break}}else for(;z<E;)if(S[D++]=C[z++],D==this.blockSize){o(this,S),D=0;break}}this.h=D,this.o+=E},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,N=0;N<4;++N)for(let S=0;S<32;S+=8)C[E++]=this.g[N]>>>S&255;return C};function u(C,E){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=E(C)}function d(C,E){this.h=E;const N=[];let S=!0;for(let D=C.length-1;D>=0;D--){const z=C[D]|0;S&&z==E||(N[D]=z,S=!1)}this.g=N}var p={};function g(C){return-128<=C&&C<128?u(C,function(E){return new d([E|0],E<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return O(y(-C));const E=[];let N=1;for(let S=0;C>=N;S++)E[S]=C/N|0,N*=4294967296;return new d(E,0)}function b(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return O(b(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(E,8));let S=w;for(let z=0;z<C.length;z+=8){var D=Math.min(8,C.length-z);const R=parseInt(C.substring(z,z+D),E);D<8?(D=y(Math.pow(E,D)),S=S.j(D).add(y(R))):(S=S.j(N),S=S.add(y(R)))}return S}var w=g(0),j=g(1),k=g(16777216);s=d.prototype,s.m=function(){if(L(this))return-O(this).m();let C=0,E=1;for(let N=0;N<this.g.length;N++){const S=this.i(N);C+=(S>=0?S:4294967296+S)*E,E*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(L(this))return"-"+O(this).toString(C);const E=y(Math.pow(C,6));var N=this;let S="";for(;;){const D=ie(N,E).g;N=H(N,D.j(E));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,F(N))return z+S;for(;z.length<6;)z="0"+z;S=z+S}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function L(C){return C.h==-1}s.l=function(C){return C=H(this,C),L(C)?-1:F(C)?0:1};function O(C){const E=C.g.length,N=[];for(let S=0;S<E;S++)N[S]=~C.g[S];return new d(N,~C.h).add(j)}s.abs=function(){return L(this)?O(this):this},s.add=function(C){const E=Math.max(this.g.length,C.g.length),N=[];let S=0;for(let D=0;D<=E;D++){let z=S+(this.i(D)&65535)+(C.i(D)&65535),R=(z>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);S=R>>>16,z&=65535,R&=65535,N[D]=R<<16|z}return new d(N,N[N.length-1]&-2147483648?-1:0)};function H(C,E){return C.add(O(E))}s.j=function(C){if(F(this)||F(C))return w;if(L(this))return L(C)?O(this).j(O(C)):O(O(this).j(C));if(L(C))return O(this.j(O(C)));if(this.l(k)<0&&C.l(k)<0)return y(this.m()*C.m());const E=this.g.length+C.g.length,N=[];for(var S=0;S<2*E;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(let D=0;D<C.g.length;D++){const z=this.i(S)>>>16,R=this.i(S)&65535,Ge=C.i(D)>>>16,st=C.i(D)&65535;N[2*S+2*D]+=R*st,J(N,2*S+2*D),N[2*S+2*D+1]+=z*st,J(N,2*S+2*D+1),N[2*S+2*D+1]+=R*Ge,J(N,2*S+2*D+1),N[2*S+2*D+2]+=z*Ge,J(N,2*S+2*D+2)}for(C=0;C<E;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=E;C<2*E;C++)N[C]=0;return new d(N,0)};function J(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function U(C,E){this.g=C,this.h=E}function ie(C,E){if(F(E))throw Error("division by zero");if(F(C))return new U(w,w);if(L(C))return E=ie(O(C),E),new U(O(E.g),O(E.h));if(L(E))return E=ie(C,O(E)),new U(O(E.g),E.h);if(C.g.length>30){if(L(C)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var N=j,S=E;S.l(C)<=0;)N=ae(N),S=ae(S);var D=ce(N,1),z=ce(S,1);for(S=ce(S,2),N=ce(N,2);!F(S);){var R=z.add(S);R.l(C)<=0&&(D=D.add(N),z=R),S=ce(S,1),N=ce(N,1)}return E=H(C,D.j(E)),new U(D,E)}for(D=w;C.l(E)>=0;){for(N=Math.max(1,Math.floor(C.m()/E.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),z=y(N),R=z.j(E);L(R)||R.l(C)>0;)N-=S,z=y(N),R=z.j(E);F(z)&&(z=j),D=D.add(z),C=H(C,R)}return new U(D,C)}s.B=function(C){return ie(this,C).h},s.and=function(C){const E=Math.max(this.g.length,C.g.length),N=[];for(let S=0;S<E;S++)N[S]=this.i(S)&C.i(S);return new d(N,this.h&C.h)},s.or=function(C){const E=Math.max(this.g.length,C.g.length),N=[];for(let S=0;S<E;S++)N[S]=this.i(S)|C.i(S);return new d(N,this.h|C.h)},s.xor=function(C){const E=Math.max(this.g.length,C.g.length),N=[];for(let S=0;S<E;S++)N[S]=this.i(S)^C.i(S);return new d(N,this.h^C.h)};function ae(C){const E=C.g.length+1,N=[];for(let S=0;S<E;S++)N[S]=C.i(S)<<1|C.i(S-1)>>>31;return new d(N,C.h)}function ce(C,E){const N=E>>5;E%=32;const S=C.g.length-N,D=[];for(let z=0;z<S;z++)D[z]=E>0?C.i(z+N)>>>E|C.i(z+N+1)<<32-E:C.i(z+N);return new d(D,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Hw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ti=d}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gw,yc,$w,Xd,Yp,Yw,Kw,Qw;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(h,x){if(x)e:{var _=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in _))break e;_=_[q]}h=h[h.length-1],A=_[h],x=x(A),x!=A&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(x){var _=[],A;for(A in x)Object.prototype.hasOwnProperty.call(x,A)&&_.push([A,x[A]]);return _}});var u=u||{},d=this||self;function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,_){return h.call.apply(h.bind,arguments)}function y(h,x,_){return y=g,y.apply(null,arguments)}function b(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function w(h,x){function _(){}_.prototype=x.prototype,h.Z=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(A,q,K){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return x.prototype[q].apply(A,oe)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const x=h.length;if(x>0){const _=Array(x);for(let A=0;A<x;A++)_[A]=h[A];return _}return[]}function F(h,x){for(let A=1;A<arguments.length;A++){const q=arguments[A];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=h.length||0;const K=q.length||0;h.length=_+K;for(let oe=0;oe<K;oe++)h[_+oe]=q[oe]}else h.push(q)}}class L{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(h){d.setTimeout(()=>{throw h},0)}function H(){var h=C;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class J{constructor(){this.h=this.g=null}add(x,_){const A=U.get();A.set(x,_),this.h?this.h.next=A:this.g=A,this.h=A}}var U=new L(()=>new ie,h=>h.reset());class ie{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ce=!1,C=new J,E=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(N)}};function N(){for(var h;h=H();){try{h.h.call(h.g)}catch(_){O(_)}var x=U;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ce=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,x),d.removeEventListener("test",_,x)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function Ge(h,x){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}w(Ge,D),Ge.prototype.init=function(h,x){const _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(_=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(h,x,_,A,q){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!A,this.ha=q,this.key=++X,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,x,_){for(const A in h)x.call(_,h[A],A,h)}function re(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function P(h){const x={};for(const _ in h)x[_]=h[_];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)h[_]=A[_];for(let K=0;K<te.length;K++)_=te[K],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,x,_,A,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=Ae(h,x,A,q);return oe>-1?(x=h[oe],_||(x.fa=!1)):(x=new le(x,this.src,K,!!A,q),x.fa=_,h.push(x)),x};function Ee(h,x){const _=x.type;if(_ in h.g){var A=h.g[_],q=Array.prototype.indexOf.call(A,x,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&(ye(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ae(h,x,_,A){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==x&&K.capture==!!_&&K.ha==A)return q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),yt={};function rt(h,x,_,A,q){if(Array.isArray(x)){for(let K=0;K<x.length;K++)rt(h,x[K],_,A,q);return null}return _=ll(_),h&&h[st]?h.J(x,_,p(A)?!!A.capture:!1,q):Ce(h,x,_,!1,A,q)}function Ce(h,x,_,A,q,K){if(!x)throw Error("Invalid event type");const oe=p(q)?!!q.capture:!!q;let je=Li(h);if(je||(h[ke]=je=new he(h)),_=je.add(x,_,A,oe,K),_.proxy)return _;if(A=ts(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)z||(q=oe),q===void 0&&(q=!1),h.addEventListener(x.toString(),A,q);else if(h.attachEvent)h.attachEvent(Ts(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ts(){function h(_){return x.call(h.src,h.listener,_)}const x=al;return h}function Ua(h,x,_,A,q){if(Array.isArray(x))for(var K=0;K<x.length;K++)Ua(h,x[K],_,A,q);else A=p(A)?!!A.capture:!!A,_=ll(_),h&&h[st]?(h=h.i,K=String(x).toString(),K in h.g&&(x=h.g[K],_=Ae(x,_,A,q),_>-1&&(ye(x[_]),Array.prototype.splice.call(x,_,1),x.length==0&&(delete h.g[K],h.h--)))):h&&(h=Li(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ae(x,_,A,q)),(_=h>-1?x[h]:null)&&za(_))}function za(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[st])Ee(x.i,h);else{var _=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(_,A,h.capture):x.detachEvent?x.detachEvent(Ts(_),A):x.addListener&&x.removeListener&&x.removeListener(A),(_=Li(x))?(Ee(_,h),_.h==0&&(_.src=null,x[ke]=null)):ye(h)}}}function Ts(h){return h in yt?yt[h]:yt[h]="on"+h}function al(h,x){if(h.da)h=!0;else{x=new Ge(x,this);const _=h.listener,A=h.ha||h.src;h.fa&&za(h),h=_.call(A,x)}return h}function Li(h){return h=h[ke],h instanceof he?h:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ll(h){return typeof h=="function"?h:(h[ol]||(h[ol]=function(x){return h.handleEvent(x)}),h[ol])}function Et(){S.call(this),this.i=new he(this),this.M=this,this.G=null}w(Et,S),Et.prototype[st]=!0,Et.prototype.removeEventListener=function(h,x,_,A){Ua(this,h,x,_,A)};function kt(h,x){var _,A=h.G;if(A)for(_=[];A;A=A.G)_.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new D(x,h);else if(x instanceof D)x.target=x.target||h;else{var q=x;x=new D(A,h),ue(x,q)}q=!0;let K,oe;if(_)for(oe=_.length-1;oe>=0;oe--)K=x.g=_[oe],q=Pr(K,A,!0,x)&&q;if(K=x.g=h,q=Pr(K,A,!0,x)&&q,q=Pr(K,A,!1,x)&&q,_)for(oe=0;oe<_.length;oe++)K=x.g=_[oe],q=Pr(K,A,!1,x)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const _=h.g[x];for(let A=0;A<_.length;A++)ye(_[A]);delete h.g[x],h.h--}}this.G=null},Et.prototype.J=function(h,x,_,A){return this.i.add(String(h),x,!1,_,A)},Et.prototype.K=function(h,x,_,A){return this.i.add(String(h),x,!0,_,A)};function Pr(h,x,_,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let K=0;K<x.length;++K){const oe=x[K];if(oe&&!oe.da&&oe.capture==_){const je=oe.listener,vt=oe.ha||oe.src;oe.fa&&Ee(h.i,oe),q=je.call(vt,A)!==!1&&q}}return q&&!A.defaultPrevented}function df(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function au(h){h.g=df(()=>{h.g=null,h.i&&(h.i=!1,au(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class rn extends S{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(h){S.call(this),this.h=h,this.g={}}w(Vi,S);var cl=[];function ul(h){De(h.g,function(x,_){this.g.hasOwnProperty(_)&&za(x)},h),h.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),ul(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=d.JSON.stringify,hf=d.JSON.parse,ou=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function lu(){}function cu(){}var ns={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}w(Ft,D);function Ln(){D.call(this,"c")}w(Ln,D);var xt={},uu=null;function Ba(){return uu=uu||new Et}xt.Ia="serverreachability";function du(h){D.call(this,xt.Ia,h)}w(du,D);function Ns(h){const x=Ba();kt(x,new du(x))}xt.STAT_EVENT="statevent";function Ui(h,x){D.call(this,xt.STAT_EVENT,h),this.stat=x}w(Ui,D);function Tt(h){const x=Ba();kt(x,new Ui(x,h))}xt.Ja="timingevent";function Ss(h,x){D.call(this,xt.Ja,h),this.size=x}w(Ss,D);function As(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function ss(){this.g=!0}ss.prototype.ua=function(){this.g=!1};function ff(h,x,_,A,q,K){h.info(function(){if(h.g)if(K){var oe="",je=K.split("&");for(let $e=0;$e<je.length;$e++){var vt=je[$e].split("=");if(vt.length>1){const ct=vt[0];vt=vt[1];const Bn=ct.split("_");oe=Bn.length>=2&&Bn[1]=="type"?oe+(ct+"="+vt+"&"):oe+(ct+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+x+`
`+_+`
`+oe})}function hu(h,x,_,A,q,K,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+x+`
`+_+`
`+K+" "+oe})}function js(h,x,_,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+mf(h,_)+(A?" "+A:"")})}function zi(h,x){h.info(function(){return"TIMEOUT: "+x})}ss.prototype.info=function(){};function mf(h,x){if(!h.g)return x;if(!x)return null;try{const K=JSON.parse(x);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var _=K[h];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Lr(K)}catch{return x}}var Bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function Fi(){}w(Fi,lu),Fi.prototype.g=function(){return new XMLHttpRequest},hl=new Fi;function sr(h){return encodeURIComponent(String(h))}function fu(h){var x=1;h=h.split(":");const _=[];for(;x>0&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function rs(h,x,_,A){this.j=h,this.i=x,this.l=_,this.S=A||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Nt={},Vt={};function Rs(h,x,_){h.M=1,h.A=qi(At(x)),h.u=_,h.R=!0,Fa(h,null)}function Fa(h,x){h.F=Date.now(),Cs(h),h.B=At(h.A);var _=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),$a(_.i,"t",A),h.C=0,_=h.j.L,h.h=new is,h.g=ju(h.j,_?x:null,!h.u),h.P>0&&(h.O=new rn(y(h.Y,h,h.g),h.P)),x=h.V,_=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(cl[0]=q.toString()),q=cl);for(let K=0;K<q.length;K++){const oe=rt(_,q[K],A||x.handleEvent,!1,x.h||x);if(!oe)break;x.g[oe.key]=oe}x=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Ns(),ff(h.i,h.v,h.B,h.l,h.S,h.u)}rs.prototype.ba=function(h){h=h.target;const x=this.O;x&&ls(h)==3?x.j():this.Y(h)},rs.prototype.Y=function(h){try{if(h==this.g)e:{const je=ls(this.g),vt=this.g.ya(),$e=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||je!=4||vt==7||(vt==8||$e<=0?Ns(3):Ns(2)),Is(this);var x=this.g.ca();this.X=x;var _=pf(this);if(this.o=x==200,hu(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var K=A;break t}}K=null}if(h=K)js(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ds(this,h);else{this.o=!1,this.m=3,Tt(12),Nn(this),Vn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=pu(this,_),ct==Vt){je==4&&(this.m=4,Tt(14),h=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Nt){this.m=4,Tt(15),js(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else js(this.i,this.l,ct,null),Ds(this,ct);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||_.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)js(this.i,this.l,_,"[Invalid Chunked Response]"),Nn(this),Vn(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Al(oe),oe.P=!0,Tt(11))}}else js(this.i,this.l,_,null),Ds(this,_);je==4&&Nn(this),this.o&&!this.K&&(je==4?Tu(this.j,this):(this.o=!1,Cs(this)))}else ir(this.g),x==400&&_.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Nn(this),Vn(this)}}}catch{}};function pf(h){if(!mu(h))return h.g.la();const x=qt(h.g);if(x==="")return"";let _="";const A=x.length,q=ls(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),Vn(h),"";h.h.i=new d.TextDecoder}for(let K=0;K<A;K++)h.h.h=!0,_+=h.h.i.decode(x[K],{stream:!(q&&K==A-1)});return x.length=0,h.h.g+=_,h.C=0,h.h.g}function mu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function pu(h,x){var _=h.C,A=x.indexOf(`
`,_);return A==-1?Vt:(_=Number(x.substring(_,A)),isNaN(_)?Nt:(A+=1,A+_>x.length?Vt:(x=x.slice(A,A+_),h.C=A+_,x)))}rs.prototype.cancel=function(){this.K=!0,Nn(this)};function Cs(h){h.T=Date.now()+h.H,qa(h,h.H)}function qa(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=As(y(h.aa,h),x)}function Is(h){h.D&&(d.clearTimeout(h.D),h.D=null)}rs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zi(this.i,this.B),this.M!=2&&(Ns(),Tt(17)),Nn(this),this.m=2,Vn(this)):qa(this,this.T-h)};function Vn(h){h.j.I==0||h.K||Tu(h.j,h)}function Nn(h){Is(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,ul(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ds(h,x){try{var _=h.j;if(_.I!=0&&(_.g==h||Os(_.h,h))){if(!h.L&&Os(_.h,h)&&_.I==3){try{var A=_.Ba.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)Wa(_),Gr(_);else break e;Xi(_),Tt(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=As(y(_.Va,_),6e3));Ms(_.h)<=1&&_.ta&&(_.ta=void 0)}else zs(_,11)}else if((h.L||_.g==h)&&Wa(_),!R(x))for(q=_.Ba.g.parse(x),x=0;x<q.length;x++){let $e=q[x];const ct=$e[0];if(!(ct<=_.K))if(_.K=ct,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const Bn=$e[3];Bn!=null&&(_.ka=Bn,_.j.info("VER="+_.ka));const Bs=$e[4];Bs!=null&&(_.za=Bs,_.j.info("SVER="+_.za));const cs=$e[5];cs!=null&&typeof cs=="number"&&cs>0&&(A=1.5*cs,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const us=h.g;if(us){const Wi=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var K=A.h;K.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(pl(K,K.h),K.h=null))}if(A.G){const Ja=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(A.wa=Ja,Qe(A.J,A.G,Ja))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var oe=h;if(A.na=Au(A,A.L?A.ba:null,A.W),oe.L){gl(A.h,oe);var je=oe,vt=A.O;vt&&(je.H=vt),je.D&&(Is(je),Cs(je)),A.g=oe}else wu(A);_.i.length>0&&Us(_)}else $e[0]!="stop"&&$e[0]!="close"||zs(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?zs(_,7):Nl(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}Ns(4)}catch{}}var St=class{constructor(h,x){this.g=h,this.map=x}};function fl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ms(h){return h.h?1:h.g?h.g.size:0}function Os(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function pl(h,x){h.g?h.g.add(x):h.h=x}function gl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}fl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.G);return x}return k(h.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(h,x){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const A=h[_].indexOf("=");let q,K=null;A>=0?(q=h[_].substring(0,A),K=h[_].substring(A+1)):q=h[_],x(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Sn?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,Vr(this,h.u),this.h=h.h,xl(this,bu(h.i)),this.m=h.m):h&&(x=String(h).match(gu))?(this.l=!1,Ut(this,x[1]||"",!0),this.o=ks(x[2]||""),this.g=ks(x[3]||"",!0),Vr(this,x[4]),this.h=ks(x[5]||"",!0),xl(this,x[6]||"",!0),this.m=ks(x[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Sn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Hi(x,Ga,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Hi(x,Ga,!0),"@"),h.push(sr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Hi(_,_.charAt(0)=="/"?vl:yu,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Hi(_,xu)),h.join("")},Sn.prototype.resolve=function(h){const x=At(this);let _=!!h.j;_?Ut(x,h.j):_=!!h.o,_?x.o=h.o:_=!!h.g,_?x.g=h.g:_=h.u!=null;var A=h.h;if(_)Vr(x,h.u);else if(_=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=x.h.lastIndexOf("/");q!=-1&&(A=x.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const je=q[oe++];je=="."?A&&oe==q.length&&K.push(""):je==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==q.length&&K.push("")):(K.push(je),A=!0)}A=K.join("/")}else A=q}return _?x.h=A:_=h.i.toString()!=="",_?xl(x,bu(h.i)):_=!!h.m,_&&(x.m=h.m),x};function At(h){return new Sn(h)}function Ut(h,x,_){h.j=_?ks(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Vr(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function xl(h,x,_){x instanceof zr?(h.i=x,Ya(h.i,h.l)):(_||(x=Hi(x,Ur)),h.i=new zr(x,h.l))}function Qe(h,x,_){h.i.set(x,_)}function qi(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ks(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hi(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,un),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ga=/[#\/\?@]/g,yu=/[#\?:]/g,vl=/[#\?]/g,Ur=/[#\?@]/g,xu=/#/g;function zr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ha(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}s=zr.prototype,s.add=function(h,x){dn(this),this.i=null,h=Br(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function vu(h,x){dn(h),x=Br(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function bl(h,x){return dn(h),x=Br(h,x),h.g.has(x)}s.forEach=function(h,x){dn(this),this.g.forEach(function(_,A){_.forEach(function(q){h.call(x,q,A,this)},this)},this)};function _l(h,x){dn(h);let _=[];if(typeof x=="string")bl(h,x)&&(_=_.concat(h.g.get(Br(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)_=_.concat(h[x]);return _}s.set=function(h,x){return dn(this),this.i=null,h=Br(this,h),bl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=_l(this,h),h.length>0?String(h[0]):x):x};function $a(h,x,_){vu(h,x),_.length>0&&(h.i=null,h.g.set(Br(h,x),k(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let A=0;A<x.length;A++){var _=x[A];const q=sr(_);_=_l(this,_);for(let K=0;K<_.length;K++){let oe=q;_[K]!==""&&(oe+="="+sr(_[K])),h.push(oe)}}return this.i=h.join("&")};function bu(h){const x=new zr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Br(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Ya(h,x){x&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(_,A){const q=A.toLowerCase();A!=q&&(vu(this,A),$a(this,q,_))},h)),h.j=x}function as(h,x){const _=new ss;if(d.Image){const A=new Image;A.onload=b(Un,_,"TestLoadImage: loaded",!0,x,A),A.onerror=b(Un,_,"TestLoadImage: error",!1,x,A),A.onabort=b(Un,_,"TestLoadImage: abort",!1,x,A),A.ontimeout=b(Un,_,"TestLoadImage: timeout",!1,x,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function wl(h,x){const _=new ss,A=new AbortController,q=setTimeout(()=>{A.abort(),Un(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?Un(_,"TestPingServer: ok",!0,x):Un(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),Un(_,"TestPingServer: error",!1,x)})}function Un(h,x,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Fr(){this.g=new ou}function Ps(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Ps,lu),Ps.prototype.g=function(){return new Gi(this.i,this.h)};function Gi(h,x){Et.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Gi,Et),s=Gi.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,os(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?qr(this):os(this),this.readyState==3&&Ka(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,qr(this))},s.Na=function(h){this.g&&(this.response=h,qr(this))},s.ga=function(){this.g&&qr(this)};function qr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,os(h)}s.setRequestHeader=function(h,x){this.A.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function os(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function zn(h){let x="";return De(h,function(_,A){x+=A,x+=":",x+=_,x+=`\r
`}),x}function $i(h,x,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=zn(_),typeof h=="string"?_!=null&&sr(_):Qe(h,x,_))}function Je(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Et);var Ls=/^https?$/i,El=["POST","PUT"];s=Je.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,x,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=j(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(K){Yi(this,K);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(El,x,void 0)>=0)||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Yi(this,K)}};function Yi(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Tl(h),rr(h)}function Tl(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,kt(this,"complete"),kt(this,"abort"),rr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ki(this):this.Xa())},s.Xa=function(){Ki(this)};function Ki(h){if(h.h&&typeof u<"u"){if(h.v&&ls(h)==4)setTimeout(h.Ca.bind(h),0);else if(kt(h,"readystatechange"),ls(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var A;if(A=K===0){let oe=String(h.D).match(gu)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),A=!Ls.test(oe?oe.toLowerCase():"")}_=A}if(_)kt(h,"complete"),kt(h,"success");else{h.o=6;try{var q=ls(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Tl(h)}}finally{rr(h)}}}}function rr(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,x||kt(h,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ls(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),hf(x)}};function qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const x={};h=(h.g&&ls(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var _=fu(h[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=x[q]||[];x[q]=K,K.push(_)}re(x,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function Hr(h){this.za=0,this.i=[],this.j=new ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vs("baseRetryDelayMs",5e3,h),this.Za=Vs("retryDelaySeedMs",1e4,h),this.Ta=Vs("forwardChannelMaxRetries",2,h),this.va=Vs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(h&&h.concurrentRequestLimit),this.Ba=new Fr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Hr.prototype,s.ka=8,s.I=1,s.connect=function(h,x,_,A){Tt(0),this.W=h,this.H=x||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Au(this,null,this.W),Us(this)};function Nl(h){if(Qa(h),h.I==3){var x=h.V++,_=At(h.J);if(Qe(_,"SID",h.M),Qe(_,"RID",x),Qe(_,"TYPE","terminate"),Qi(h,_),x=new rs(h,h.j,x),x.M=2,x.A=qi(At(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=x.A,_=!0),_||(x.g=ju(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Cs(x)}Su(h)}function Gr(h){h.g&&(Al(h),h.g.cancel(),h.g=null)}function Qa(h){Gr(h),h.v&&(d.clearTimeout(h.v),h.v=null),Wa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Us(h){if(!ml(h.h)&&!h.m){h.m=!0;var x=h.Ea;ae||E(),ce||(ae(),ce=!0),C.add(x,h),h.D=0}}function Xa(h,x){return Ms(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=As(y(h.Ea,h,x),Nu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new rs(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ue(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,x>4096){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=_u(this,q,x),_=At(this.J),Qe(_,"RID",h),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),Qi(this,_),K&&(this.R?x="headers="+sr(zn(K))+"&"+x:this.u&&$i(_,this.u,K)),pl(this.h,q),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",x),Qe(_,"SID","null"),q.U=!0,Rs(q,_,null)):Rs(q,_,x),this.I=2}}else this.I==3&&(h?Sl(this,h):this.i.length==0||ml(this.h)||Sl(this))};function Sl(h,x){var _;x?_=x.l:_=h.V++;const A=At(h.J);Qe(A,"SID",h.M),Qe(A,"RID",_),Qe(A,"AID",h.K),Qi(h,A),h.u&&h.o&&$i(A,h.u,h.o),_=new rs(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),x&&(h.i=x.G.concat(h.i)),x=_u(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),pl(h.h,_),Rs(_,A,x)}function Qi(h,x){h.H&&De(h.H,function(_,A){Qe(x,A,_)}),h.l&&De({},function(_,A){Qe(x,A,_)})}function _u(h,x,_){_=Math.min(h.i.length,_);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let je=-1;for(;;){const vt=["count="+_];je==-1?_>0?(je=q[0].g,vt.push("ofs="+je)):je=0:vt.push("ofs="+je);let $e=!0;for(let ct=0;ct<_;ct++){var K=q[ct].g;const Bn=q[ct].map;if(K-=je,K<0)je=Math.max(0,q[ct].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var oe=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Bs,cs]of oe){let us=cs;p(cs)&&(us=Lr(cs)),vt.push(K+Bs+"="+encodeURIComponent(us))}}catch(Bs){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Bs}}catch{A&&A(Bn)}}if($e){oe=vt.join("&");break e}}oe=void 0}return h=h.i.splice(0,_),x.G=h,oe}function wu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ae||E(),ce||(ae(),ce=!0),C.add(x,h),h.A=0}}function Xi(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=As(y(h.Da,h),Nu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=As(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Gr(this),Eu(this))};function Al(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Eu(h){h.g=new rs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=At(h.na);Qe(x,"RID","rpc"),Qe(x,"SID",h.M),Qe(x,"AID",h.K),Qe(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(x,"TO",h.ia),Qe(x,"TYPE","xmlhttp"),Qi(h,x),h.u&&h.o&&$i(x,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=qi(At(x)),_.u=null,_.R=!0,Fa(_,h)}s.Va=function(){this.C!=null&&(this.C=null,Gr(this),Xi(this),Tt(19))};function Wa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Tu(h,x){var _=null;if(h.g==x){Wa(h),Al(h),h.g=null;var A=2}else if(Os(h.h,x))_=x.G,gl(h.h,x),A=1;else return;if(h.I!=0){if(x.o)if(A==1){_=x.u?x.u.length:0,x=Date.now()-x.F;var q=h.D;A=Ba(),kt(A,new Ss(A,_)),Us(h)}else wu(h);else if(q=x.m,q==3||q==0&&x.X>0||!(A==1&&Xa(h,x)||A==2&&Xi(h)))switch(_&&_.length>0&&(x=h.h,x.i=x.i.concat(_)),q){case 1:zs(h,5);break;case 4:zs(h,10);break;case 3:zs(h,6);break;default:zs(h,2)}}}function Nu(h,x){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*x}function zs(h,x){if(h.j.info("Error code "+x),x==2){var _=y(h.bb,h),A=h.Ua;const q=!A;A=new Sn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(A,"https"),qi(A),q?as(A.toString(),_):wl(A.toString(),_)}else Tt(2);h.I=0,h.l&&h.l.pa(x),Su(h),Qa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Su(h){if(h.I=0,h.ja=[],h.l){const x=yl(h.h);(x.length!=0||h.i.length!=0)&&(F(h.ja,x),F(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function Au(h,x,_){var A=_ instanceof Sn?At(_):new Sn(_);if(A.g!="")x&&(A.g=x+"."+A.g),Vr(A,A.u);else{var q=d.location;A=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const K=new Sn(null);A&&Ut(K,A),x&&(K.g=x),q&&Vr(K,q),_&&(K.h=_),A=K}return _=h.G,x=h.wa,_&&x&&Qe(A,_,x),Qe(A,"VER",h.ka),Qi(h,A),A}function ju(h,x,_){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Je(new Ps({ab:_})):new Je(h.ma),x.Fa(h.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $r(){}$r.prototype.g=function(h,x){return new an(h,x)};function an(h,x){Et.call(this),this.g=new Hr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!R(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ar(this)}w(an,Et),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Nl(this.g)},an.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=Lr(h),h=_);x.i.push(new St(x.Ya++,h)),x.I==3&&Us(x)},an.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,an.Z.N.call(this)};function Cu(h){Ft.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}w(Cu,Ft);function Iu(){Ln.call(this),this.status=1}w(Iu,Ln);function ar(h){this.g=h}w(ar,Ru),ar.prototype.ra=function(){kt(this.g,"a")},ar.prototype.qa=function(h){kt(this.g,new Cu(h))},ar.prototype.pa=function(h){kt(this.g,new Iu)},ar.prototype.oa=function(){kt(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Qw=function(){return new $r},Kw=function(){return Ba()},Yw=xt,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Xd=Bi,dl.COMPLETE="complete",$w=dl,cu.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Et.prototype.listen=Et.prototype.J,yc=cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Gw=Je}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let tl="12.8.0";function S4(s){tl=s}const Sa=new Ph("@firebase/firestore");function Co(){return Sa.logLevel}function fe(s,...e){if(Sa.logLevel<=Ve.DEBUG){const n=e.map(Bg);Sa.debug(`Firestore (${tl}): ${s}`,...n)}}function Ir(s,...e){if(Sa.logLevel<=Ve.ERROR){const n=e.map(Bg);Sa.error(`Firestore (${tl}): ${s}`,...n)}}function Ho(s,...e){if(Sa.logLevel<=Ve.WARN){const n=e.map(Bg);Sa.warn(`Firestore (${tl}): ${s}`,...n)}}function Bg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function we(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Xw(s,i,n)}function Xw(s,e,n){let i=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ir(i),new Error(i)}function Ke(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||Xw(e,o,i)}function Se(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ww{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class j4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class R4{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new Ww(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class C4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M4(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}class Fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=M4(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Ue(s,e){return s<e?-1:s>e?1:0}function Kp(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const o=s.charAt(i),u=e.charAt(i);if(o!==u)return jp(o)===jp(u)?Ue(o,u):jp(o)?1:-1}return Ue(s.length,e.length)}const O4=55296,k4=57343;function jp(s){const e=s.charCodeAt(0);return e>=O4&&e<=k4}function Go(s,e,n){return s.length===e.length&&s.every(((i,o)=>n(i,e[o])))}const W0="__name__";class $s{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return $s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=$s.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const i=$s.isNumericId(e),o=$s.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?$s.extractNumericId(e).compare($s.extractNumericId(n)):Kp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class it extends $s{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends $s{construct(e,n,i){return new Xt(e,n,i)}static isValidIdentifier(e){return P4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new Xt([W0])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(u(),o++)}if(u(),d)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function Jw(s,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function L4(s,e,n,i){if(e===!0&&i===!0)throw new de(ee.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function J0(s){if(!ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Z0(s){if(ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Zw(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function Wn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(s);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function V4(s,e){if(e<=0)throw new de(ee.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function Wc(s,e){if(!Zw(s))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const d=s[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const e_=-62135596800,t_=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*t_);return new lt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e_)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ot("string",lt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new lt(0,0))}static max(){return new Te(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mc=-1;function U4(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new lt(n+1,0):new lt(n,i));return new ji(o,ve.empty(),e)}function z4(s){return new ji(s.readTime,s.key,Mc)}class ji{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ji(Te.min(),ve.empty(),Mc)}static max(){return new ji(Te.max(),ve.empty(),Mc)}}function B4(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const F4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nl(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==F4)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,i)=>{n(e)}))}static reject(e){return new se(((n,i)=>{i(e)}))}static waitFor(e){return new se(((n,i)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(g=>i(g)))})),d=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next((o=>o?se.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new se(((i,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{d[y]=b,++p,p===u&&i(d)}),(b=>o(b)))}}))}static doWhile(e,n){return new se(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function H4(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(s){return s.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const qg=-1;function Gh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function G4(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const eE="";function $4(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=n_(e)),e=Y4(s.get(n),e);return n_(e)}function Y4(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case eE:n+="";break;default:n+=u}}return n}function n_(s){return s+eE+""}function s_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ki(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function tE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Qt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Lt(Xt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nE("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const K4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=K4.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ci(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const sE="server_timestamp",rE="__type__",iE="__previous_value__",aE="__local_write_time__";function Hg(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===sE}function $h(s){const e=s.mapValue.fields[iE];return Hg(e)?$h(e):e}function Oc(s){const e=Ri(s.mapValue.fields[aE].timestampValue);return new lt(e.seconds,e.nanos)}class Q4{constructor(e,n,i,o,u,d,p,g,y,b,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const xh="(default)";class kc{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}function X4(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(s.options.projectId,e)}const oE="__type__",W4="__max__",Ud={mapValue:{}},lE="__vector__",vh="value";function Ii(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hg(s)?4:Z4(s)?9007199254740991:J4(s)?10:11:we(28295,{value:s})}function Js(s,e){if(s===e)return!0;const n=Ii(s);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Oc(s).isEqual(Oc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Ri(o.timestampValue),p=Ri(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Ci(o.bytesValue).isEqual(Ci(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=wt(o.doubleValue),p=wt(u.doubleValue);return d===p?yh(d)===yh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Go(s.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(s_(d)!==s_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Js(d[g],p[g])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function Pc(s,e){return(s.values||[]).find((n=>Js(n,e)))!==void 0}function $o(s,e){if(s===e)return 0;const n=Ii(s),i=Ii(e);if(n!==i)return Ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=wt(u.integerValue||u.doubleValue),g=wt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return i_(s.timestampValue,e.timestampValue);case 4:return i_(Oc(s),Oc(e));case 5:return Kp(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Ci(u),g=Ci(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Ue(p[y],g[y]);if(b!==0)return b}return Ue(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ue(wt(u.latitude),wt(d.latitude));return p!==0?p:Ue(wt(u.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return a_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[vh]?.arrayValue,b=g[vh]?.arrayValue,w=Ue(y?.values?.length||0,b?.values?.length||0);return w!==0?w:a_(y,b)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ud.mapValue&&d===Ud.mapValue)return 0;if(u===Ud.mapValue)return 1;if(d===Ud.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const j=Kp(g[w],b[w]);if(j!==0)return j;const k=$o(p[g[w]],y[b[w]]);if(k!==0)return k}return Ue(g.length,b.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function i_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=Ri(s),i=Ri(e),o=Ue(n.seconds,i.seconds);return o!==0?o:Ue(n.nanos,i.nanos)}function a_(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=$o(n[o],i[o]);if(u)return u}return Ue(n.length,i.length)}function Yo(s){return Qp(s)}function Qp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=Ri(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ci(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Qp(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${Qp(n.fields[d])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function Wd(s){switch(Ii(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(s);return e?16+Wd(e):16;case 5:return 2*s.stringValue.length;case 6:return Ci(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Wd(u)),0)})(s.arrayValue);case 10:case 11:return(function(i){let o=0;return ki(i.fields,((u,d)=>{o+=u.length+Wd(d)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function o_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Xp(s){return!!s&&"integerValue"in s}function Gg(s){return!!s&&"arrayValue"in s}function l_(s){return!!s&&"nullValue"in s}function c_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jd(s){return!!s&&"mapValue"in s}function J4(s){return(s?.mapValue?.fields||{})[oE]?.stringValue===lE}function Tc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ki(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Tc(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(s.arrayValue.values[n]);return e}return{...s}}function Z4(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===W4}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Xt.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=Tc(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ki(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new wn(Tc(this.value))}}function cE(s){const e=[];return ki(s.fields,((n,i)=>{const o=new Xt([n]);if(Jd(i)){const u=cE(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new On(e)}class nn{constructor(e,n,i,o,u,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,Te.min(),Te.min(),Te.min(),wn.empty(),0)}static newFoundDocument(e,n,i,o){return new nn(e,1,n,Te.min(),i,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Te.min(),Te.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Te.min(),Te.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,n){this.position=e,this.inclusive=n}}function u_(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?i=ve.comparator(ve.fromName(d.referenceValue),n.key):i=$o(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function d_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Js(s.position[n],e.position[n]))return!1;return!0}class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function e3(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class uE{}class Mt extends uE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new n3(e,n,i):n==="array-contains"?new i3(e,i):n==="in"?new a3(e,i):n==="not-in"?new o3(e,i):n==="array-contains-any"?new l3(e,i):new Mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new s3(e,i):new r3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends uE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _s(e,n)}matches(e){return dE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(s){return s.op==="and"}function hE(s){return t3(s)&&dE(s)}function t3(s){for(const e of s.filters)if(e instanceof _s)return!1;return!0}function Wp(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+Yo(s.value);if(hE(s))return s.filters.map((e=>Wp(e))).join(",");{const e=s.filters.map((n=>Wp(n))).join(",");return`${s.op}(${e})`}}function fE(s,e){return s instanceof Mt?(function(i,o){return o instanceof Mt&&i.op===o.op&&i.field.isEqual(o.field)&&Js(i.value,o.value)})(s,e):s instanceof _s?(function(i,o){return o instanceof _s&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,p)=>u&&fE(d,o.filters[p])),!0):!1})(s,e):void we(19439)}function mE(s){return s instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(s):s instanceof _s?(function(n){return n.op.toString()+" {"+n.getFilters().map(mE).join(" ,")+"}"})(s):"Filter"}class n3 extends Mt{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class s3 extends Mt{constructor(e,n){super(e,"in",n),this.keys=pE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class r3 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=pE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pE(s,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class i3 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Pc(n.arrayValue,this.value)}}class a3 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class o3 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pc(this.value.arrayValue,n)}}class l3 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Pc(this.value.arrayValue,i)))}}class c3{constructor(e,n=null,i=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function h_(s,e=null,n=[],i=[],o=null,u=null,d=null){return new c3(s,e,n,i,o,u,d)}function $g(s){const e=Se(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Wp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Yo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Yo(i))).join(",")),e.Te=n}return e.Te}function Yg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!e3(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!d_(s.startAt,e.startAt)&&d_(s.endAt,e.endAt)}function Jp(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class rl{constructor(e,n=null,i=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function u3(s,e,n,i,o,u,d,p){return new rl(s,e,n,i,o,u,d,p)}function Yh(s){return new rl(s)}function f_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function d3(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function gE(s){return s.collectionGroup!==null}function Nc(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Lt(Xt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Lc(u,i))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Lc(Xt.keyField(),i))}return e.Ie}function Ks(s){const e=Se(s);return e.Ee||(e.Ee=h3(e,Nc(s))),e.Ee}function h3(s,e){if(s.limitType==="F")return h_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lc(o.field,u)}));const n=s.endAt?new bh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new bh(s.startAt.position,s.startAt.inclusive):null;return h_(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Zp(s,e){const n=s.filters.concat([e]);return new rl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function f3(s,e){const n=s.explicitOrderBy.concat([e]);return new rl(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function _h(s,e,n){return new rl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Kh(s,e){return Yg(Ks(s),Ks(e))&&s.limitType===e.limitType}function yE(s){return`${$g(Ks(s))}|lt:${s.limitType}`}function Io(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>mE(o))).join(", ")}]`),Gh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Yo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Yo(o))).join(",")),`Target(${i})`})(Ks(s))}; limitType=${s.limitType})`}function Qh(s,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ve.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,e)&&(function(i,o){for(const u of Nc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(i,o){return!(i.startAt&&!(function(d,p,g){const y=u_(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,Nc(i),o)||i.endAt&&!(function(d,p,g){const y=u_(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,Nc(i),o))})(s,e)}function m3(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(e,n)=>{let i=!1;for(const o of Nc(s)){const u=p3(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function p3(s,e,n){const i=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?$o(g,y):we(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:s.dir})}}class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}const g3=new ft(ve.comparator);function Dr(){return g3}const vE=new ft(ve.comparator);function xc(...s){let e=vE;for(const n of s)e=e.insert(n.key,n);return e}function bE(s){let e=vE;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function va(){return Sc()}function _E(){return Sc()}function Sc(){return new ka((s=>s.toString()),((s,e)=>s.isEqual(e)))}const y3=new ft(ve.comparator),x3=new Lt(ve.comparator);function ze(...s){let e=x3;for(const n of s)e=e.add(n);return e}const v3=new Lt(Ue);function b3(){return v3}function Kg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function wE(s){return{integerValue:""+s}}function _3(s,e){return G4(e)?wE(e):Kg(s,e)}class Xh{constructor(){this._=void 0}}function w3(s,e,n){return s instanceof Vc?(function(o,u){const d={fields:{[rE]:{stringValue:sE},[aE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hg(u)&&(u=$h(u)),u&&(d.fields[iE]=u),{mapValue:d}})(n,e):s instanceof Uc?TE(s,e):s instanceof zc?NE(s,e):(function(o,u){const d=EE(o,u),p=m_(d)+m_(o.Ae);return Xp(d)&&Xp(o.Ae)?wE(p):Kg(o.serializer,p)})(s,e)}function E3(s,e,n){return s instanceof Uc?TE(s,e):s instanceof zc?NE(s,e):n}function EE(s,e){return s instanceof wh?(function(i){return Xp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Vc extends Xh{}class Uc extends Xh{constructor(e){super(),this.elements=e}}function TE(s,e){const n=SE(e);for(const i of s.elements)n.some((o=>Js(o,i)))||n.push(i);return{arrayValue:{values:n}}}class zc extends Xh{constructor(e){super(),this.elements=e}}function NE(s,e){let n=SE(e);for(const i of s.elements)n=n.filter((o=>!Js(o,i)));return{arrayValue:{values:n}}}class wh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m_(s){return wt(s.integerValue||s.doubleValue)}function SE(s){return Gg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class T3{constructor(e,n){this.field=e,this.transform=n}}function N3(s,e){return s.field.isEqual(e.field)&&(function(i,o){return i instanceof Uc&&o instanceof Uc||i instanceof zc&&o instanceof zc?Go(i.elements,o.elements,Js):i instanceof wh&&o instanceof wh?Js(i.Ae,o.Ae):i instanceof Vc&&o instanceof Vc})(s.transform,e.transform)}class S3{constructor(e,n){this.version=e,this.transformResults=n}}class Qs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wh{}function AE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new RE(s.key,Qs.none()):new Jc(s.key,s.data,Qs.none());{const n=s.data,i=wn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Pi(s.key,i,new On(o.toArray()),Qs.none())}}function A3(s,e,n){s instanceof Jc?(function(o,u,d){const p=o.value.clone(),g=g_(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Pi?(function(o,u,d){if(!Zd(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=g_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(jE(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Ac(s,e,n,i){return s instanceof Jc?(function(u,d,p,g){if(!Zd(u.precondition,d))return p;const y=u.value.clone(),b=y_(u.fieldTransforms,g,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,i):s instanceof Pi?(function(u,d,p,g){if(!Zd(u.precondition,d))return p;const y=y_(u.fieldTransforms,g,d),b=d.data;return b.setAll(jE(u)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,i):(function(u,d,p){return Zd(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function j3(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),u=EE(i.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(i.field,u))}return n||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Go(i,o,((u,d)=>N3(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jc extends Wh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pi extends Wh{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function g_(s,e,n){const i=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);i.set(u.field,E3(d,p,n[o]))}return i}function y_(s,e,n){const i=new Map;for(const o of s){const u=o.transform,d=n.data.field(o.field);i.set(o.field,w3(u,d,e))}return i}class RE extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R3 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C3{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A3(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=_E();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const g=AE(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,((n,i)=>p_(n,i)))&&Go(this.baseMutations,e.baseMutations,((n,i)=>p_(n,i)))}}class Qg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return y3})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new Qg(e,n,i,o)}}class I3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class D3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Fe;function M3(s){switch(s){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function CE(s){if(s===void 0)return Ir("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:s})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function O3(){return new TextEncoder}const k3=new Ti([4294967295,4294967295],0);function x_(s){const e=O3().encode(s),n=new Hw;return n.update(e),new Uint8Array(n.digest())}function v_(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ti([n,i],0),new Ti([o,u],0)]}class Xg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(i<0)throw new vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ti.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ti.fromNumber(i)));return o.compare(k3)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x_(e),[i,o]=v_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Xg(u,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=x_(e),[i,o]=v_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Jh(Te.min(),o,new ft(Ue),Dr(),ze())}}class Zc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zc(i,n,ze(),ze(),ze())}}class eh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class IE{constructor(e,n){this.targetId=e,this.Ce=n}}class DE{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class b_{constructor(){this.ve=0,this.Fe=__(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),i=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:u})}})),new Zc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=__()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.He=zd(),this.Je=zd(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jp(u))if(i===0){const d=new ve(u.path);this.et(n,d,nn.newNoDocument(d,Te.min()))}else Ke(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=Ci(i).toUint8Array()}catch(g){if(g instanceof nE)return Ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Xg(d,o,u)}catch(g){return Ho(g instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Jp(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,nn.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=ze();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,i);return this.je=Dr(),this.He=zd(),this.Je=zd(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new b_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zd(){return new ft(ve.comparator)}function __(){return new ft(ve.comparator)}const L3={asc:"ASCENDING",desc:"DESCENDING"},V3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U3={and:"AND",or:"OR"};class z3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(s,e){return s.useProto3Json||Gh(e)?e:{value:e}}function Eh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function B3(s,e){return Eh(s,e.toTimestamp())}function Xs(s){return Ke(!!s,49232),Te.fromTimestamp((function(n){const i=Ri(n);return new lt(i.seconds,i.nanos)})(s))}function Wg(s,e){return tg(s,e).canonicalString()}function tg(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function OE(s){const e=it.fromString(s);return Ke(UE(e),10190,{key:e.toString()}),e}function ng(s,e){return Wg(s.databaseId,e.path)}function Rp(s,e){const n=OE(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(PE(n))}function kE(s,e){return Wg(s.databaseId,e)}function F3(s){const e=OE(s);return e.length===4?it.emptyPath():PE(e)}function sg(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function PE(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w_(s,e,n){return{name:ng(s,e),fields:n.value.mapValue.fields}}function q3(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?ee.UNKNOWN:CE(y.code);return new de(b,y.message||"")})(d);n=new DE(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rp(s,i.document.name),u=Xs(i.document.updateTime),d=i.document.createTime?Xs(i.document.createTime):Te.min(),p=new wn({mapValue:{fields:i.document.fields}}),g=nn.newFoundDocument(o,u,d,p),y=i.targetIds||[],b=i.removedTargetIds||[];n=new eh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Rp(s,i.document),u=i.readTime?Xs(i.readTime):Te.min(),d=nn.newNoDocument(o,u),p=i.removedTargetIds||[];n=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Rp(s,i.document),u=i.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new D3(o,u),p=i.targetId;n=new IE(p,d)}}return n}function H3(s,e){let n;if(e instanceof Jc)n={update:w_(s,e.key,e.value)};else if(e instanceof RE)n={delete:ng(s,e.key)};else if(e instanceof Pi)n={update:w_(s,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof R3))return we(16599,{dt:e.type});n={verify:ng(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const p=d.transform;if(p instanceof Vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:B3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(s,e.precondition)),n}function G3(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(o,u){let d=o.updateTime?Xs(o.updateTime):Xs(u);return d.isEqual(Te.min())&&(d=Xs(u)),new S3(d,o.transformResults||[])})(n,e)))):[]}function $3(s,e){return{documents:[kE(s,e.path)]}}function Y3(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kE(s,o);const u=(function(y){if(y.length!==0)return VE(_s.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((b=>(function(j){return{field:Do(j.field),direction:X3(j.dir)}})(b)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=eg(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function K3(s){let e=F3(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const j=LE(w);return j instanceof _s&&hE(j)?j.getFilters():[j]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((j=>(function(F){return new Lc(Mo(F.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(j)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let j;return j=typeof w=="object"?w.value:w,Gh(j)?null:j})(n.limit));let g=null;n.startAt&&(g=(function(w){const j=!!w.before,k=w.values||[];return new bh(k,j)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const j=!w.before,k=w.values||[];return new bh(k,j)})(n.endAt)),u3(e,o,d,u,p,"F",g,y)}function Q3(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Mo(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Mo(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mo(n.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Mt.create(Mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return _s.create(n.compositeFilter.filters.map((i=>LE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(s):we(30097,{filter:s})}function X3(s){return L3[s]}function W3(s){return V3[s]}function J3(s){return U3[s]}function Do(s){return{fieldPath:s.canonicalString()}}function Mo(s){return Xt.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof Mt?(function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:W3(n.op),value:n.value}}})(s):s instanceof _s?(function(n){const i=n.getFilters().map((o=>VE(o)));return i.length===1?i[0]:{compositeFilter:{op:J3(n.op),filters:i}}})(s):we(54877,{filter:s})}function Z3(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function zE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class bi{constructor(e,n,i,o,u=Te.min(),d=Te.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eD{constructor(e){this.yt=e}}function tD(s){const e=K3({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_h(e,e.limit,"L"):e}class nD{constructor(){this.Sn=new sD}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ji.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class sD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Lt(it.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(it.comparator)).toArray()}}const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(BE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Ko{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ko(0)}static ar(){return new Ko(-1)}}const T_="LruGarbageCollector",rD=1048576;function N_([s,e],[n,i]){const o=Ue(s,n);return o===0?Ue(e,i):o}class iD{constructor(e){this.Pr=e,this.buffer=new Lt(N_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();N_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?fe(T_,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.Ar(3e5)}))}}class oD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Hh.ce);const i=new iD(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(E_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(i=w,p=Date.now(),this.removeTargets(e,i,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),Co()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function lD(s,e){return new oD(s,e)}class cD{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Ac(i.mutation,o,On.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ze()){const o=va();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=xc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=va();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ze())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let u=Dr();const d=Sc(),p=(function(){return Sc()})();return n.forEach(((g,y)=>{const b=i.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Pi)?u=u.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ac(b.mutation,y,b.mutation.getFieldMask(),lt.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>d.set(y,b))),n.forEach(((y,b)=>p.set(y,new uD(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Sc();let o=new ft(((d,p)=>d-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=i.get(g)||On.empty();b=p.applyToLocalView(y,b),i.set(g,b);const w=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,w=_E();b.forEach((j=>{if(!u.has(j)){const k=AE(n.get(j),i.get(j));k!==null&&w.set(j,k),u=u.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return se.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return d3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):se.resolve(va());let p=Mc,g=u;return d.next((y=>se.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(b)?se.resolve():this.remoteDocumentCache.getEntry(e,b).next((j=>{g=g.insert(b,j)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ze()))).next((b=>({batchId:p,changes:bE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let o=xc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=xc();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(g=>{const y=(function(w,j){return new rl(j,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((b=>{b.forEach(((w,j)=>{d=d.insert(w,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((g,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,nn.newInvalidDocument(b)))}));let p=xc();return d.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&Ac(b.mutation,y,On.empty(),lt.now()),Qh(n,y)&&(p=p.insert(g,y))})),p}))}}class hD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xs(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:tD(o.bundledQuery),readTime:Xs(o.readTime)}})(n)),se.resolve()}}class fD{constructor(){this.overlays=new ft(ve.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=va();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const o=va(),u=n.length+1,d=new ve(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ft(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let b=u.get(y.largestBatchId);b===null&&(b=va(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=va(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return se.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new I3(n,i));let u=this.Lr.get(n);u===void 0&&(u=ze(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class mD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Jg{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Bt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ve(new it([])),i=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new it([])),i=new Bt(n,e),o=new Bt(n,e+1);let u=ze();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Bt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class pD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C3(u,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Bt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?qg:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Lt(Ue);return n.forEach((o=>{const u=new Bt(o,0),d=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{i=i.add(p.Hr)}))})),se.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ve.isDocumentKey(u)||(u=u.child(""));const d=new Bt(new ve(u),0);let p=new Lt(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),d),se.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return se.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Bt(n,0),o=this.Jr.firstAfterOrEqual(i);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gD{constructor(e){this.ti=e,this.docs=(function(){return new ft(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let i=Dr();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Dr();const d=n.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||B4(z4(b),i)<=0||(o.has(b.key)||Qh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,i,o){we(9500)}ni(e,n){return se.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new yD(this)}getSize(e){return se.resolve(this.size)}}class yD extends cD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class xD{constructor(e){this.persistence=e,this.ri=new ka((n=>$g(n)),Yg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Jg,this.targetCount=0,this.oi=Ko._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),se.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class FE{constructor(e,n){this._i={},this.overlays={},this.ai=new Hh(0),this.ui=!1,this.ui=!0,this.ci=new mD,this.referenceDelegate=e(this),this.li=new xD(this),this.indexManager=new nD,this.remoteDocumentCache=(function(o){return new gD(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new eD(n),this.Pi=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new pD(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const o=new vD(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return se.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class vD extends q4{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ri=new Jg,this.Ai=null}static Vi(e){return new Zg(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(i=>{const o=ve.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new ka((i=>$4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=lD(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(i++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wd(e.data.value)),n}wr(e,n,i){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ey{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ey(e,n.fromCache,i,o)}}class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _D{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gA()?8:H4(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new bD;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Co()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Co()<=Ve.DEBUG&&fe("QueryEngine","Query:",Io(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Co()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):se.resolve())}gs(e,n){if(f_(n))return se.resolve(null);let i=Ks(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),i=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=ze(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,_h(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return f_(n)||o.isEqual(Te.min())?se.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?se.resolve(null):(Co()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.Ds(e,d,n,U4(o,Mc)).next((p=>p)))}))}bs(e,n){let i=new Lt(xE(e));return n.forEach(((o,u)=>{Qh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return Co()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Io(n)),this.fs.getDocumentsMatchingQuery(e,n,ji.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ty="LocalStore",wD=3e8;class ED{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new ka((u=>$g(u)),Yg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function TD(s,e,n,i){return new ED(s,e,n,i)}async function qE(s,e){const n=Se(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],p=[];let g=ze();for(const y of o){d.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function ND(s,e){const n=Se(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const w=y.batch,j=w.keys();let k=se.resolve();return j.forEach((F=>{k=k.next((()=>b.getEntry(g,F))).next((L=>{const O=y.docVersions.get(F);Ke(O!==null,48541),L.version.compareTo(O)<0&&(w.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),b.addEntry(L)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function HE(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function SD(s,e){const n=Se(s),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((b,w)=>{const j=o.get(w);if(!j)return;p.push(n.li.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,w))));let k=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,i)),o=o.insert(w,k),(function(L,O,H){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=wD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(j,k,b)&&p.push(n.li.updateTargetData(u,k))}));let g=Dr(),y=ze();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(AD(u,d,e.documentUpdates).next((b=>{g=b.Bs,y=b.Ls}))),!i.isEqual(Te.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(b)}return se.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function AD(s,e,n){let i=ze(),o=ze();return n.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let d=Dr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):fe(ty,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function jD(s,e){const n=Se(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function RD(s,e){const n=Se(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,se.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new bi(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function rg(s,e,n){const i=Se(s),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!sl(d))throw d;fe(ty,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function S_(s,e,n){const i=Se(s);let o=Te.min(),u=ze();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,b){const w=Se(g),j=w.Fs.get(b);return j!==void 0?se.resolve(w.vs.get(j)):w.li.getTargetData(y,b)})(i,d,Ks(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:Te.min(),n?u:ze()))).next((p=>(CD(i,m3(e),p),{documents:p,ks:u})))))}function CD(s,e,n){let i=s.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.Ms.set(e,i)}class A_{constructor(){this.activeTargetIds=b3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.vo=new A_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new A_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DD{Mo(e){}shutdown(){}}const j_="ConnectivityMonitor";class R_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(j_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(j_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bd=null;function ig(){return Bd===null?Bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bd++,"0x"+Bd.toString(16)}const Cp="RestConnection",MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===xh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=ig(),p=this.Qo(e,n.toUriEncodedString());fe(Cp,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),b=Da(y);return this.zo(e,p,g,i,b).then((w=>(fe(Cp,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Ho(Cp,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",i),w}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=MD[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class kD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",fc=(s,e,n)=>{s.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Bo extends OD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Bo.c_){const e=Kw();fc(e,Yw.STAT_EVENT,(n=>{n.stat===Yp.PROXY?fe(en,"STAT_EVENT: detected buffering proxy"):n.stat===Yp.NOPROXY&&fe(en,"STAT_EVENT: detected no buffering proxy")})),Bo.c_=!0}}zo(e,n,i,o,u){const d=ig();return new Promise(((p,g)=>{const y=new Gw;y.setWithCredentials(!0),y.listenOnce($w.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xd.NO_ERROR:const w=y.getResponseJson();fe(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Xd.TIMEOUT:fe(en,`RPC '${e}' ${d} timed out`),g(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const j=y.getStatus();if(fe(en,`RPC '${e}' ${d} failed with status:`,j,"response text:",y.getResponseText()),j>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const L=(function(H){const J=H.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(F.status);g(new de(L,F.message))}else g(new de(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(en,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);fe(en,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",b,i,15)}))}T_(e,n,i){const o=ig(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,j=!1;const k=new kD({Ho:F=>{j?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(w||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(en,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Jo:()=>b.close()});return fc(b,yc.EventType.OPEN,(()=>{j||(fe(en,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),fc(b,yc.EventType.CLOSE,(()=>{j||(j=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(b))})),fc(b,yc.EventType.ERROR,(F=>{j||(j=!0,Ho(en,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.o_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),fc(b,yc.EventType.MESSAGE,(F=>{if(!j){const L=F.data[0];Ke(!!L,16349);const O=L,H=O?.error||O[0]?.error;if(H){fe(en,`RPC '${e}' stream ${o} received error:`,H);const J=H.status;let U=(function(ce){const C=Dt[ce];if(C!==void 0)return CE(C)})(J),ie=H.message;U===void 0&&(U=ee.INTERNAL,ie="Unknown error status: "+J+" with message "+H.message),j=!0,k.o_(new de(U,ie)),b.close()}else fe(en,`RPC '${e}' stream ${o} received:`,L),k.__(L)}})),Bo.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Qw()}}function PD(s){return new Bo(s)}function Ip(){return typeof document<"u"?document:null}function Zh(s){return new z3(s,!0)}Bo.c_=!1;class GE{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const C_="PersistentStream";class $E{constructor(e,n,i,o,u,d,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LD extends $E{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q3(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Xs(d.readTime):Te.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=sg(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=Jp(g)?{documents:$3(u,g)}:{query:Y3(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ME(u,d.resumeToken);const y=eg(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=Eh(u,d.snapshotVersion.toTimestamp());const y=eg(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=Q3(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.K_(n)}}class VD extends $E{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G3(e.writeResults,e.commitTime),i=Xs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=sg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>H3(this.serializer,i)))};this.K_(n)}}class UD{}class zD extends UD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,tg(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,tg(n,i),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BD(s,e,n,i){return new zD(s,e,n,i)}class FD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class qD{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{Pa(this)&&(fe(Aa,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Va=new FD(i,o)}}async function ef(s){if(Pa(s))for(const e of s.Ra)await e(!0)}async function eu(s){for(const e of s.Ra)await e(!1)}function YE(s,e){const n=Se(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iy(n)?ry(n):il(n).O_()&&sy(n,e))}function ny(s,e){const n=Se(s),i=il(n);n.Ia.delete(e),i.O_()&&KE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Pa(n)&&n.Va.set("Unknown"))}function sy(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(s).Z_(e)}function KE(s,e){s.da.$e(e),il(s).X_(e)}function ry(s){s.da=new P3({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),il(s).start(),s.Va.ua()}function iy(s){return Pa(s)&&!il(s).x_()&&s.Ia.size>0}function Pa(s){return Se(s).Ea.size===0}function QE(s){s.da=void 0}async function HD(s){s.Va.set("Online")}async function GD(s){s.Ia.forEach(((e,n)=>{sy(s,e)}))}async function $D(s,e){QE(s),iy(s)?(s.Va.ha(e),ry(s)):s.Va.set("Unknown")}async function YD(s,e,n){if(s.Va.set("Online"),e instanceof DE&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(i){fe(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Nh(s,i)}else if(e instanceof eh?s.da.Xe(e):e instanceof IE?s.da.st(e):s.da.tt(e),!n.isEqual(Te.min()))try{const i=await HE(s.localStore);n.compareTo(i)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),KE(u,g);const w=new bi(b.target,g,y,b.sequenceNumber);sy(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(i){fe(Aa,"Failed to raise snapshot:",i),await Nh(s,i)}}async function Nh(s,e,n){if(!sl(e))throw e;s.Ea.add(1),await eu(s),s.Va.set("Offline"),n||(n=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Aa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ef(s)}))}function XE(s,e){return e().catch((n=>Nh(s,n,e)))}async function tf(s){const e=Se(s),n=Di(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qg;for(;KD(e);)try{const o=await jD(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,QD(e,o)}catch(o){await Nh(e,o)}WE(e)&&JE(e)}function KD(s){return Pa(s)&&s.Ta.length<10}function QD(s,e){s.Ta.push(e);const n=Di(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function WE(s){return Pa(s)&&!Di(s).x_()&&s.Ta.length>0}function JE(s){Di(s).start()}async function XD(s){Di(s).ra()}async function WD(s){const e=Di(s);for(const n of s.Ta)e.ea(n.mutations)}async function JD(s,e,n){const i=s.Ta.shift(),o=Qg.from(i,e,n);await XE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await tf(s)}async function ZD(s,e){e&&Di(s).Y_&&await(async function(i,o){if((function(d){return M3(d)&&d!==ee.ABORTED})(o.code)){const u=i.Ta.shift();Di(i).B_(),await XE(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(i)}})(s,e),WE(s)&&JE(s)}async function I_(s,e){const n=Se(s);n.asyncQueue.verifyOperationInProgress(),fe(Aa,"RemoteStore received new credentials");const i=Pa(n);n.Ea.add(3),await eu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function eM(s,e){const n=Se(s);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await eu(n),n.Va.set("Unknown"))}function il(s){return s.ma||(s.ma=(function(n,i,o){const u=Se(n);return u.sa(),new LD(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:HD.bind(null,s),Yo:GD.bind(null,s),t_:$D.bind(null,s),J_:YD.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),iy(s)?ry(s):s.Va.set("Unknown")):(await s.ma.stop(),QE(s))}))),s.ma}function Di(s){return s.fa||(s.fa=(function(n,i,o){const u=Se(n);return u.sa(),new VD(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XD.bind(null,s),t_:ZD.bind(null,s),ta:WD.bind(null,s),na:JD.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await tf(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ay{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,p=new ay(e,n,d,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(s,e){if(Ir("AsyncQueue",`${e}: ${s}`),sl(s))return new de(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=xc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class D_{constructor(){this.ga=new ft(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Qo{constructor(e,n,i,o,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Qo(e,n,Fo.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class tM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nM{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Se(n),u=o.queries;o.queries=M_(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function M_(){return new ka((s=>yE(s)),Kh)}async function ly(s,e){const n=Se(s);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new tM,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=oy(d,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&uy(n)}async function cy(s,e){const n=Se(s),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function sM(s,e){const n=Se(s);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(i=!0);d.wa=o}}i&&uy(n)}function rM(s,e,n){const i=Se(s),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function uy(s){s.Ca.forEach((e=>{e.next()}))}var ag,O_;(O_=ag||(ag={})).Ma="default",O_.Cache="cache";class dy{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ag.Cache}}class ZE{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class iM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=xE(e),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new D_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,w)=>{const j=o.get(b),k=Qh(this.query,w)?w:null,F=!!j&&this.mutatedKeys.has(j.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let O=!1;j&&k?j.data.isEqual(k.data)?F!==L&&(i.track({type:3,doc:k}),O=!0):this.su(j,k)||(i.track({type:2,doc:k}),O=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(p=!0)):!j&&k?(i.track({type:0,doc:k}),O=!0):j&&!k&&(i.track({type:1,doc:j}),O=!0,(g||y)&&(p=!0)),O&&(k?(d=d.add(k),u=L?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),i.track({type:1,doc:b})}return{tu:d,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(k,F){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:O})}};return L(k)-L(F)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new Qo(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new eT(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new ZE(i))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hy="SyncEngine";class aM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oM{constructor(e){this.key=e,this.hu=!1}}class lM{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ka((p=>yE(p)),Kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ve.comparator),this.Au=new Map,this.Vu=new Jg,this.du={},this.mu=new Map,this.fu=Ko.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cM(s,e,n=!0){const i=aT(s);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tT(i,e,n,!0),o}async function uM(s,e){const n=aT(s);await tT(n,e,!0,!1)}async function tT(s,e,n,i){const o=await RD(s.localStore,Ks(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await dM(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&YE(s.remoteStore,o),p}async function dM(s,e,n,i,o){s.pu=(w,j,k)=>(async function(L,O,H,J){let U=O.view.ru(H);U.Ss&&(U=await S_(L.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,U))));const ie=J&&J.targetChanges.get(O.targetId),ae=J&&J.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(U,L.isPrimaryClient,ie,ae);return P_(L,O.targetId,ce.au),ce.snapshot})(s,w,j,k);const u=await S_(s.localStore,e,!0),d=new iM(e,u.ks),p=d.ru(u.documents),g=Zc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,g);P_(s,n,y.au);const b=new aM(e,n,d);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function hM(s,e,n){const i=Se(s),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Kh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ny(i.remoteStore,o.targetId),og(i,o.targetId)})).catch(nl)):(og(i,o.targetId),await rg(i.localStore,o.targetId,!0))}async function fM(s,e){const n=Se(s),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ny(n.remoteStore,i.targetId))}async function mM(s,e,n){const i=_M(s);try{const o=await(function(d,p){const g=Se(d),y=lt.now(),b=p.reduce(((k,F)=>k.add(F.key)),ze());let w,j;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=Dr(),L=ze();return g.xs.getEntries(k,b).next((O=>{F=O,F.forEach(((H,J)=>{J.isValidDocument()||(L=L.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,F))).next((O=>{w=O;const H=[];for(const J of p){const U=j3(J,w.get(J.key).overlayedDocument);U!=null&&H.push(new Pi(J.key,U,cE(U.value.mapValue),Qs.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,H,p)})).next((O=>{j=O;const H=O.applyToLocalDocumentSet(w,L);return g.documentOverlayCache.saveOverlays(k,O.batchId,H)}))})).then((()=>({batchId:j.batchId,changes:bE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(i,o.batchId,n),await tu(i,o.changes),await tf(i.remoteStore)}catch(o){const u=oy(o,"Failed to persist write");n.reject(u)}}async function nT(s,e){const n=Se(s);try{const i=await SD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await tu(n,i,e)}catch(i){await nl(i)}}function k_(s,e,n){const i=Se(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Se(d);g.onlineState=p;let y=!1;g.queries.forEach(((b,w)=>{for(const j of w.ba)j.va(p)&&(y=!0)})),y&&uy(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pM(s,e,n){const i=Se(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new ft(ve.comparator);d=d.insert(u,nn.newNoDocument(u,Te.min()));const p=ze().add(u),g=new Jh(Te.min(),new Map,new ft(Ue),d,p);await nT(i,g),i.Ru=i.Ru.remove(u),i.Au.delete(e),fy(i)}else await rg(i.localStore,e,!1).then((()=>og(i,e,n))).catch(nl)}async function gM(s,e){const n=Se(s),i=e.batch.batchId;try{const o=await ND(n.localStore,e);rT(n,i,null),sT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tu(n,o)}catch(o){await nl(o)}}async function yM(s,e,n){const i=Se(s);try{const o=await(function(d,p){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(Ke(w!==null,37113),b=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(i.localStore,e);rT(i,e,n),sT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await tu(i,o)}catch(o){await nl(o)}}function sT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rT(s,e,n){const i=Se(s);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function og(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((i=>{s.Vu.containsKey(i)||iT(s,i)}))}function iT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(ny(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),fy(s))}function P_(s,e,n){for(const i of n)i instanceof ZE?(s.Vu.addReference(i.key,e),xM(s,i)):i instanceof eT?(fe(hy,"Document no longer in limbo: "+i.key),s.Vu.removeReference(i.key,e),s.Vu.containsKey(i.key)||iT(s,i.key)):we(19791,{wu:i})}function xM(s,e){const n=e.key,i=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(i)||(fe(hy,"New document in limbo: "+n),s.Eu.add(i),fy(s))}function fy(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(it.fromString(e)),i=s.fu.next();s.Au.set(i,new oM(n)),s.Ru=s.Ru.insert(n,i),YE(s.remoteStore,new bi(Ks(Yh(n.path)),i,"TargetPurposeLimboResolution",Hh.ce))}}async function tu(s,e,n){const i=Se(s),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=ey.Es(g.targetId,y);u.push(b)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(g,y){const b=Se(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(y,(j=>se.forEach(j.Ts,(k=>b.persistence.referenceDelegate.addReference(w,j.targetId,k))).next((()=>se.forEach(j.Is,(k=>b.persistence.referenceDelegate.removeReference(w,j.targetId,k)))))))))}catch(w){if(!sl(w))throw w;fe(ty,"Failed to update sequence numbers: "+w)}for(const w of y){const j=w.targetId;if(!w.fromCache){const k=b.vs.get(j),F=k.snapshotVersion,L=k.withLastLimboFreeSnapshotVersion(F);b.vs=b.vs.insert(j,L)}}})(i.localStore,u))}async function vM(s,e){const n=Se(s);if(!n.currentUser.isEqual(e)){fe(hy,"User change. New user:",e.toKey());const i=await qE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new de(ee.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(n,i.Ns)}}function bM(s,e){const n=Se(s),i=n.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function aT(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.Pu.J_=sM.bind(null,e.eventManager),e.Pu.yu=rM.bind(null,e.eventManager),e}function _M(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TD(this.persistence,new _D,e.initialUser,this.serializer)}Cu(e){return new FE(Zg.Vi,this.serializer)}Du(e){return new ID}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class wM extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new aD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new FE((i=>Th.Vi(i,n)),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vM.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nM})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),i=PD(e.databaseInfo);return BD(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,p){return new qD(i,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>k_(this.syncEngine,n,0)),(function(){return R_.v()?new R_:new DD})())}createSyncEngine(e,n){return(function(o,u,d,p,g,y,b){const w=new lM(o,u,d,p,g,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Se(n);fe(Aa,"RemoteStore shutting down."),i.Ea.add(5),await eu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Mi="FirestoreClient";class EM{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{fe(Mi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(fe(Mi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=oy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Dp(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Mi,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await qE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function L_(s,e){s.asyncQueue.verifyOperationInProgress();const n=await TM(s);fe(Mi,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>I_(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>I_(e.remoteStore,o))),s._onlineComponents=e}async function TM(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Mi,"Using user provided OfflineComponentProvider");try{await Dp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await Dp(s,new Sh)}}else fe(Mi,"Using default OfflineComponentProvider"),await Dp(s,new wM(void 0));return s._offlineComponents}async function oT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Mi,"Using user provided OnlineComponentProvider"),await L_(s,s._uninitializedComponentsProvider._online)):(fe(Mi,"Using default OnlineComponentProvider"),await L_(s,new lg))),s._onlineComponents}function NM(s){return oT(s).then((e=>e.syncEngine))}async function Ah(s){const e=await oT(s),n=e.eventManager;return n.onListen=cM.bind(null,e.syncEngine),n.onUnlisten=hM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fM.bind(null,e.syncEngine),n}function SM(s,e,n,i){const o=new my(i),u=new dy(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>ly(await Ah(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>cy(await Ah(s),u)))}}function AM(s,e,n={}){const i=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const b=new my({next:j=>{b.Nu(),d.enqueueAndForget((()=>cy(u,w)));const k=j.docs.has(p);!k&&j.fromCache?y.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&j.fromCache&&g&&g.source==="server"?y.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(j)},error:j=>y.reject(j)}),w=new dy(Yh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return ly(u,w)})(await Ah(s),s.asyncQueue,e,n,i))),i.promise}function jM(s,e,n={}){const i=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const b=new my({next:j=>{b.Nu(),d.enqueueAndForget((()=>cy(u,w))),j.fromCache&&g.source==="server"?y.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(j)},error:j=>y.reject(j)}),w=new dy(p,b,{includeMetadataChanges:!0,Ka:!0});return ly(u,w)})(await Ah(s),s.asyncQueue,e,n,i))),i.promise}function RM(s,e){const n=new Ar;return s.asyncQueue.enqueueAndForget((async()=>mM(await NM(s),e,n))),n.promise}function lT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const CM="ComponentProvider",V_=new Map;function IM(s,e,n,i,o){return new Q4(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const cT="firestore.googleapis.com",U_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rD)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new A4;switch(i.type){case"firstParty":return new I4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=V_.get(n);i&&(fe(CM,"Removing Datastore"),V_.delete(n),i.terminate())})(this),Promise.resolve()}}function DM(s,e,n,i={}){s=Wn(s,nf);const o=Da(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(wg(`https://${p}`),Eg("Firestore",!0)),u.host!==cT&&u.host!==p&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Ai(g,d)&&(s._setSettings(g),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=tn.MOCK_USER;else{y=O1(i.mockUserToken,s._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(w)}s._authCredentials=new j4(new Ww(y,b))}}class kr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class gt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Wc(n,gt._jsonSchema))return new gt(e,i||null,new ve(it.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ot("string",gt._jsonSchemaVersion),referencePath:Ot("string")};class Ni extends kr{constructor(e,n,i){super(e,n,Yh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ve(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function ga(s,e,...n){if(s=ht(s),Jw("collection","path",e),s instanceof nf){const i=it.fromString(e,...n);return Z0(i),new Ni(s,null,i)}{if(!(s instanceof gt||s instanceof Ni))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(it.fromString(e,...n));return Z0(i),new Ni(s.firestore,null,i)}}function ms(s,e,...n){if(s=ht(s),arguments.length===1&&(e=Fg.newId()),Jw("doc","path",e),s instanceof nf){const i=it.fromString(e,...n);return J0(i),new gt(s,null,new ve(i))}{if(!(s instanceof gt||s instanceof Ni))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(it.fromString(e,...n));return J0(i),new gt(s.firestore,s instanceof Ni?s.converter:null,new ve(i))}}const B_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const i=Ip();i&&fe(B_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;fe(B_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",q_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ay.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ja extends nf{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new F_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function MM(s,e){const n=typeof s=="object"?s:Lh(),i=typeof s=="string"?s:xh,o=Oi(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=I1("firestore");u&&DM(o,...u)}return o}function sf(s){if(s._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OM(s),s._firestoreClient}function OM(s){const e=s._freezeSettings(),n=IM(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new EM(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Jt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ot("string",Xn._jsonSchemaVersion),bytes:Ot("string")};class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._methodName=e}}class Ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ws._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,Ws._jsonSchema))return new Ws(e.latitude,e.longitude)}}Ws._jsonSchemaVersion="firestore/geoPoint/1.0",Ws._jsonSchema={type:Ot("string",Ws._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class xs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xs(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:Ot("string",xs._jsonSchemaVersion),vectorValues:Ot("object")};const kM=/^__.*__$/;class PM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:s})}}class gy{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dT(this.dataSource)&&kM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zh(e)}createContext(e,n,i,o=!1){return new gy({dataSource:e,methodName:n,targetDoc:i,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yy(s){const e=s._freezeSettings(),n=Zh(s._databaseId);return new LM(s._databaseId,!!e.ignoreUndefinedProperties,n)}function VM(s,e,n,i,o,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);vy("Data must be an object, but it was:",d,i);const p=hT(i,d);let g,y;if(u.merge)g=new On(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const j=Ra(e,w,n);if(!d.contains(j))throw new de(ee.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);pT(b,j)||b.push(j)}g=new On(b),y=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=d.fieldTransforms;return new PM(new wn(p),g,y)}class af extends rf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}class xy extends rf{_toFieldTransform(e){return new T3(e.path,new Vc)}isEqual(e){return e instanceof xy}}function UM(s,e,n,i){const o=s.createContext(1,e,n);vy("Data must be an object, but it was:",o,i);const u=[],d=wn.empty();ki(i,((g,y)=>{const b=mT(e,g,n);y=ht(y);const w=o.childContextForFieldPath(b);if(y instanceof af)u.push(b);else{const j=nu(y,w);j!=null&&(u.push(b),d.set(b,j))}}));const p=new On(u);return new uT(d,p,o.fieldTransforms)}function zM(s,e,n,i,o,u){const d=s.createContext(1,e,n),p=[Ra(e,i,n)],g=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)p.push(Ra(e,u[j])),g.push(u[j+1]);const y=[],b=wn.empty();for(let j=p.length-1;j>=0;--j)if(!pT(y,p[j])){const k=p[j];let F=g[j];F=ht(F);const L=d.childContextForFieldPath(k);if(F instanceof af)y.push(k);else{const O=nu(F,L);O!=null&&(y.push(k),b.set(k,O))}}const w=new On(y);return new uT(b,w,d.fieldTransforms)}function BM(s,e,n,i=!1){return nu(n,s.createContext(i?4:3,e))}function nu(s,e){if(fT(s=ht(s)))return vy("Unsupported field value:",e,s),hT(s,e);if(s instanceof rf)return(function(i,o){if(!dT(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const p of i){let g=nu(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(i,o){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _3(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=lt.fromDate(i);return{timestampValue:Eh(o.serializer,u)}}if(i instanceof lt){const u=new lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(i instanceof Ws)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:ME(o.serializer,i._byteString)};if(i instanceof gt){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof xs)return(function(d,p){const g=d instanceof xs?d.toArray():d;return{mapValue:{fields:{[oE]:{stringValue:lE},[vh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Kg(p.serializer,b)}))}}}}}})(i,o);if(zE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${qh(i)}`)})(s,e)}function hT(s,e){const n={};return tE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(s,((i,o)=>{const u=nu(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function fT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Ws||s instanceof Xn||s instanceof gt||s instanceof rf||s instanceof xs||zE(s))}function vy(s,e,n){if(!fT(n)||!Zw(n)){const i=qh(n);throw i==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+i)}}function Ra(s,e,n){if((e=ht(e))instanceof py)return e._internalPath;if(typeof e=="string")return mT(s,e);throw jh("Field path arguments must be of type string or ",s,!1,void 0,n)}const FM=new RegExp("[~\\*/\\[\\]]");function mT(s,e,n){if(e.search(FM)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function jh(s,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new de(ee.INVALID_ARGUMENT,p+s+g)}function pT(s,e){return s.some((n=>n.isEqual(e)))}class qM{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ki(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((i=>wt(i.doubleValue)));return new xs(n)}convertGeoPoint(e){return new Ws(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ke(UE(i),9688,{name:e});const o=new kc(i.get(1),i.get(3)),u=new ve(i.popFirst(5));return o.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class by extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function _i(){return new xy("serverTimestamp")}const H_="@firebase/firestore",G_="4.10.0";function $_(s){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class gT{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ra("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HM extends gT{data(){return super.data()}}function yT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class wy extends _y{}function Oo(s,e,...n){let i=[];e instanceof _y&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((g=>g instanceof Ey)).length,p=u.filter((g=>g instanceof of)).length;if(d>1||d>0&&p>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)s=o._apply(s);return s}class of extends wy{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new of(e,n,i)}_apply(e){const n=this._parse(e);return xT(e._query,n),new kr(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=yy(e.firestore);return(function(u,d,p,g,y,b,w){let j;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){K_(w,b);const F=[];for(const L of w)F.push(Y_(g,u,L));j={arrayValue:{values:F}}}else j=Y_(g,u,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||K_(w,b),j=BM(p,d,w,b==="in"||b==="not-in");return Mt.create(y,b,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bc(s,e,n){const i=e,o=Ra("where",s);return of._create(o,i,n)}class Ey extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:_s.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)xT(d,g),d=Zp(d,g)})(e._query,n),new kr(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends wy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ty(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(u,d)})(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,f3(e._query,n))}}function ko(s,e="asc"){const n=e,i=Ra("orderBy",s);return Ty._create(i,n)}class Ny extends wy{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Ny(e,n,i)}_apply(e){return new kr(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function GM(s){return V4("limit",s),Ny._create("limit",s,"F")}function Y_(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(it.fromString(n));if(!ve.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return o_(s,new ve(i))}if(n instanceof gt)return o_(s,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function K_(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(s,e){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $M(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends gT{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ra("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Ot("string",ba._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class th extends ba{data(e={}){return super.data(e)}}class _a{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new _c(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new th(this._firestore,this._userDataWriter,i.key,i,new _c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _c(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _c(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:YM(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YM(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Ot("string",_a._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function cg(s){s=Wn(s,gt);const e=Wn(s.firestore,ja),n=sf(e);return AM(n,s._key).then((i=>bT(e,s,i)))}function Rh(s){s=Wn(s,kr);const e=Wn(s.firestore,ja),n=sf(e),i=new by(e);return yT(s._query),jM(n,s._query).then((o=>new _a(e,i,s,o)))}function ug(s,e,n){s=Wn(s,gt);const i=Wn(s.firestore,ja),o=$M(s.converter,e),u=yy(i);return vT(i,[VM(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Qs.none())])}function jc(s,e,n,...i){s=Wn(s,gt);const o=Wn(s.firestore,ja),u=yy(o);let d;return d=typeof(e=ht(e))=="string"||e instanceof py?zM(u,"updateDoc",s._key,e,n,i):UM(u,"updateDoc",s._key,e),vT(o,[d.toMutation(s._key,Qs.exists(!0))])}function Q_(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||$_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($_(e[i])){const y=e[i];e[i]=y.next?.bind(y),e[i+1]=y.error?.bind(y),e[i+2]=y.complete?.bind(y)}let u,d,p;if(s instanceof gt)d=Wn(s.firestore,ja),p=Yh(s._key.path),u={next:y=>{e[i]&&e[i](bT(d,s,y))},error:e[i+1],complete:e[i+2]};else{const y=Wn(s,kr);d=Wn(y.firestore,ja),p=y._query;const b=new by(d);u={next:w=>{e[i]&&e[i](new _a(d,b,y,w))},error:e[i+1],complete:e[i+2]},yT(s._query)}const g=sf(d);return SM(g,p,o,u)}function vT(s,e){const n=sf(s);return RM(n,e)}function bT(s,e,n){const i=n.docs.get(e._key),o=new by(s);return new ba(s,o,e._key,i,new _c(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){S4(Oa),bs(new Jn("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),p=new ja(new R4(i.getProvider("auth-internal")),new D4(d,i.getProvider("app-check-internal")),X4(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Tn(H_,G_,e),Tn(H_,G_,"esm2020")})();const _T="firebasestorage.googleapis.com",KM="storageBucket",QM=120*1e3,XM=600*1e3;class nr extends es{constructor(e,n,i=0){super(Mp(e),`Firebase Storage: ${n} (${Mp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zs||(Zs={}));function Mp(s){return"storage/"+s}function WM(){const s="An unknown error occurred, please check the error payload for server response.";return new nr(Zs.UNKNOWN,s)}function JM(){return new nr(Zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZM(){return new nr(Zs.CANCELED,"User canceled the upload/download.")}function e6(s){return new nr(Zs.INVALID_URL,"Invalid URL '"+s+"'.")}function t6(s){return new nr(Zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function X_(s){return new nr(Zs.INVALID_ARGUMENT,s)}function wT(){return new nr(Zs.APP_DELETED,"The Firebase app was deleted.")}function n6(s){return new nr(Zs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class gs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=gs.makeFromUrl(e,n)}catch{return new gs(e,"")}if(i.path==="")return i;throw t6(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(ie){ie.path_=decodeURIComponent(ie.path)}const b="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),j="(/([^?#]*).*)?$",k=new RegExp(`^https?://${w}/${b}/b/${o}/o${j}`,"i"),F={bucket:1,path:3},L=n===_T?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",H=new RegExp(`^https?://${L}/${o}/${O}`,"i"),U=[{regex:p,indices:g,postModify:u},{regex:k,indices:F,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ie=0;ie<U.length;ie++){const ae=U[ie],ce=ae.regex.exec(e);if(ce){const C=ce[ae.indices.bucket];let E=ce[ae.indices.path];E||(E=""),i=new gs(C,E),ae.postModify(i);break}}if(i==null)throw e6(e);return i}}class s6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function r6(s,e,n){let i=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function b(...O){y||(y=!0,e.apply(null,O))}function w(O){o=setTimeout(()=>{o=null,s(k,g())},O)}function j(){u&&clearTimeout(u)}function k(O,...H){if(y){j();return}if(O){j(),b.call(null,O,...H);return}if(g()||d){j(),b.call(null,O,...H);return}i<64&&(i*=2);let U;p===1?(p=2,U=0):U=(i+Math.random())*1e3,w(U)}let F=!1;function L(O){F||(F=!0,j(),!y&&(o!==null?(O||(p=2),clearTimeout(o),w(0)):O||(p=1)))}return w(0),u=setTimeout(()=>{d=!0,L(!0)},n),L}function i6(s){s(!1)}function a6(s){return s!==void 0}function W_(s,e,n,i){if(i<e)throw X_(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>n)throw X_(`Invalid value for '${s}'. Expected ${n} or less.`)}function o6(s){const e=encodeURIComponent;let n="?";for(const i in s)if(s.hasOwnProperty(i)){const o=e(i)+"="+e(s[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ch;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Ch||(Ch={}));function l6(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}class c6{constructor(e,n,i,o,u,d,p,g,y,b,w,j=!0,k=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=w,this.retry=j,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,L)=>{this.resolve_=F,this.reject_=L,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Fd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Ch.NO_ERROR,g=u.getStatus();if(!p||l6(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Ch.ABORT;i(!1,new Fd(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Fd(y,u))})},n=(i,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());a6(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=WM();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?wT():ZM();d(g)}else{const g=JM();d(g)}};this.canceled_?n(!1,new Fd(!1,null,!0)):this.backoffId_=r6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function u6(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function d6(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h6(s,e){e&&(s["X-Firebase-GMPID"]=e)}function f6(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function m6(s,e,n,i,o,u,d=!0,p=!1){const g=o6(s.urlParams),y=s.url+g,b=Object.assign({},s.headers);return h6(b,e),u6(b,n),d6(b,u),f6(b,i),new c6(y,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}function p6(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function g6(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Ih{constructor(e,n){this._service=e,n instanceof gs?this._location=n:this._location=gs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ih(e,n)}get root(){const e=new gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g6(this._location.path)}get storage(){return this._service}get parent(){const e=p6(this._location.path);if(e===null)return null;const n=new gs(this._location.bucket,e);return new Ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n6(e)}}function J_(s,e){const n=e?.[KM];return n==null?null:gs.makeFromBucketSpec(n,s)}function y6(s,e,n,i={}){s.host=`${e}:${n}`;const o=Da(e);o&&(wg(`https://${s.host}/b`),Eg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(s._overrideAuthToken=typeof u=="string"?u:O1(u,s.app.options.projectId))}class x6{constructor(e,n,i,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=_T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QM,this._maxUploadRetryTime=XM,this._requests=new Set,o!=null?this._bucket=gs.makeFromBucketSpec(o,this._host):this._bucket=J_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gs.makeFromBucketSpec(this._url,e):this._bucket=J_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ih(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new s6(wT());{const d=m6(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const Z_="@firebase/storage",e1="0.14.0";const ET="storage";function v6(s=Lh(),e){s=ht(s);const i=Oi(s,ET).getImmediate({identifier:e}),o=I1("storage");return o&&b6(i,...o),i}function b6(s,e,n,i={}){y6(s,e,n,i)}function _6(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new x6(n,i,o,e,Oa)}function w6(){bs(new Jn(ET,_6,"PUBLIC").setMultipleInstances(!0)),Tn(Z_,e1,""),Tn(Z_,e1,"esm2020")}w6();const E6={apiKey:"AIzaSyB18If01xpZQMiVlVNj4CvItsue9hOo4Wg",authDomain:"familypay-11672.firebaseapp.com",projectId:"familypay-11672",storageBucket:"familypay-11672.firebasestorage.app",messagingSenderId:"264062515995",appId:"1:264062515995:web:e990b9e4d5b93e526a31be",measurementId:"G-M1YK840FHB"},lf=B1(E6);eC(lf);const fa=T4(lf),Kt=MM(lf);v6(lf);const TT=new wr;TT.setCustomParameters({prompt:"select_account"});const Ro={signIn:async(s,e)=>{try{return{success:!0,user:(await oI(fa,s,e)).user}}catch(n){return{success:!1,error:n.message}}},signInWithGoogle:async()=>{try{const e=(await MI(fa,TT)).user;return(await cg(ms(Kt,"users",e.uid))).exists()||await ug(ms(Kt,"users",e.uid),{name:e.displayName,email:e.email,photoURL:e.photoURL,role:"SECONDARY",phone:"",familyCircle:"",createdAt:_i(),authProvider:"google",isEmailVerified:e.emailVerified}),{success:!0,user:e}}catch(s){return{success:!1,error:s.message}}},signUp:async(s,e,n)=>{try{const o=(await aI(fa,s,e)).user;return n.name&&await cI(o,{displayName:n.name}),await ug(ms(Kt,"users",o.uid),{name:n.name||o.displayName,email:s,photoURL:n.photoURL||o.photoURL||"",role:n.role||"SECONDARY",phone:n.phone||"",familyCircle:n.familyCircle||"",createdAt:_i(),authProvider:"email",isEmailVerified:o.emailVerified,dateOfBirth:n.dateOfBirth||"",address:n.address||""}),{success:!0,user:o}}catch(i){return{success:!1,error:i.message}}},resetPassword:async s=>{try{return await iI(fa,s),{success:!0}}catch(e){return{success:!1,error:e.message}}},signOut:async()=>{try{return await fI(fa),{success:!0}}catch(s){return{success:!1,error:s.message}}},getCurrentUser:()=>fa.currentUser,onAuthStateChanged:s=>hI(fa,s)},qd={getUsersByRole:async s=>{try{const e=Oo(ga(Kt,"users"),bc("role","==",s),ko("createdAt","desc"));return{success:!0,data:(await Rh(e)).docs.map(o=>({id:o.id,...o.data()}))}}catch(e){return{success:!1,error:e.message}}},updateUserRole:async(s,e)=>{try{return await jc(ms(Kt,"users",s),{role:e,updatedAt:_i()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},assignToCircle:async(s,e)=>{try{return await jc(ms(Kt,"users",s),{familyCircle:e,updatedAt:_i()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},getAllUsers:async()=>{try{const s=Oo(ga(Kt,"users"),ko("createdAt","desc"));return{success:!0,data:(await Rh(s)).docs.map(i=>({id:i.id,...i.data()}))}}catch(s){return{success:!1,error:s.message}}}},xn={getUser:async s=>{try{const e=await cg(ms(Kt,"users",s));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"User not found"}}catch(e){return{success:!1,error:e.message}}},updateUser:async(s,e)=>{try{return await jc(ms(Kt,"users",s),{...e,updatedAt:_i()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},getCircle:async s=>{try{const e=await cg(ms(Kt,"circles",s));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"Circle not found"}}catch(e){return{success:!1,error:e.message}}},updateCircle:async(s,e)=>{try{return await jc(ms(Kt,"circles",s),{...e,updatedAt:_i()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},createTransaction:async s=>{try{const e=ms(ga(Kt,"transactions"));return await ug(e,{...s,createdAt:_i(),status:s.status||"pending"}),{success:!0,id:e.id}}catch(e){return{success:!1,error:e.message}}},getUserTransactions:async(s,e=50)=>{try{const n=Oo(ga(Kt,"transactions"),bc("fromUserId","==",s),ko("createdAt","desc"),GM(e));return{success:!0,data:(await Rh(n)).docs.map(u=>({id:u.id,...u.data()}))}}catch(n){return{success:!1,error:n.message}}},getPendingTransactions:async()=>{try{const s=Oo(ga(Kt,"transactions"),bc("status","==","pending"),ko("createdAt","desc"));return{success:!0,data:(await Rh(s)).docs.map(i=>({id:i.id,...i.data()}))}}catch(s){return{success:!1,error:s.message}}},updateTransaction:async(s,e)=>{try{return await jc(ms(Kt,"transactions",s),{...e,updatedAt:_i()}),{success:!0}}catch(n){return{success:!1,error:n.message}}},listenToTransactions:(s,e)=>{const n=Oo(ga(Kt,"transactions"),bc("fromUserId","==",s),ko("createdAt","desc"));return Q_(n,i=>{const o=i.docs.map(u=>({id:u.id,...u.data()}));e(o)})},listenToPendingTransactions:s=>{const e=Oo(ga(Kt,"transactions"),bc("status","==","pending"),ko("createdAt","desc"));return Q_(e,n=>{const i=n.docs.map(o=>({id:o.id,...o.data()}));s(i)})}},bn={primary:{id:1,name:"Rajnish",email:"rajnish@familypay.com",password:"admin123",phone:"9876543210",role:"ADMIN",isMinor:!1,upiId:"rajnish@paytm"},secondary1:{id:2,name:"Sangam",email:"sangam@familypay.com",password:"member123",phone:"9876543211",role:"SECONDARY",isMinor:!1,upiId:"sangam@paytm"},secondary2:{id:3,name:"Raveena",email:"raveena@familypay.com",password:"member123",phone:"9876543212",role:"SECONDARY",isMinor:!0,upiId:"raveena@paytm"},secondary3:{id:4,name:"Shubh",email:"shubh@familypay.com",password:"member123",phone:"9876543213",role:"SECONDARY",isMinor:!1,upiId:"shubh@paytm"}},Po={id:1,circleName:"Doe Family Circle",primaryUserId:1,members:[{id:1,circleId:1,secondaryUserId:2,dailyLimit:5e3,monthlyLimit:5e4,currentDailySpent:750,currentMonthlySpent:8500,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:bn.secondary1},{id:2,circleId:1,secondaryUserId:3,dailyLimit:2e3,monthlyLimit:15e3,currentDailySpent:200,currentMonthlySpent:2300,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:bn.secondary2},{id:3,circleId:1,secondaryUserId:4,dailyLimit:8e3,monthlyLimit:8e4,currentDailySpent:3200,currentMonthlySpent:32800,lastResetDate:new Date().toISOString().split("T")[0],secondaryUser:bn.secondary3}]},Op=1e3,gi=[{id:1,fromUserId:2,toUpiId:"grocery@paytm",amount:450,status:"COMPLETED",description:"Grocery Shopping",transactionRef:"UPI202601311234567",createdAt:new Date(Date.now()-7200*1e3).toISOString(),fromUser:bn.secondary1,autoApproved:!0},{id:2,fromUserId:2,toUpiId:"electronics@paytm",amount:1500,status:"COMPLETED",description:"New Headphones",transactionRef:"UPI202601311234568",approvedBy:1,approvedAt:new Date(Date.now()-10800*1e3).toISOString(),createdAt:new Date(Date.now()-10800*1e3).toISOString(),fromUser:bn.secondary1,autoApproved:!1},{id:3,fromUserId:4,toUpiId:"fashion@paytm",amount:1200,status:"PENDING",description:"Designer Clothing",createdAt:new Date(Date.now()-600*1e3).toISOString(),fromUser:bn.secondary3,autoApproved:!1},{id:4,fromUserId:2,toUpiId:"restaurant@paytm",amount:850,status:"COMPLETED",description:"Family Dinner",transactionRef:"UPI202601311234570",createdAt:new Date(Date.now()-300*60*1e3).toISOString(),fromUser:bn.secondary1,autoApproved:!0},{id:5,fromUserId:3,toUpiId:"toys@paytm",amount:350,status:"COMPLETED",description:"Toy Store",transactionRef:"UPI202601311234571",approvedBy:1,approvedAt:new Date(Date.now()-360*60*1e3).toISOString(),createdAt:new Date(Date.now()-360*60*1e3).toISOString(),fromUser:bn.secondary2,autoApproved:!1},{id:6,fromUserId:4,toUpiId:"fuel@paytm",amount:2e3,status:"PENDING",description:"Petrol - Monthly",createdAt:new Date(Date.now()-900*1e3).toISOString(),fromUser:bn.secondary3,autoApproved:!1},{id:7,fromUserId:2,toUpiId:"coffee@paytm",amount:250,status:"COMPLETED",description:"Coffee Shop",transactionRef:"UPI202601311234572",createdAt:new Date(Date.now()-1440*60*1e3).toISOString(),fromUser:bn.secondary1,autoApproved:!0},{id:8,fromUserId:4,toUpiId:"pharmacy@paytm",amount:1800,status:"REJECTED",description:"Medical Supplies",approvedBy:1,approvedAt:new Date(Date.now()-2880*60*1e3).toISOString(),createdAt:new Date(Date.now()-2880*60*1e3).toISOString(),fromUser:bn.secondary3,autoApproved:!1}],T6=()=>{const s=gi.filter(i=>i.status==="COMPLETED"),e=s.reduce((i,o)=>i+o.amount,0),n=gi.filter(i=>i.status==="PENDING").length;return{circle:{id:1,name:"Doe Family Circle",memberCount:3},overall:{totalTransactions:s.length,totalSpent:e,pendingApprovals:n},members:Po.members.map(i=>({userId:i.secondaryUserId,name:i.secondaryUser.name,upiId:i.secondaryUser.upiId,limits:{daily:i.dailyLimit,monthly:i.monthlyLimit,dailySpent:i.currentDailySpent,monthlySpent:i.currentMonthlySpent,dailyRemaining:i.dailyLimit-i.currentDailySpent,monthlyRemaining:i.monthlyLimit-i.currentMonthlySpent},spending:{totalTransactions:s.filter(o=>o.fromUserId===i.secondaryUserId).length,totalSpent:s.filter(o=>o.fromUserId===i.secondaryUserId).reduce((o,u)=>o+u.amount,0)}}))}},mc={getCircle:()=>Promise.resolve({data:{success:!0,data:Po}}),getMyCircle:()=>Promise.resolve({data:{success:!0,data:Po.members[0]}}),getPendingPayments:()=>{const s=gi.filter(e=>e.status==="PENDING");return Promise.resolve({data:{success:!0,data:s}})},getAnalytics:()=>{const s=T6();return Promise.resolve({data:{success:!0,data:s}})},getTransactions:()=>Promise.resolve({data:{success:!0,data:{transactions:gi,total:gi.length}}}),approvePayment:(s,e)=>new Promise(n=>{setTimeout(()=>{const i=gi.find(o=>o.id===s);if(i&&(i.status=e?"COMPLETED":"REJECTED",i.approvedBy=1,i.approvedAt=new Date().toISOString(),e)){i.transactionRef=`UPI${Date.now()}${Math.floor(Math.random()*1e3)}`;const o=Po.members.find(u=>u.secondaryUserId===i.fromUserId);o&&(o.currentDailySpent+=i.amount,o.currentMonthlySpent+=i.amount)}n({data:{success:!0,data:i}})},500)}),requestPayment:s=>new Promise(e=>{setTimeout(()=>{const n=s.amount,i=n>Op,o={id:gi.length+1,fromUserId:2,toUpiId:s.toUpiId,amount:n,status:i?"PENDING":"COMPLETED",description:s.description,transactionRef:i?null:`UPI${Date.now()}${Math.floor(Math.random()*1e3)}`,createdAt:new Date().toISOString(),fromUser:bn.secondary1,autoApproved:!i};if(gi.unshift(o),!i){const u=Po.members.find(d=>d.secondaryUserId===2);u&&(u.currentDailySpent+=n,u.currentMonthlySpent+=n)}e({data:{success:!0,data:o,message:i?`${n} payment sent for admin approval (>${Op})`:`${n} payment completed instantly (<${Op})`}})},800)})},t1={signIn:async(s,e)=>new Promise(n=>{setTimeout(()=>{const i=Object.values(bn).find(o=>o.email===s&&o.password===e);n(i?{success:!0,user:{uid:i.id.toString(),email:i.email,displayName:i.name,photoURL:null,emailVerified:!0}}:{success:!1,error:"Invalid email or password"})},1e3)}),getUserData:async s=>new Promise(e=>{setTimeout(()=>{const n=Object.values(bn).find(i=>i.id.toString()===s);e(n?{success:!0,data:{name:n.name,email:n.email,role:n.role,phone:n.phone,familyCircle:n.familyCircle||"",photoURL:n.photoURL||"",createdAt:new Date().toISOString(),authProvider:"mock",isEmailVerified:!0,dateOfBirth:n.dateOfBirth||"",address:n.address||""}}:{success:!1,error:"User not found"})},500)})},NT=I.createContext(),cn=()=>{const s=I.useContext(NT);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},N6=({children:s})=>{const[e,n]=I.useState(null),[i,o]=I.useState(!0),[u,d]=I.useState(null);I.useEffect(()=>Ro.onAuthStateChanged(async O=>{if(O)try{const H=await xn.getUser(O.uid);H.success?n({id:O.uid,email:O.email,photoURL:O.photoURL,...H.data}):n({id:O.uid,email:O.email,name:O.displayName||"User",photoURL:O.photoURL||"",role:"SECONDARY"})}catch(H){console.error("Error fetching user data:",H),d(H.message)}else n(null);o(!1)}),[]);const F={user:e,loading:i,error:u,login:async L=>{try{if(d(null),o(!0),L.email==="rajnish@familypay.com"&&L.password==="admin123"){const O=await t1.signIn(L.email,L.password);if(O.success){const H=await t1.getUserData(O.user.uid);return H.success?(n({id:O.user.uid,email:O.user.email,photoURL:O.user.photoURL,...H.data}),{success:!0,data:O.user}):(d(H.error),{success:!1,error:H.error})}else return d(O.error),{success:!1,error:O.error}}else{const O=await Ro.signIn(L.email,L.password);return O.success?{success:!0,data:O.user}:(d(O.error),{success:!1,error:O.error})}}catch(O){const H=O.message;return d(H),{success:!1,error:H}}finally{o(!1)}},loginWithGoogle:async()=>{try{d(null),o(!0);const L=await Ro.signInWithGoogle();return L.success?{success:!0,data:L.user}:(d(L.error),{success:!1,error:L.error})}catch(L){const O=L.message;return d(O),{success:!1,error:O}}finally{o(!1)}},register:async L=>{try{d(null),o(!0);const O=await Ro.signUp(L.email,L.password,{name:L.name,role:L.role||"SECONDARY",phone:L.phone||"",familyCircle:L.familyCircle||"",photoURL:L.photoURL||"",dateOfBirth:L.dateOfBirth||"",address:L.address||""});return O.success?{success:!0,data:O.user}:(d(O.error),{success:!1,error:O.error})}catch(O){const H=O.message;return d(H),{success:!1,error:H}}finally{o(!1)}},resetPassword:async L=>{try{d(null);const O=await Ro.resetPassword(L);return O.success?{success:!0,message:"Password reset email sent!"}:(d(O.error),{success:!1,error:O.error})}catch(O){const H=O.message;return d(H),{success:!1,error:H}}},logout:async()=>{try{d(null);const L=await Ro.signOut();L.success?n(null):d(L.error)}catch(L){d(L.message)}},updateProfile:async L=>{try{if(!e)throw new Error("No user logged in");d(null);const O=await xn.updateUser(e.id,L);return O.success?(n(H=>({...H,...L})),{success:!0}):(d(O.error),{success:!1,error:O.error})}catch(O){const H=O.message;return d(H),{success:!1,error:H}}},adminFunctions:{getAllUsers:async()=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await qd.getAllUsers()}catch(L){return{success:!1,error:L.message}}},getUsersByRole:async L=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await qd.getUsersByRole(L)}catch(O){return{success:!1,error:O.message}}},updateUserRole:async(L,O)=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await qd.updateUserRole(L,O)}catch(H){return{success:!1,error:H.message}}},assignToCircle:async(L,O)=>{try{if(!e||e.role!=="ADMIN")throw new Error("Admin access required");return await qd.assignToCircle(L,O)}catch(H){return{success:!1,error:H.message}}}},isAuthenticated:!!e,isPrimary:e?.role==="PRIMARY",isSecondary:e?.role==="SECONDARY",isAdmin:e?.role==="ADMIN",role:e?.role||null};return l.jsx(NT.Provider,{value:F,children:s})};const ST=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const S6=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const A6=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const n1=s=>{const e=A6(s);return e.charAt(0).toUpperCase()+e.slice(1)};var j6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R6=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const C6=I.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...p},g)=>I.createElement("svg",{ref:g,...j6,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:ST("lucide",o),...!u&&!R6(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>I.createElement(y,b)),...Array.isArray(u)?u:[u]]));const ge=(s,e)=>{const n=I.forwardRef(({className:i,...o},u)=>I.createElement(C6,{ref:u,iconNode:e,className:ST(`lucide-${S6(n1(s))}`,`lucide-${s}`,i),...o}));return n.displayName=n1(s),n};const I6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D6=ge("activity",I6);const M6=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],s1=ge("arrow-down-right",M6);const O6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k6=ge("arrow-left",O6);const P6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AT=ge("arrow-right",P6);const L6=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],r1=ge("arrow-up-right",L6);const V6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ca=ge("bell",V6);const U6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sy=ge("calendar",U6);const z6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Dh=ge("camera",z6);const B6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jT=ge("chart-column",B6);const F6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RT=ge("check",F6);const q6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CT=ge("chevron-down",q6);const H6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IT=ge("chevron-right",H6);const G6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],La=ge("circle-alert",G6);const $6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wt=ge("circle-check-big",$6);const Y6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rc=ge("clock",Y6);const K6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],En=ge("credit-card",K6);const Q6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],X6=ge("download",Q6);const W6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],J6=ge("ellipsis",W6);const Z6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nh=ge("eye-off",Z6);const eO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sh=ge("eye",eO);const tO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nO=ge("file-text",tO);const sO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rO=ge("funnel",sO);const iO=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],aO=ge("gift",iO);const oO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lO=ge("globe",oO);const cO=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],uO=ge("headphones",cO);const dO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],i1=ge("house",dO);const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fO=ge("info",hO);const mO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pO=ge("layout-dashboard",mO);const gO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yO=ge("loader-circle",gO);const xO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dg=ge("lock",xO);const vO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bO=ge("log-out",vO);const _O=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bc=ge("mail",_O);const wO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],DT=ge("map-pin",wO);const EO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TO=ge("menu",EO);const NO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],SO=ge("message-square",NO);const AO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jO=ge("moon",AO);const RO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CO=ge("pen",RO);const IO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cf=ge("phone",IO);const DO=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],MO=ge("piggy-bank",DO);const OO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kO=ge("play",OO);const PO=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],hg=ge("qr-code",PO);const LO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VO=ge("refresh-cw",LO);const UO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],su=ge("search",UO);const zO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MT=ge("send",zO);const BO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fc=ge("settings",BO);const FO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xo=ge("shield",FO);const qO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],uf=ge("smartphone",qO);const HO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],GO=ge("star",HO);const $O=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],YO=ge("sun",$O);const KO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QO=ge("target",KO);const XO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OT=ge("trash-2",XO);const WO=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],JO=ge("trending-down",WO);const ZO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ru=ge("trending-up",ZO);const ek=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tk=ge("triangle-alert",ek);const nk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ay=ge("user-plus",nk);const sk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qc=ge("user",sk);const rk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ia=ge("users",rk);const ik=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ak=ge("wallet",ik);const ok=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iu=ge("x",ok);const lk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a1=ge("zap",lk),ck=({className:s})=>l.jsxs("svg",{className:s,viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),uk=()=>{const s=Es(),{login:e,loginWithGoogle:n,register:i,loading:o,error:u}=cn(),[d,p]=I.useState(!0),[g,y]=I.useState(!1),[b,w]=I.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:"",address:""}),[j,k]=I.useState(""),[F,L]=I.useState(""),O=ae=>{w({...b,[ae.target.name]:ae.target.value})},H=()=>{if(!b.email||!b.password)return k("Email and password are required"),!1;if(!d){if(!b.name)return k("Name is required"),!1;if(b.password!==b.confirmPassword)return k("Passwords do not match"),!1;if(b.password.length<6)return k("Password must be at least 6 characters"),!1}return!0},J=async ae=>{if(ae.preventDefault(),k(""),L(""),!!H())try{let ce;d?ce=await e({email:b.email,password:b.password}):ce=await i({email:b.email,password:b.password,name:b.name,phone:b.phone,dateOfBirth:b.dateOfBirth,address:b.address,role:"SECONDARY"}),ce.success?(L(d?"Login successful!":"Registration successful!"),setTimeout(()=>{s("/dashboard")},1500)):k(ce.error)}catch{k("An unexpected error occurred")}},U=async()=>{try{k(""),L("");const ae=await n();ae.success?(L("Google sign-in successful!"),setTimeout(()=>{s("/dashboard")},1500)):k(ae.error)}catch{k("Google sign-in failed")}},ie=()=>{p(!d),k(""),L(""),w({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:"",address:""})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-12 h-12 rounded-lg mr-3"}),l.jsx("h1",{className:"text-2xl font-bold text-text",children:"FamilyPay"})]}),F&&l.jsxs("div",{className:"mb-6 p-4 bg-success/10 border border-success/20 rounded-lg flex items-center gap-3",children:[l.jsx(Wt,{className:"w-5 h-5 text-success"}),l.jsx("span",{className:"text-success text-sm",children:F})]}),(j||u)&&l.jsxs("div",{className:"mb-6 p-4 bg-danger/10 border border-danger/20 rounded-lg flex items-center gap-3",children:[l.jsx(La,{className:"w-5 h-5 text-danger"}),l.jsx("span",{className:"text-danger text-sm",children:j||u})]}),l.jsxs("button",{onClick:U,disabled:o,className:"w-full mb-6 p-3 bg-bg-elevated border border-border rounded-lg hover:border-primary transition-colors flex items-center justify-center gap-3 disabled:opacity-50",children:[l.jsx(ck,{className:"w-5 h-5"}),l.jsx("span",{className:"text-text font-medium",children:o?l.jsx("div",{className:"loading-spinner w-4 h-4"}):"Continue with Google"})]}),l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"flex-1 h-px bg-border"}),l.jsx("span",{className:"px-4 text-text-muted text-sm",children:"OR"}),l.jsx("div",{className:"flex-1 h-px bg-border"})]}),l.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!d&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(qc,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:b.name,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(Bc,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l.jsx("input",{type:"email",name:"email",value:b.email,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0})]}),!d&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(cf,{className:"w-4 h-4 inline mr-2"}),"Phone Number (Optional)"]}),l.jsx("input",{type:"tel",name:"phone",value:b.phone,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"+91 98765 43210"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(dg,{className:"w-4 h-4 inline mr-2"}),"Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:g?"text":"password",name:"password",value:b.password,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:g?l.jsx(nh,{className:"w-5 h-5"}):l.jsx(sh,{className:"w-5 h-5"})})]})]}),!d&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(dg,{className:"w-4 h-4 inline mr-2"}),"Confirm Password"]}),l.jsx("input",{type:"password",name:"confirmPassword",value:b.confirmPassword,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Confirm your password",required:!0})]}),!d&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(Sy,{className:"w-4 h-4 inline mr-2"}),"Date of Birth (Optional)"]}),l.jsx("input",{type:"date",name:"dateOfBirth",value:b.dateOfBirth,onChange:O,className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),!d&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(DT,{className:"w-4 h-4 inline mr-2"}),"Address (Optional)"]}),l.jsx("textarea",{name:"address",value:b.address,onChange:O,rows:"3",className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",placeholder:"Enter your address"})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?l.jsx("div",{className:"loading-spinner mx-auto"}):d?"Sign In":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-text-muted",children:[d?"Don't have an account?":"Already have an account?",l.jsx("button",{onClick:ie,className:"ml-2 text-primary hover:text-primary/80 font-medium",children:d?"Sign Up":"Sign In"})]})}),d&&l.jsx("div",{className:"mt-4 text-center",children:l.jsx(Si,{to:"/forgot-password",className:"text-primary hover:text-primary/80 text-sm font-medium",children:"Forgot your password?"})})]})})})},dk=()=>{const s=Es(),{resetPassword:e,loading:n}=cn(),[i,o]=I.useState(""),[u,d]=I.useState(""),[p,g]=I.useState(!1),y=async b=>{if(b.preventDefault(),d(""),!i){d("Please enter your email address");return}try{const w=await e(i);w.success?g(!0):d(w.error)}catch{d("An unexpected error occurred")}};return p?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Wt,{className:"w-8 h-8 text-success"})}),l.jsx("h1",{className:"text-2xl font-bold text-text mb-4",children:"Password Reset Email Sent"}),l.jsx("p",{className:"text-text-muted mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>s("/login"),className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity",children:"Back to Login"}),l.jsx(Si,{to:"/",className:"block w-full py-3 bg-bg-elevated border border-border rounded-lg text-center font-medium hover:border-primary transition-colors",children:"Go to Home"})]})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-xl border border-border p-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>s("/login"),className:"flex items-center text-text-muted hover:text-text mb-4 transition-colors",children:[l.jsx(k6,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:"FP"})}),l.jsx("h1",{className:"text-2xl font-bold text-text mb-2",children:"Reset Password"}),l.jsx("p",{className:"text-text-muted",children:"Enter your email address and we'll send you a link to reset your password"})]})]}),u&&l.jsxs("div",{className:"mb-6 p-4 bg-danger/10 border border-danger/20 rounded-lg flex items-center gap-3",children:[l.jsx(La,{className:"w-5 h-5 text-danger"}),l.jsx("span",{className:"text-danger text-sm",children:u})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(Bc,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l.jsx("input",{type:"email",value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email address",required:!0})]}),l.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-gradient-to-r from-primary to-secondary text-white font-medium rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:n?"Sending...":"Send Reset Link"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-text-muted",children:["Remember your password?"," ",l.jsx(Si,{to:"/login",className:"text-primary hover:text-primary/80 font-medium",children:"Sign In"})]})})]})})})},hk=()=>{const s=Es(),{register:e}=cn(),[n,i]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"PRIMARY",isMinor:!1,upiId:""}),[o,u]=I.useState(""),[d,p]=I.useState(!1),g=b=>{const w=b.target.type==="checkbox"?b.target.checked:b.target.value;i({...n,[b.target.name]:w})},y=async b=>{if(b.preventDefault(),u(""),n.password!==n.confirmPassword){u("Passwords do not match");return}if(n.phone.length!==10){u("Phone number must be 10 digits");return}if(!n.upiId.includes("@")){u("Invalid UPI ID format (example: user@bank)");return}p(!0);const{confirmPassword:w,...j}=n,k=await e(j);k.success?k.data.role==="PRIMARY"?s("/dashboard/primary"):s("/dashboard/secondary"):u(k.error),p(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-bg to-bg-elevated p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-bg-card border border-border rounded-default p-8 shadow-xl animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-12 h-12 rounded-lg mr-3"}),l.jsx("h1",{className:"text-2xl font-bold text-text",children:"FamilyPay"})]}),o&&l.jsx("div",{className:"alert alert-error",children:o}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"Enter your name",value:n.name,onChange:g,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:n.email,onChange:g,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",className:"form-input",placeholder:"10 digit phone number",value:n.phone,onChange:g,pattern:"[0-9]{10}",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"UPI ID"}),l.jsx("input",{type:"text",name:"upiId",className:"form-input",placeholder:"yourname@bank",value:n.upiId,onChange:g,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Role"}),l.jsxs("select",{name:"role",className:"form-select",value:n.role,onChange:g,children:[l.jsx("option",{value:"PRIMARY",children:"Primary User (Family Head)"}),l.jsx("option",{value:"SECONDARY",children:"Secondary User (Family Member)"})]})]}),n.role==="SECONDARY"&&l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",name:"isMinor",className:"form-checkbox",checked:n.isMinor,onChange:g}),l.jsx("span",{className:"form-label mb-0",children:"I am a minor (requires approval for all payments)"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Password"}),l.jsx("input",{type:"password",name:"password",className:"form-input",placeholder:"Create a password",value:n.password,onChange:g,required:!0,minLength:"6"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",placeholder:"Confirm your password",value:n.confirmPassword,onChange:g,required:!0})]}),l.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:d,children:d?l.jsx("div",{className:"loading-spinner mx-auto"}):"Register"})]}),l.jsx("div",{className:"text-center mt-8 pt-6 border-t border-border",children:l.jsxs("p",{className:"text-text-muted text-sm",children:["Already have an account?"," ",l.jsx(Si,{to:"/login",className:"link",children:"Sign in here"})]})})]})})},fk=()=>{const{user:s,isAuthenticated:e}=cn(),n=Es(),[i,o]=I.useState("personal"),[u,d]=I.useState(""),[p,g]=I.useState(!1),y={users:"2.5M+",transactions:"10M+",countries:"50+",satisfaction:"98%"},b=[{icon:Xo,title:"Bank-Level Security",description:"Your money is protected with 256-bit encryption and multi-factor authentication."},{icon:uf,title:"Mobile First",description:"Send money instantly from your phone with our intuitive mobile app."},{icon:Ia,title:"Family Circles",description:"Create family groups and manage expenses together with loved ones."},{icon:ru,title:"Smart Analytics",description:"Track spending patterns and get insights to save more money."},{icon:a1,title:"Lightning Fast",description:"Instant transfers with real-time processing and confirmation."},{icon:dg,title:"Privacy First",description:"Your data is never shared with third parties without your consent."}],w=[{name:"Sarah Johnson",role:"Family Manager",content:"FamilyPay has transformed how we manage our household expenses. So simple and secure!",rating:5,avatar:""},{name:"Michael Chen",role:"Small Business Owner",content:"The best payment solution I've used. Fast, reliable, and excellent customer support.",rating:5,avatar:""},{name:"Emma Davis",role:"Student",content:"Perfect for splitting bills with roommates. The family circles feature is amazing!",rating:5,avatar:""}],j=[{name:"Personal",price:"Free",features:["Up to 10 transactions/month","Basic family circle (5 members)","Email support","Mobile app access"],recommended:!1},{name:"Family",price:"$9.99/mo",features:["Unlimited transactions","Family circle (20 members)","Priority support","Advanced analytics","Budget planning tools"],recommended:!0},{name:"Business",price:"$29.99/mo",features:["Unlimited everything","Unlimited members","24/7 phone support","API access","Custom branding","Advanced reporting"],recommended:!1}],k=()=>{n(e?"/dashboard":"/login")};return l.jsxs("div",{className:"min-h-screen bg-bg",children:[l.jsx("nav",{className:"fixed top-0 w-full bg-bg/95 backdrop-blur-sm border-b border-border z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),l.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[l.jsx("a",{href:"#features",className:"text-text-muted hover:text-text transition-colors",children:"Features"}),l.jsx("a",{href:"#how-it-works",className:"text-text-muted hover:text-text transition-colors",children:"How it Works"}),l.jsx("a",{href:"#pricing",className:"text-text-muted hover:text-text transition-colors",children:"Pricing"}),l.jsx("a",{href:"#testimonials",className:"text-text-muted hover:text-text transition-colors",children:"Reviews"})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:e?l.jsx("button",{onClick:()=>n("/dashboard"),className:"btn btn-primary",children:"Dashboard"}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>n("/login"),className:"btn btn-secondary",children:"Login"}),l.jsx("button",{onClick:()=>n("/register"),className:"btn btn-primary",children:"Sign Up"})]})})]})})}),l.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-6",children:[l.jsx(a1,{className:"w-4 h-4"}),"Trusted by 2.5M+ families worldwide"]}),l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-text mb-6",children:["Manage Your Family's",l.jsx("span",{className:"text-primary",children:" Finances"})," Together"]}),l.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto mb-8",children:"The modern way to handle family expenses, split bills, and track spending. Join millions of families who trust FamilyPay for their financial needs."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs("button",{onClick:k,className:"btn btn-primary btn-lg flex items-center gap-2",children:[e?"Go to Dashboard":"Get Started Free",l.jsx(AT,{className:"w-5 h-5"})]}),l.jsxs("button",{className:"btn btn-secondary btn-lg flex items-center gap-2",children:[l.jsx(kO,{className:"w-5 h-5"}),"Watch Demo"]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-sm text-text-muted",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wt,{className:"w-4 h-4 text-success"}),"No credit card required"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wt,{className:"w-4 h-4 text-success"}),"Set up in 2 minutes"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wt,{className:"w-4 h-4 text-success"}),"14-day free trial"]})]})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-2xl p-8 border border-border",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-bg-card rounded-xl p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(MT,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium text-text",children:"Send Money"})]}),l.jsx("p",{className:"text-2xl font-bold text-text mb-1",children:"12,500"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Total sent this month"})]}),l.jsxs("div",{className:"bg-bg-card rounded-xl p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ia,{className:"w-5 h-5 text-success"}),l.jsx("span",{className:"font-medium text-text",children:"Family Circle"})]}),l.jsx("p",{className:"text-2xl font-bold text-text mb-1",children:"8 Members"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Active participants"})]}),l.jsxs("div",{className:"bg-bg-card rounded-xl p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(MO,{className:"w-5 h-5 text-warning"}),l.jsx("span",{className:"font-medium text-text",children:"Savings"})]}),l.jsx("p",{className:"text-2xl font-bold text-text mb-1",children:"45,000"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Total saved"})]})]})})})]})}),l.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-bg-card",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Object.entries(y).map(([F,L])=>l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-primary mb-2",children:L}),l.jsx("p",{className:"text-sm text-text-muted capitalize",children:F.replace(/([A-Z])/g," $1").trim()})]},F))})})}),l.jsx("section",{id:"features",className:"py-16 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Everything You Need for Family Finance"}),l.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Powerful features designed to make managing money together simple and secure."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:b.map((F,L)=>{const O=F.icon;return l.jsxs("div",{className:"card p-6 hover:border-primary transition-colors",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx(O,{className:"w-6 h-6 text-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:F.title}),l.jsx("p",{className:"text-text-muted",children:F.description})]},L)})})]})}),l.jsx("section",{id:"how-it-works",className:"py-16 px-4 sm:px-6 lg:px-8 bg-bg-card",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"How FamilyPay Works"}),l.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Get started in minutes and start managing your family finances better than ever."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Create Account"}),l.jsx("p",{className:"text-text-muted",children:"Sign up in seconds with your email or phone number"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Invite Family"}),l.jsx("p",{className:"text-text-muted",children:"Add family members to your circle and set permissions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Start Managing"}),l.jsx("p",{className:"text-text-muted",children:"Send money, track expenses, and reach your goals together"})]})]})]})}),l.jsx("section",{id:"pricing",className:"py-16 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Simple, Transparent Pricing"}),l.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"Choose the plan that works best for your family. Start free, upgrade anytime."})]}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsxs("div",{className:"bg-bg-card rounded-lg p-1 inline-flex",children:[l.jsx("button",{onClick:()=>o("personal"),className:`px-6 py-2 rounded-md transition-colors ${i==="personal"?"bg-primary text-white":"text-text-muted hover:text-text"}`,children:"Personal"}),l.jsx("button",{onClick:()=>o("business"),className:`px-6 py-2 rounded-md transition-colors ${i==="business"?"bg-primary text-white":"text-text-muted hover:text-text"}`,children:"Business"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:j.map((F,L)=>l.jsxs("div",{className:`card p-8 relative ${F.recommended?"border-2 border-primary ring-2 ring-primary/20":""}`,children:[F.recommended&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-primary text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:F.name}),l.jsxs("p",{className:"text-4xl font-bold text-text mb-2",children:[F.price,F.price!=="Free"&&l.jsx("span",{className:"text-lg text-text-muted font-normal",children:"/month"})]})]}),l.jsx("ul",{className:"space-y-3 mb-8",children:F.features.map((O,H)=>l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Wt,{className:"w-5 h-5 text-success flex-shrink-0"}),l.jsx("span",{className:"text-text",children:O})]},H))}),l.jsx("button",{className:`w-full btn ${F.recommended?"btn-primary":"btn-secondary"}`,children:F.price==="Free"?"Get Started":"Start Free Trial"})]},L))})]})}),l.jsx("section",{id:"testimonials",className:"py-16 px-4 sm:px-6 lg:px-8 bg-bg-card",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-text mb-4",children:"Loved by Families Worldwide"}),l.jsx("p",{className:"text-xl text-text-muted max-w-3xl mx-auto",children:"See what our users have to say about their experience with FamilyPay."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:w.map((F,L)=>l.jsxs("div",{className:"card p-6",children:[l.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(F.rating)].map((O,H)=>l.jsx(GO,{className:"w-4 h-4 fill-warning text-warning"},H))}),l.jsxs("p",{className:"text-text-muted mb-4",children:['"',F.content,'"']}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-bg-elevated rounded-full flex items-center justify-center text-lg",children:F.avatar}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:F.name}),l.jsx("p",{className:"text-sm text-text-muted",children:F.role})]})]})]},L))})]})}),l.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-2xl p-8 md:p-12 text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Ready to Transform Your Family's Finances?"}),l.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Join millions of families who trust FamilyPay for their financial needs."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{onClick:k,className:"btn bg-white text-primary hover:bg-gray-50 btn-lg",children:"Get Started Free"}),l.jsx("button",{className:"btn border-2 border-white text-white hover:bg-white/10 btn-lg",children:"Schedule Demo"})]})]})})}),l.jsx("footer",{className:"bg-bg-card border-t border-border py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-8 h-8 rounded-lg"}),l.jsx("span",{className:"text-xl font-bold text-text",children:"FamilyPay"})]}),l.jsx("p",{className:"text-text-muted",children:"The modern way to manage family finances together."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#features",className:"text-text-muted hover:text-text",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#pricing",className:"text-text-muted hover:text-text",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Security"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"API"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text mb-4",children:"Company"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"About"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Blog"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Careers"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Privacy Policy"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Terms of Service"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-text-muted hover:text-text",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-border pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("p",{className:"text-text-muted text-sm",children:" 2024 FamilyPay. All rights reserved."}),l.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[l.jsx(lO,{className:"w-5 h-5 text-text-muted"}),l.jsx(uO,{className:"w-5 h-5 text-text-muted"}),l.jsx(Xo,{className:"w-5 h-5 text-text-muted"})]})]})})]})})]})},kT=({onClose:s,onAdd:e})=>{const[n,i]=I.useState({secondaryUserId:"",dailyLimit:1e3,monthlyLimit:1e4}),[o,u]=I.useState(""),[d,p]=I.useState(!1),g=b=>{i({...n,[b.target.name]:b.target.value})},y=async b=>{b.preventDefault(),u(""),p(!0);try{await e({secondaryUserId:parseInt(n.secondaryUserId),dailyLimit:parseFloat(n.dailyLimit),monthlyLimit:parseFloat(n.monthlyLimit)})}catch(w){u(w.message),p(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content fade-in",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Add Family Member"}),l.jsx("button",{className:"modal-close",onClick:s,children:""})]}),o&&l.jsx("div",{className:"alert alert-error",children:o}),l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Secondary User ID"}),l.jsx("input",{type:"number",name:"secondaryUserId",className:"form-input",placeholder:"Enter user ID",value:n.secondaryUserId,onChange:g,required:!0}),l.jsx("p",{className:"text-muted text-sm mt-1",children:"Ask the user to provide their User ID from their profile"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Daily Limit ()"}),l.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:n.dailyLimit,onChange:g,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),l.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:n.monthlyLimit,onChange:g,required:!0})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:s,disabled:d,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?l.jsx("div",{className:"loading-spinner w-4 h-4"}):"Add Member"})]})]})]})})},mk=({member:s,onClose:e,onSetLimit:n})=>{const[i,o]=I.useState({dailyLimit:s?.dailyLimit||1e3,monthlyLimit:s?.monthlyLimit||1e4}),[u,d]=I.useState(""),[p,g]=I.useState(!1),y=w=>{o({...i,[w.target.name]:parseFloat(w.target.value)})},b=async w=>{w.preventDefault(),d(""),g(!0);try{await n(i)}catch(j){d(j.message),g(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsxs("h3",{className:"text-lg font-semibold text-text",children:["Set Limits for ",s?.name||"Member"]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx("span",{className:"text-text-muted",children:""})})]}),u&&l.jsx("div",{className:"p-4 bg-danger/10 border border-danger/20",children:l.jsx("p",{className:"text-danger text-sm",children:u})}),l.jsxs("form",{onSubmit:b,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Daily Limit ()"}),l.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:i.dailyLimit,onChange:y,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),l.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:i.monthlyLimit,onChange:y,required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:p,className:"flex-1 btn btn-primary",children:p?"Setting...":"Set Limits"})]})]})]})})},pk=({isOpen:s,toggleSidebar:e})=>{const{user:n,logout:i}=cn(),o=ws(),[u,d]=I.useState(null),p=[{title:"Dashboard",icon:pO,path:"/dashboard",active:o.pathname==="/dashboard"},{title:"Family Members",icon:Ia,count:4,path:"/dashboard/members",active:o.pathname==="/dashboard/members"},{title:"Transactions",icon:En,count:234,path:"/dashboard/transactions",active:o.pathname==="/dashboard/transactions"},{title:"Pending Approvals",icon:Sy,count:3,path:"/dashboard/pending",active:o.pathname==="/dashboard/pending"},{title:"Analytics",icon:jT,path:"/dashboard/analytics",active:o.pathname==="/dashboard/analytics"},{title:"Spending Limits",icon:Fc,path:"/dashboard/limits",active:o.pathname==="/dashboard/limits"},{title:"Notifications",icon:SO,count:12,path:"/dashboard/notifications",active:o.pathname==="/dashboard/notifications"},{title:"Reports",icon:nO,path:"/dashboard/reports",active:o.pathname==="/dashboard/reports"},{title:"Activity Log",icon:D6,path:"/dashboard/activity",active:o.pathname==="/dashboard/activity"}],g=[{title:"Settings",icon:Fc,items:[{title:"General Settings",path:"/dashboard/settings/general"},{title:"Circle Management",icon:Ia,path:"/dashboard/settings/circle"},{title:"Payment Methods",icon:En,path:"/dashboard/settings/payments"}]}],y=b=>{d(u===b?null:b)};return l.jsxs(l.Fragment,{children:[s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e}),l.jsx("div",{className:`
                fixed left-0 top-0 h-full bg-bg-card border-r border-border z-50 transition-all duration-300
                ${s?"w-64":"w-0 lg:w-20"} 
                ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:`flex items-center gap-3 ${!s&&"lg:justify-center"}`,children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:"FP"})}),s&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-text font-semibold",children:"Family Pay"}),l.jsx("p",{className:"text-text-muted text-xs",children:"Admin Panel"})]})]}),l.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-bg-elevated lg:hidden",children:l.jsx(iu,{className:"w-5 h-5 text-text"})})]})}),l.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-2",children:[p.map(b=>l.jsxs(Si,{to:b.path,className:`
                                        flex items-center justify-between p-3 rounded-lg transition-all duration-200
                                        ${b.active?"bg-primary/10 text-primary border border-primary/20":"hover:bg-bg-elevated text-text-muted hover:text-text"}
                                    `,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(b.icon,{className:"w-5 h-5"}),s&&l.jsx("span",{className:"text-sm font-medium",children:b.title})]}),b.count&&s&&l.jsx("span",{className:"bg-primary/20 text-primary text-xs px-2 py-1 rounded-full",children:b.count})]},b.title)),g.map(b=>l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>y(b.title),className:`
                                            w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200
                                            ${u===b.title?"bg-primary/10 text-primary border border-primary/20":"hover:bg-bg-elevated text-text-muted hover:text-text"}
                                        `,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(b.icon,{className:"w-5 h-5"}),s&&l.jsx("span",{className:"text-sm font-medium",children:b.title})]}),s&&l.jsx(CT,{className:`w-4 h-4 transition-transform duration-200 ${u===b.title?"rotate-180":""}`})]}),s&&u===b.title&&l.jsx("div",{className:"ml-4 mt-2 space-y-1",children:b.items.map(w=>l.jsxs(Si,{to:w.path,className:`
                                                        flex items-center gap-3 p-2 rounded-lg text-sm transition-all duration-200
                                                        ${o.pathname===w.path?"bg-primary/10 text-primary":"text-text-muted hover:text-text hover:bg-bg-elevated"}
                                                    `,children:[w.icon&&l.jsx(w.icon,{className:"w-4 h-4"}),w.title]},w.title))})]},b.title))]})}),l.jsxs("div",{className:"p-4 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-secondary to-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-semibold",children:n?.name?.charAt(0).toUpperCase()||"A"})}),s&&l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-text truncate",children:n?.email||"admin@familypay.com"}),l.jsx("p",{className:"text-xs text-text-muted",children:"Administrator"})]})]}),s&&l.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-2 rounded-lg text-sm text-text-muted hover:text-danger hover:bg-danger/10 transition-all duration-200",children:[l.jsx(bO,{className:"w-4 h-4"}),"Logout"]})]})]})})]})},Va=({userRole:s="SECONDARY"})=>{const e=Es(),n=ws(),[i,o]=I.useState("dashboard"),[u,d]=I.useState(!1);I.useEffect(()=>{const y=()=>{d(window.innerWidth<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const p=s==="ADMIN"||s==="PRIMARY"?[{id:"dashboard",label:"Dashboard",icon:i1,path:"/dashboard"},{id:"transactions",label:"Transactions",icon:En,path:"/dashboard/transactions"},{id:"members",label:"Members",icon:Ia,path:"/dashboard/members"},{id:"analytics",label:"Analytics",icon:jT,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:Fc,path:"/dashboard/settings"}]:[{id:"dashboard",label:"Home",icon:i1,path:"/dashboard"},{id:"payments",label:"Pay",icon:ak,path:"/dashboard/payments"},{id:"transactions",label:"History",icon:En,path:"/dashboard/transactions"},{id:"notifications",label:"Alerts",icon:Ca,path:"/dashboard/notifications"},{id:"profile",label:"Profile",icon:qc,path:"/dashboard/profile"}],g=y=>{console.log("BottomNav clicked:",y),o(y.id),e(y.path),"vibrate"in navigator&&navigator.vibrate(50)};return I.useEffect(()=>{const y=n.pathname,b=p.find(w=>y===w.path||y.startsWith(w.path+"/"));b&&o(b.id)},[n.pathname,p]),u?l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-bg-card/95 backdrop-blur-lg border-t border-border z-50 safe-area-inset-bottom",children:[l.jsx("div",{className:"flex justify-around items-center h-16 px-2 max-w-md mx-auto",children:p.map(y=>{const b=y.icon,w=i===y.id;return l.jsxs("button",{onClick:()=>g(y),className:`flex flex-col items-center justify-center py-2 px-2 rounded-xl transition-all duration-300 min-w-0 flex-1 relative group ${w?"text-primary scale-105":"text-text-muted hover:text-text"}`,children:[w&&l.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"}),l.jsxs("div",{className:"relative mb-1",children:[l.jsx(b,{className:`w-5 h-5 transition-all duration-300 ${w?"text-primary scale-110":"text-text-muted group-hover:scale-105"}`}),y.id==="notifications"&&l.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-danger rounded-full animate-pulse"})]}),l.jsx("span",{className:`text-xs transition-all duration-300 truncate w-full text-center ${w?"text-primary font-semibold":"text-text-muted group-hover:text-text"}`,children:y.label}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/10 scale-0 group-active:scale-100 transition-transform duration-200"})]},y.id)})}),l.jsx("div",{className:"h-2 bg-bg-card/95 backdrop-blur-lg"})]}):null},o1=()=>{const{user:s,logout:e}=cn(),[n,i]=I.useState(!0),[o,u]=I.useState(!1),[d,p]=I.useState(!1),[g,y]=I.useState(!1),[b,w]=I.useState(!1),[j,k]=I.useState(Po),[F,L]=I.useState([]),[O,H]=I.useState(!0),[J,U]=I.useState(!1),[ie,ae]=I.useState(null),ce=async()=>{try{const[S,D]=await Promise.all([mc.getCircle(),mc.getPendingPayments()]);k(S.data.data),L(D.data.data),H(!1)}catch{console.error("Error loading dashboard"),H(!1)}},C=async(S,D)=>{try{await mc.approvePayment(S,D),ce()}catch{alert("Failed to process payment")}},E=async(S,D)=>{try{const z=j.members.find(R=>R.id===S);z&&(z.dailyLimit=D.dailyLimit,z.monthlyLimit=D.monthlyLimit,k({...j})),ae(null)}catch{throw new Error("Failed to update limits")}};I.useEffect(()=>{let S=!0;return(async()=>{try{const[z,R]=await Promise.all([mc.getCircle(),mc.getPendingPayments()]);S&&(k(z.data.data),L(R.data.data),H(!1))}catch{S&&(console.error("Error loading dashboard"),H(!1))}})(),()=>{S=!1}},[]),I.useEffect(()=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const N=()=>{u(!o)};return O?l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})}):l.jsxs("div",{className:"min-h-screen bg-bg flex",children:[l.jsx(pk,{isOpen:n,toggleSidebar:()=>i(!n)}),l.jsxs("div",{className:`flex-1 transition-all duration-300 ${n?"ml-64":"ml-0 lg:ml-20"}`,children:[l.jsxs("header",{className:"bg-bg-card border-b border-border sticky top-0 z-40",children:[l.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-lg hover:bg-bg-elevated lg:hidden transition-colors",children:l.jsx(TO,{className:"w-5 h-5 text-text"})}),l.jsxs("div",{className:"hidden md:flex items-center bg-bg-elevated rounded-lg px-3 py-2 w-64 lg:w-96",children:[l.jsx(su,{className:"w-4 h-4 text-text-muted mr-2"}),l.jsx("input",{type:"text",placeholder:"Search transactions, members...",className:"bg-transparent border-0 outline-none text-text placeholder-text-muted flex-1 text-sm"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:N,className:"p-2 rounded-lg hover:bg-bg-elevated transition-colors",title:"Toggle dark mode",children:o?l.jsx(YO,{className:"w-5 h-5 text-warning"}):l.jsx(jO,{className:"w-5 h-5 text-text-muted"})}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>y(!g),className:"p-2 rounded-lg hover:bg-bg-elevated transition-colors relative",title:"Notifications",children:[l.jsx(Ca,{className:"w-5 h-5 text-text"}),l.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-danger rounded-full"})]}),g&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-bg-card border border-border rounded-lg shadow-lg",children:[l.jsxs("div",{className:"p-4 border-b border-border",children:[l.jsx("h3",{className:"font-semibold text-text",children:"Notifications"}),l.jsx("span",{className:"text-xs text-text-muted",children:"3 new"})]}),l.jsx("div",{className:"max-h-64 overflow-y-auto",children:[{id:1,title:"Payment Pending",message:"Rajnish requested 2,850 for groceries",time:"2 minutes ago",read:!1},{id:2,title:"Limit Reached",message:"Sangam reached 80% of daily limit",time:"1 hour ago",read:!1},{id:3,title:"Payment Completed",message:"Raveena paid electricity bill",time:"3 hours ago",read:!0}].map(S=>l.jsx("div",{className:`p-3 hover:bg-bg-elevated cursor-pointer border-b border-border last:border-b-0 ${S.read?"":"bg-primary/5"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-text text-sm",children:S.title}),l.jsx("div",{className:"text-xs text-text-muted",children:S.message}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:S.time})]})]})},S.id))}),l.jsx("div",{className:"p-3 border-t border-border",children:l.jsx("button",{className:"text-sm text-primary hover:text-primary/80",children:"View all notifications"})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>w(!b),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-bg-elevated transition-colors",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold text-sm",children:s?.name?.charAt(0).toUpperCase()||"A"}),l.jsxs("div",{className:"hidden sm:block text-left",children:[l.jsx("div",{className:"text-sm font-medium text-text",children:s?.name||"Admin"}),l.jsx("div",{className:"text-xs text-text-muted",children:s?.email||"admin@familypay.com"})]}),l.jsx(CT,{className:"w-4 h-4 text-text-muted"})]}),b&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-bg-card border border-border rounded-lg shadow-lg",children:[l.jsx("div",{className:"p-4 border-b border-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold",children:s?.name?.charAt(0).toUpperCase()||"A"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text",children:s?.name||"Admin"}),l.jsx("div",{className:"text-sm text-text-muted",children:s?.email||"admin@familypay.com"}),l.jsx("div",{className:"text-xs text-success",children:"Administrator"})]})]})}),l.jsxs("div",{className:"py-2",children:[l.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Profile Settings"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Account Settings"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-text hover:bg-bg-elevated transition-colors",children:"Help & Support"}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("button",{onClick:e,className:"w-full text-left px-4 py-2 text-sm text-danger hover:bg-danger/10 transition-colors",children:"Logout"})]})]})]})]})]})}),d&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 lg:hidden",onClick:()=>p(!1)}),d&&l.jsx("div",{className:"fixed top-16 left-0 right-0 bg-bg-card border-b border-border z-40 lg:hidden",children:l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-bg-elevated rounded-lg",children:"Dashboard"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-bg-elevated rounded-lg",children:"Family Members"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Transactions"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Analytics"}),l.jsx("button",{className:"w-full text-left px-4 py-2 text-text hover:bg-elevated rounded-lg",children:"Settings"})]})})})]}),l.jsxs("div",{className:"p-6 pb-20 lg:pb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[l.jsxs("div",{className:"card bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-primary rounded-lg",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"text-primary text-sm font-medium",children:"+12.5%"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-text",children:"45,678"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Total Spending"})]})]}),l.jsxs("div",{className:"card bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2a3 3 0 00-5.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2a3 3 0 00-5.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("span",{className:"text-blue-500 text-sm font-medium",children:"4 members"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-text",children:"4"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Family Members"})]})]}),l.jsxs("div",{className:"card bg-gradient-to-br from-green-500/10 to-green-600/5 border border-green-500/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7-8h18m-4 0v8m0 0v8m0-8h8m-9-4h1m-9-4v8m0 0v8"})})}),l.jsx("span",{className:"text-green-500 text-sm font-medium",children:"234 total"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-text",children:"234"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Transactions"})]})]}),l.jsxs("div",{className:"card bg-gradient-to-br from-orange-500/10 to-orange-600/5 border border-orange-500/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-orange-500 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"text-orange-500 text-sm font-medium",children:"3 pending"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-text",children:"3"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Pending Approvals"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"New Customers"}),l.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"234"}),l.jsx("div",{className:"text-xs text-success",children:"+12% from last month"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"Pending Orders"}),l.jsx("div",{className:"w-8 h-8 bg-warning/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"45"}),l.jsx("div",{className:"text-xs text-warning",children:"Requires attention"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"Completed Orders"}),l.jsx("div",{className:"w-8 h-8 bg-success/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"522"}),l.jsx("div",{className:"text-xs text-success",children:"+18% from last month"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"Revenue Today"}),l.jsx("div",{className:"w-8 h-8 bg-info/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"8,450"}),l.jsx("div",{className:"text-xs text-success",children:"+5.2% from yesterday"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"Avg Order Value"}),l.jsx("div",{className:"w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"1,234"}),l.jsx("div",{className:"text-xs text-success",children:"+2.8% from last month"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm text-text-muted",children:"Satisfaction"}),l.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),l.jsx("div",{className:"text-xl font-bold text-text",children:"4.8"}),l.jsx("div",{className:"text-xs text-success",children:"+0.2 from last month"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Monthly Goal Progress"}),l.jsx("span",{className:"text-sm text-text-muted",children:"68% Complete"})]}),l.jsx("div",{className:"space-y-4",children:[{label:"Revenue Target",current:45e3,target:66e3,percentage:68,color:"bg-green-500"},{label:"New Customers",current:180,target:250,percentage:72,color:"bg-blue-500"},{label:"Orders Processed",current:420,target:500,percentage:84,color:"bg-purple-500"},{label:"Customer Retention",current:85,target:90,percentage:94,color:"bg-orange-500"}].map((S,D)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-text",children:S.label}),l.jsxs("span",{className:"text-text-muted",children:[S.current.toLocaleString()," /"," ",S.target.toLocaleString()]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:`${S.color} h-2 rounded-full transition-all duration-300`,style:{width:`${S.percentage}%`}})})]},D))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Performance Metrics"}),l.jsx("span",{className:"text-sm text-success",children:"Overall: +15.3%"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Response Time",value:"2.3s",change:"-12%",trend:"down",color:"text-danger"},{label:"Resolution Rate",value:"94.2%",change:"+5.8%",trend:"up",color:"text-success"},{label:"Customer Score",value:"8.7/10",change:"+0.3",trend:"up",color:"text-success"},{label:"System Uptime",value:"99.8%",change:"+0.1%",trend:"up",color:"text-success"}].map((S,D)=>l.jsxs("div",{className:"p-3 bg-bg-elevated rounded-lg border border-border",children:[l.jsx("div",{className:"text-sm text-text-muted mb-1",children:S.label}),l.jsx("div",{className:"text-lg font-bold text-text mb-1",children:S.value}),l.jsxs("div",{className:`text-xs font-medium ${S.color}`,children:[S.trend==="up"?"":""," ",S.change]})]},D))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"lg:col-span-2 card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Spending Overview"}),l.jsxs("select",{className:"btn btn-secondary btn-sm",children:[l.jsx("option",{children:"Last 7 Days"}),l.jsx("option",{children:"Last 30 Days"}),l.jsx("option",{children:"Last 3 Months"})]})]}),l.jsx("div",{className:"h-64",children:l.jsx("div",{className:"flex items-end justify-between h-full px-2",children:[{day:"Mon",amount:2800,percentage:70},{day:"Tue",amount:3200,percentage:80},{day:"Wed",amount:2100,percentage:52},{day:"Thu",amount:3800,percentage:95},{day:"Fri",amount:2900,percentage:72},{day:"Sat",amount:3500,percentage:87},{day:"Sun",amount:1800,percentage:45}].map((S,D)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsxs("div",{className:"text-xs text-text-muted mb-1",children:["",S.amount]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-t-lg relative h-32 flex items-end",children:l.jsx("div",{className:"w-full bg-gradient-to-t from-primary to-secondary rounded-t-lg transition-all duration-300",style:{height:`${S.percentage}%`}})}),l.jsx("div",{className:"text-xs text-text-muted mt-2",children:S.day})]},D))})})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Category Distribution"})}),l.jsx("div",{className:"space-y-4",children:[{category:"Food & Groceries",amount:12500,percentage:35,color:"bg-green-500"},{category:"Shopping",amount:8900,percentage:25,color:"bg-blue-500"},{category:"Bills & Utilities",amount:7200,percentage:20,color:"bg-yellow-500"},{category:"Transport",amount:5400,percentage:15,color:"bg-purple-500"},{category:"Entertainment",amount:1800,percentage:5,color:"bg-pink-500"}].map((S,D)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"FamilyPay Admin"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Manage your family circle efficiently"})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-sm font-semibold text-text",children:[S.percentage,"%"]})})]},D))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Member Spending Comparison"})}),l.jsx("div",{className:"space-y-4",children:[{name:"Rajnish",spent:8500,limit:1e4,percentage:85},{name:"Sangam",spent:6200,limit:8e3,percentage:77},{name:"Raveena",spent:4800,limit:6e3,percentage:80},{name:"Shubh",spent:3200,limit:5e3,percentage:64}].map((S,D)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-text",children:S.name}),l.jsxs("span",{className:"text-xs text-text-muted",children:["",S.spent," / ",S.limit]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${S.percentage>80?"bg-danger":S.percentage>60?"bg-warning":"bg-success"}`,style:{width:`${S.percentage}%`}})})]},D))})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Transaction Trends"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:"+23%"}),l.jsx("div",{className:"text-sm text-text-muted",children:"vs Last Month"}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Total Transactions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-danger",children:"+15%"}),l.jsx("div",{className:"text-sm text-text-muted",children:"vs Last Month"}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Avg. Transaction"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:"2,450"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Average"}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Per Transaction"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-warning",children:"89%"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Success Rate"}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Transactions"})]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Monthly Overview"}),l.jsx("button",{className:"btn btn-secondary btn-sm",children:"Export Report"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"January",amount:45678,change:12.5,trend:"up"},{label:"February",amount:38900,change:-8.2,trend:"down"},{label:"March",amount:52340,change:34.6,trend:"up"},{label:"April (Current)",amount:35800,change:0,trend:"neutral"}].map((S,D)=>l.jsxs("div",{className:"p-4 bg-bg-elevated rounded-lg border border-border",children:[l.jsx("div",{className:"text-sm text-text-muted mb-1",children:S.label}),l.jsxs("div",{className:"text-xl font-bold text-text mb-2",children:["",S.amount.toLocaleString()]}),S.trend!=="neutral"&&l.jsxs("div",{className:`flex items-center text-xs ${S.trend==="up"?"text-success":"text-danger"}`,children:[S.trend==="up"?"":""," ",Math.abs(S.change),"%"]})]},D))})]}),F.length>0&&l.jsxs("div",{className:"card mb-6",children:[l.jsx("div",{className:"border-b border-border pb-4 mb-4",children:l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Pending Approvals"})}),l.jsx("div",{className:"space-y-4",children:F.map(S=>l.jsx("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-default border border-border",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-text mb-1",children:S.fromUser.name}),l.jsx("div",{className:"text-text-muted text-sm mb-2",children:S.description}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-info/10 text-info",children:["",S.amount]}),l.jsxs("span",{className:"text-text-muted text-sm",children:["To: ",S.toUpiId]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-success text-sm px-3 py-1",onClick:()=>C(S.id,!0),children:" Approve"}),l.jsx("button",{className:"btn btn-danger text-sm px-3 py-1",onClick:()=>C(S.id,!1),children:" Reject"})]})]})},S.id))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Recent Transactions"}),l.jsx("button",{className:"btn btn-secondary btn-sm",children:"View All"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Description"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:[{id:1,member:"Rajnish Kumar",phone:"+91 9876543210",avatar:"R",description:"Grocery shopping at Big Bazaar",amount:2850,status:"completed",date:"2024-01-15",category:"Food & Groceries"},{id:2,member:"Sangam Singh",phone:"+91 9876543211",avatar:"S",description:"Mobile phone bill payment",amount:1299,status:"pending",date:"2024-01-15",category:"Bills & Utilities"},{id:3,member:"Raveena Kumari",phone:"+91 9876543212",avatar:"R",description:"Online shopping - Amazon",amount:3599,status:"completed",date:"2024-01-14",category:"Shopping"},{id:4,member:"Shubh Kumar",phone:"+91 9876543213",avatar:"S",description:"Electricity bill payment",amount:2200,status:"pending",date:"2024-01-13",category:"Bills & Utilities"}].map(S=>l.jsxs("tr",{className:"hover:bg-bg-elevated",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold text-sm",children:S.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text",children:S.member}),l.jsx("div",{className:"text-xs text-text-muted",children:S.phone})]})]})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text",children:S.description}),l.jsx("div",{className:"text-xs text-text-muted",children:S.category})]})}),l.jsxs("td",{className:"font-semibold text-text",children:["",S.amount]}),l.jsx("td",{children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.status==="completed"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:S.status})}),l.jsx("td",{className:"text-text-muted text-sm",children:S.date}),l.jsx("td",{children:l.jsx("button",{className:"p-1 hover:bg-bg-elevated rounded",children:l.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v14m0 0l-7 7m7 7V7a2 2 0 002-2h2a2 2 0 002-2m0 10a2 2 0 002 2 2 2 0 002-2m-6 8a2 2 0 002-2-2 2 0 00-2z"})})})})]},S.id))})]})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:" Activity Feed"}),l.jsx("button",{className:"btn btn-secondary btn-sm",children:"View All"})]}),l.jsx("div",{className:"space-y-4",children:[{id:1,icon:"",title:"System Update",description:"Database backup completed successfully",time:"1 hour ago",color:"text-blue-500"},{id:2,icon:"",title:"Pending Payment Alert",description:"2 payments waiting for admin approval",time:"2 hours ago",color:"text-yellow-500"},{id:3,icon:"",title:"New Transaction Received",description:"Grocery payment from Rajnish - 2,850",time:"3 hours ago",color:"text-green-500"},{id:4,icon:"",title:"New Transaction Received",description:"Mobile payment from Sangam - 1,299",time:"4 hours ago",color:"text-green-500"},{id:5,icon:"",title:"Payment Completed",description:"Electricity bill paid for Shubh",time:"5 hours ago",color:"text-green-500"}].map(S=>l.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-bg-elevated rounded-lg",children:[l.jsx("div",{className:"text-2xl",children:S.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-text mb-1",children:S.title}),l.jsx("div",{className:"text-sm text-text-muted",children:S.description}),l.jsx("div",{className:"text-xs text-text-muted mt-1",children:S.time})]})]},S.id))})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-border",children:[l.jsxs("h3",{className:"text-lg font-semibold text-text",children:[" Family Members (",j.members.length,")"]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>U(!0),children:"+ Add Member"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.members.map(S=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-medium text-text mb-1",children:S.secondaryUser.name}),l.jsx("p",{className:"text-text-muted text-sm",children:S.secondaryUser.upiId}),S.secondaryUser.isMinor&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-warning/10 text-warning mt-2",children:"Minor"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"text-text-muted",children:"Daily Limit"}),l.jsxs("span",{className:"font-medium text-text",children:["",S.currentDailySpent," / ",S.dailyLimit]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(S.currentDailySpent/S.dailyLimit*100,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"text-text-muted",children:"Monthly Limit"}),l.jsxs("span",{className:"font-medium text-text",children:["",S.currentMonthlySpent," / ",S.monthlyLimit]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:"bg-secondary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(S.currentMonthlySpent/S.monthlyLimit*100,100)}%`}})})]})]}),l.jsx("div",{className:"pt-4 border-t border-border",children:l.jsx("button",{className:"btn btn-secondary w-full text-sm",onClick:()=>ae(S),children:"Set Limits"})})]},S.id))})]}),J&&l.jsx(kT,{onClose:()=>U(!1),onAdd:async()=>{alert("Demo Mode: Member addition simulated"),U(!1)}}),ie&&l.jsx(mk,{member:ie,onClose:()=>ae(null),onUpdate:E})]})]}),l.jsx(Va,{userRole:s?.role})]})},fg={createPayment:async s=>{try{const e={...s,type:"PAYMENT",status:s.amount>=1e3?"pending":"completed",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await xn.createTransaction(e);return n.success?(e.status==="completed"&&await(void 0).updateCircleSpending(s.fromUserId,s.amount),{success:!0,data:{id:n.id,...e,autoApproved:s.amount<1e3}}):{success:!1,error:n.error}}catch(e){return{success:!1,error:e.message}}},getUserTransactions:async(s,e=50)=>{try{return await xn.getUserTransactions(s,e)}catch(n){return{success:!1,error:n.message}}},getPendingTransactions:async()=>{try{return await xn.getPendingTransactions()}catch(s){return{success:!1,error:s.message}}},approvePayment:async(s,e)=>{try{const n={status:"completed",approvedBy:e,approvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},i=await xn.updateTransaction(s,n);return i.success?{success:!0,data:n}:{success:!1,error:i.error}}catch(n){return{success:!1,error:n.message}}},rejectPayment:async(s,e,n)=>{try{const i={status:"rejected",rejectedBy:e,rejectedAt:new Date().toISOString(),rejectionReason:n,updatedAt:new Date().toISOString()},o=await xn.updateTransaction(s,i);return o.success?{success:!0,data:i}:{success:!1,error:o.error}}catch(i){return{success:!1,error:i.message}}},updateCircleSpending:async(s,e)=>{try{const n=await xn.getUser(s);if(n.success&&n.data.familyCircle){const i=n.data.familyCircle,o=await xn.getCircle(i);if(o.success){const u=o.data,d={currentDailySpent:(u.currentDailySpent||0)+e,currentMonthlySpent:(u.currentMonthlySpent||0)+e,updatedAt:new Date().toISOString()};await xn.updateCircle(i,d)}}}catch(n){console.error("Error updating circle spending:",n)}},listenToUserTransactions:(s,e)=>{try{return xn.listenToTransactions(s,e)}catch(n){return console.error("Error setting up transaction listener:",n),null}},listenToPendingTransactions:s=>{try{return xn.listenToPendingTransactions(s)}catch(e){return console.error("Error setting up pending transactions listener:",e),null}},getPaymentStats:async s=>{try{const e=await xn.getUserTransactions(s,100);if(e.success){const n=e.data,i={totalTransactions:n.length,completedTransactions:n.filter(o=>o.status==="completed").length,pendingTransactions:n.filter(o=>o.status==="pending").length,rejectedTransactions:n.filter(o=>o.status==="rejected").length,totalSpent:n.filter(o=>o.status==="completed").reduce((o,u)=>o+(u.amount||0),0),averageTransaction:0};return i.completedTransactions>0&&(i.averageTransaction=i.totalSpent/i.completedTransactions),{success:!0,data:i}}else return{success:!1,error:e.error}}catch(e){return{success:!1,error:e.message}}}},gk=({isOpen:s,onClose:e,onSelectContact:n,user:i})=>{const[o,u]=I.useState(""),[d,p]=I.useState(null),[g,y]=I.useState([]),[b,w]=I.useState(!0),j=()=>{const U=Date.now();return[{id:1,name:"Mom",phone:"+91 98765 43210",email:"mom@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:{amount:500,date:new Date(U-1e3*60*60*24),type:"received"}},{id:2,name:"Dad",phone:"+91 98765 43211",email:"dad@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:{amount:1e3,date:new Date(U-1e3*60*60*48),type:"sent"}},{id:3,name:"Sister",phone:"+91 98765 43212",email:"sister@familypay.com",avatar:"",status:"offline",isFamily:!0,lastTransaction:{amount:250,date:new Date(U-1e3*60*60*72),type:"received"}},{id:4,name:"Brother",phone:"+91 98765 43213",email:"brother@familypay.com",avatar:"",status:"online",isFamily:!0,lastTransaction:null},{id:5,name:"John Doe",phone:"+91 98765 43214",email:"john@example.com",avatar:"",status:"offline",isFamily:!1,lastTransaction:{amount:150,date:new Date(U-1e3*60*60*120),type:"sent"}},{id:6,name:"Jane Smith",phone:"+91 98765 43215",email:"jane@example.com",avatar:"",status:"online",isFamily:!1,lastTransaction:null},{id:7,name:"Mike Wilson",phone:"+91 98765 43216",email:"mike@example.com",avatar:"",status:"offline",isFamily:!1,lastTransaction:{amount:300,date:new Date(U-1e3*60*60*168),type:"received"}},{id:8,name:"Sarah Johnson",phone:"+91 98765 43217",email:"sarah@example.com",avatar:"",status:"online",isFamily:!1,lastTransaction:null}]};I.useEffect(()=>{setTimeout(()=>{y(j()),w(!1)},500)},[]);const k=g.filter(U=>U.name.toLowerCase().includes(o.toLowerCase())||U.phone.includes(o)||U.email.toLowerCase().includes(o.toLowerCase())),F=k.filter(U=>U.isFamily),L=k.filter(U=>!U.isFamily),O=U=>{p(U)},H=()=>{d&&(n(d),e())},J=U=>{if(!U)return null;const ae=Math.abs(new Date-U.date),ce=Math.ceil(ae/(1e3*60*60*24));return ce===1?"Yesterday":ce<7?`${ce} days ago`:ce<30?`${Math.floor(ce/7)} weeks ago`:`${Math.floor(ce/30)} months ago`};return s?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-text",children:"Send Money"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(iu,{className:"w-5 h-5 text-text"})})]}),l.jsx("div",{className:"p-4 border-b border-border",children:l.jsxs("div",{className:"relative",children:[l.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),l.jsx("input",{type:"text",value:o,onChange:U=>u(U.target.value),placeholder:"Search by name, phone, or email...",className:"w-full pl-10 pr-4 py-2.5 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:b?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"loading-spinner"})}):l.jsxs("div",{className:"space-y-6",children:[F.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-text-muted mb-3",children:"FAMILY"}),l.jsx("div",{className:"space-y-2",children:F.map(U=>l.jsx(l1,{contact:U,isSelected:d?.id===U.id,onSelect:()=>O(U),formatLastTransaction:J},U.id))})]}),L.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-text-muted mb-3",children:"OTHERS"}),l.jsx("div",{className:"space-y-2",children:L.map(U=>l.jsx(l1,{contact:U,isSelected:d?.id===U.id,onSelect:()=>O(U),formatLastTransaction:J},U.id))})]}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qc,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No contacts found"}),l.jsx("p",{className:"text-text-muted",children:"Try searching with a different name or phone number"})]})]})}),l.jsx("div",{className:"p-4 border-t border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-text-muted",children:d?l.jsxs("span",{children:["Selected:"," ",l.jsx("span",{className:"font-medium text-text",children:d.name})]}):l.jsx("span",{children:"Select a contact to continue"})}),l.jsx("button",{onClick:H,disabled:!d,className:`btn ${d?"btn-primary":"btn-secondary"}`,children:"Continue"})]})})]})}):null},l1=({contact:s,isSelected:e,onSelect:n,formatLastTransaction:i})=>l.jsxs("div",{onClick:n,className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${e?"border-primary bg-primary/5":"border-border hover:border-primary hover:bg-bg-elevated"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:s.avatar}),l.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-bg-card ${s.status==="online"?"bg-success":"bg-text-muted"}`})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-medium text-text",children:s.name}),s.isFamily&&l.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:"Family"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[l.jsx(cf,{className:"w-3 h-3"}),l.jsx("span",{children:s.phone})]}),s.lastTransaction&&l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("div",{className:`flex items-center gap-1 text-xs ${s.lastTransaction.type==="sent"?"text-danger":"text-success"}`,children:[s.lastTransaction.type==="sent"?l.jsx(La,{className:"w-3 h-3"}):l.jsx(Wt,{className:"w-3 h-3"}),l.jsxs("span",{children:[s.lastTransaction.type==="sent"?"Sent":"Received"," ","",s.lastTransaction.amount]})]}),l.jsxs("span",{className:"text-xs text-text-muted",children:[" ",i(s.lastTransaction)]})]})]})]}),l.jsx("div",{className:"flex items-center",children:e&&l.jsx("div",{className:"w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:l.jsx(Wt,{className:"w-3 h-3 text-white"})})})]}),yk=({isOpen:s,onClose:e,onScanSuccess:n,user:i})=>{const[o,u]=I.useState(!1),[d,p]=I.useState(null),[g,y]=I.useState(null),[b,w]=I.useState(null),[j,k]=I.useState(null),F=I.useRef(null),L=[{upiId:"mom@familypay",name:"Mom",phone:"+91 98765 43210",amount:null},{upiId:"dad@familypay",name:"Dad",phone:"+91 98765 43211",amount:null},{upiId:"sister@familypay",name:"Sister",phone:"+91 98765 43212",amount:null},{upiId:"john@paytm",name:"John Doe",phone:"+91 98765 43214",amount:500},{upiId:"merchant@paytm",name:"Grocery Store",phone:"+91 98765 43220",amount:250}],O=async()=>{try{const E=await navigator.permissions.query({name:"camera"});if(w(E.state),E.state==="granted")H();else if(E.state==="prompt"){const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});w("granted"),H()}}catch(E){console.error("Camera permission error:",E),w("denied"),y("Camera access denied. Please enable camera permissions.")}},H=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});k(E),F.current&&(F.current.srcObject=E,u(!0),y(null),U())}catch(E){console.error("Camera start error:",E),y("Unable to access camera. Please check your camera settings."),w("denied")}},J=()=>{j&&(j.getTracks().forEach(E=>E.stop()),k(null)),u(!1)},U=()=>{setTimeout(()=>{if(o){const E=L[Math.floor(Math.random()*L.length)];ie(E)}},3e3)},ie=E=>{p(E),u(!1),J(),navigator.vibrate&&navigator.vibrate(200)},ae=()=>{d&&(n(d),e())},ce=()=>{p(null),y(null),H()},C=()=>{J(),p(null),y(null),e()};return I.useEffect(()=>(s&&O(),()=>{J()}),[s]),s?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-text",children:"Scan QR Code"}),l.jsx("button",{onClick:C,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(iu,{className:"w-5 h-5 text-text"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Wt,{className:"w-8 h-8 text-success"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"QR Code Scanned!"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Payment details retrieved successfully"})]}),l.jsx("div",{className:"card border-2 border-success/20 bg-success/5",children:l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl",children:d.name==="Mom"?"":d.name==="Dad"?"":d.name==="Sister"?"":d.name==="John Doe"?"":""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-text",children:d.name}),l.jsx("p",{className:"text-sm text-text-muted",children:d.upiId})]})]}),d.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[l.jsx("span",{children:"Phone:"}),l.jsx("span",{children:d.phone})]}),d.amount&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:"Amount:"}),l.jsxs("span",{className:"font-semibold text-primary",children:["",d.amount]})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:ce,className:"flex-1 btn btn-secondary",children:"Scan Again"}),l.jsx("button",{onClick:ae,className:"flex-1 btn btn-primary",children:"Proceed to Pay"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:o?l.jsxs(l.Fragment,{children:[l.jsx("video",{ref:F,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"w-48 h-48 border-2 border-primary rounded-lg relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary rounded-tl-lg"}),l.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary rounded-tr-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary rounded-bl-lg"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary rounded-br-lg"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-full h-0.5 bg-primary animate-pulse"})})]})}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:l.jsx("p",{className:"text-white text-sm bg-black/50 px-3 py-1 rounded-full inline-block",children:"Align QR code within frame"})})]}):b==="denied"||g?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white p-4",children:[l.jsx(La,{className:"w-16 h-16 text-red-400 mb-4"}),l.jsx("p",{className:"text-center text-sm",children:g||"Camera permission denied"}),l.jsx("button",{onClick:ce,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg text-sm",children:"Retry"})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white",children:[l.jsx(yO,{className:"w-16 h-16 animate-spin mb-4"}),l.jsx("p",{className:"text-sm",children:"Requesting camera access..."})]})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-sm text-text-muted",children:"Position the QR code within the frame to scan"}),l.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-text-muted",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Wt,{className:"w-3 h-3 text-success"}),l.jsx("span",{children:"Auto-detect"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Dh,{className:"w-3 h-3 text-primary"}),l.jsx("span",{children:"Rear camera"})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>{const E=L[Math.floor(Math.random()*L.length)];ie(E)},className:"text-primary text-sm hover:text-primary/80 transition-colors",children:"Can't scan? Enter UPI ID manually"})})]})})]})}):null},xk=()=>{const{user:s,logout:e}=cn(),n=Es(),[i,o]=I.useState(null),[u,d]=I.useState([]),[p,g]=I.useState(!0),[y,b]=I.useState(!1),[w,j]=I.useState(!1),[k,F]=I.useState(!1),[L,O]=I.useState(!1),[H,J]=I.useState(!1),[U,ie]=I.useState(null),[ae,ce]=I.useState(""),[C,E]=I.useState(""),[N,S]=I.useState(""),[D,z]=I.useState(""),[R,Ge]=I.useState(!1),[st,X]=I.useState(12500.5),[le,ye]=I.useState(3250),[De,re]=I.useState(5e4),[P,te]=I.useState([]),[ue,he]=I.useState([]),Ee=async()=>{try{const[Ce]=await Promise.all([fg.getUserTransactions(s.id)]);if(Ce.success&&d(Ce.data),s.familyCircle){const ts=await xn.getCircle(s.familyCircle);ts.success&&o(ts.data)}te([{id:1,type:"payment",title:"Payment to Mom",amount:-500,timestamp:new Date(Date.now()-1e3*60*30),status:"completed"},{id:2,type:"receive",title:"From Dad",amount:1e3,timestamp:new Date(Date.now()-1e3*60*60*2),status:"completed"},{id:3,type:"payment",title:"Grocery Store",amount:-250,timestamp:new Date(Date.now()-1e3*60*60*5),status:"completed"}]),he([{id:1,name:"Mom",role:"admin",avatar:"",status:"online"},{id:2,name:"Dad",role:"admin",avatar:"",status:"online"},{id:3,name:"Sister",role:"member",avatar:"",status:"offline"},{id:4,name:"Brother",role:"member",avatar:"",status:"online"}])}catch(Ce){console.error("Error loading dashboard data:",Ce)}finally{g(!1)}};I.useEffect(()=>{s&&Ee()},[s]);const Ae=Ce=>{ie(Ce),n("/dashboard/payments",{state:{selectedContact:U}})},ke=()=>{O(!0)},yt=()=>{J(!0)},rt=Ce=>{const ts={id:Date.now(),name:Ce.name,phone:Ce.phone,email:Ce.upiId,avatar:Ce.name==="Mom"?"":Ce.name==="Dad"?"":Ce.name==="Sister"?"":Ce.name==="John Doe"?"":"",status:"offline",isFamily:Ce.name==="Mom"||Ce.name==="Dad"||Ce.name==="Sister",lastTransaction:null,upiId:Ce.upiId,preselectedAmount:Ce.amount};n("/dashboard/payments",{state:{selectedContact:ts}})};return p?l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})}):(i&&i.currentDailySpent/i.dailyLimit*100,i&&i.currentMonthlySpent/i.monthlyLimit*100,i&&i.dailyLimit-i.currentDailySpent,i&&i.monthlyLimit-i.currentMonthlySpent,l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsxs("header",{className:"bg-gradient-to-r from-primary to-primary/80 text-white px-4 py-6 sm:px-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Good morning"}),l.jsxs("p",{className:"text-white/80",children:["Welcome back, ",s?.name||"User","!"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:l.jsx(Ca,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:l.jsx(Fc,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Total balance"}),l.jsxs("h2",{className:"text-3xl font-bold",children:["",st.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"bg-white/20 px-2 py-1 rounded-full",children:l.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})})]}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(r1,{className:"w-4 h-4 text-green-300"}),l.jsx("span",{children:"Income: 8,500"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(s1,{className:"w-4 h-4 text-red-300"}),l.jsx("span",{children:"Expense: 3,250"})]})]})]})]}),l.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l.jsxs("button",{onClick:ke,className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[l.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-2",children:l.jsx(MT,{className:"w-5 h-5 text-primary"})}),l.jsx("span",{className:"text-xs text-text",children:"Send"})]}),l.jsxs("button",{onClick:yt,className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[l.jsx("div",{className:"w-10 h-10 bg-success/10 rounded-full flex items-center justify-center mb-2",children:l.jsx(hg,{className:"w-5 h-5 text-success"})}),l.jsx("span",{className:"text-xs text-text",children:"Scan"})]}),l.jsxs("button",{className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[l.jsx("div",{className:"w-10 h-10 bg-warning/10 rounded-full flex items-center justify-center mb-2",children:l.jsx(En,{className:"w-5 h-5 text-warning"})}),l.jsx("span",{className:"text-xs text-text",children:"Cards"})]}),l.jsxs("button",{className:"flex flex-col items-center p-3 bg-bg-card rounded-xl hover:bg-bg-elevated transition-colors border border-border",children:[l.jsx("div",{className:"w-10 h-10 bg-info/10 rounded-full flex items-center justify-center mb-2",children:l.jsx(J6,{className:"w-5 h-5 text-info"})}),l.jsx("span",{className:"text-xs text-text",children:"More"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:"Family Members"}),l.jsx("button",{className:"text-primary text-sm font-medium",children:"See all"})]}),l.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[ue.map(Ce=>l.jsxs("div",{className:"flex flex-col items-center min-w-fit",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-14 h-14 bg-bg-elevated rounded-full flex items-center justify-center text-2xl mb-1 border-2 border-border",children:Ce.avatar}),l.jsx("div",{className:`absolute bottom-1 right-0 w-3 h-3 rounded-full border-2 border-bg-card ${Ce.status==="online"?"bg-success":"bg-text-muted"}`})]}),l.jsx("span",{className:"text-xs text-text",children:Ce.name})]},Ce.id)),l.jsxs("button",{className:"flex flex-col items-center min-w-fit",children:[l.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mb-1 border-2 border-dashed border-primary",children:l.jsx(Ay,{className:"w-6 h-6 text-primary"})}),l.jsx("span",{className:"text-xs text-primary",children:"Add"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:"Recent Transactions"}),l.jsx("button",{className:"text-primary text-sm font-medium",children:"See all"})]}),l.jsx("div",{className:"space-y-3",children:P.map(Ce=>l.jsx("div",{className:"card p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Ce.type==="receive"?"bg-success/10":"bg-danger/10"}`,children:Ce.type==="receive"?l.jsx(s1,{className:"w-5 h-5 text-success"}):l.jsx(r1,{className:"w-5 h-5 text-danger"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:Ce.title}),l.jsx("p",{className:"text-xs text-text-muted",children:Ce.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:`font-semibold ${Ce.amount>0?"text-success":"text-danger"}`,children:[Ce.amount>0?"+":"","",Math.abs(Ce.amount).toLocaleString("en-IN")]})})]})},Ce.id))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:"Savings Goal"}),l.jsx("button",{className:"text-primary text-sm font-medium",children:"Edit"})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-text-muted mb-1",children:["Target: ",De.toLocaleString("en-IN")]}),l.jsxs("p",{className:"text-lg font-semibold text-text",children:["",(st*.6).toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(st*.6/De*100),"%"]}),l.jsx("p",{className:"text-xs text-text-muted",children:"completed"})]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(st*.6/De*100,100)}%`}})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[l.jsx("div",{className:"card p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-warning/10 rounded-full flex items-center justify-center",children:l.jsx(ru,{className:"w-5 h-5 text-warning"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-text-muted",children:"Monthly Spending"}),l.jsxs("p",{className:"text-lg font-semibold text-text",children:["",le.toLocaleString("en-IN")]})]})]})}),l.jsx("div",{className:"card p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-info/10 rounded-full flex items-center justify-center",children:l.jsx(QO,{className:"w-5 h-5 text-info"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-text-muted",children:"Goals Left"}),l.jsx("p",{className:"text-lg font-semibold text-text",children:"3"})]})]})})]}),l.jsx("div",{className:"card p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:" Member Dashboard"}),l.jsxs("p",{className:"text-sm text-text-muted",children:["Welcome, ",s?.name||"User","!"]})]})]}),l.jsx(IT,{className:"w-5 h-5 text-text-muted"})]})})]}),l.jsx(Va,{userRole:s?.role}),l.jsx(gk,{isOpen:L,onClose:()=>O(!1),onSelectContact:Ae,user:s}),l.jsx(yk,{isOpen:H,onClose:()=>J(!1),onScanSuccess:rt,user:s})]}))},vk=()=>{const{user:s,logout:e,updateProfile:n}=cn();Es();const[i,o]=I.useState(!1),[u,d]=I.useState(!1),[p,g]=I.useState(!1),[y,b]=I.useState(!1),[w,j]=I.useState(!1),[k,F]=I.useState(!1),[L,O]=I.useState("profile"),[H,J]=I.useState({name:"",email:"",phone:"",dateOfBirth:"",address:"",photoURL:""}),[U,ie]=I.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[ae,ce]=I.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,paymentAlerts:!0,securityAlerts:!0}),[C,E]=I.useState({twoFactorAuth:!1,biometricLogin:!1,loginAlerts:!0,sessionTimeout:!0});I.useEffect(()=>{s&&J({name:s.name||"",email:s.email||"",phone:s.phone||"",dateOfBirth:s.dateOfBirth||"",address:s.address||"",photoURL:s.photoURL||""})},[s]);const N=R=>{J({...H,[R.target.name]:R.target.value})},S=async()=>{d(!0);try{const R=await n(H);R.success?(o(!1),alert("Profile updated successfully!")):alert("Failed to update profile: "+R.error)}catch(R){alert("Error updating profile: "+R.message)}finally{d(!1)}},D=async()=>{if(U.newPassword!==U.confirmPassword){alert("New passwords do not match!");return}if(U.newPassword.length<6){alert("Password must be at least 6 characters long!");return}d(!0);try{alert("Password changed successfully!"),g(!1),ie({currentPassword:"",newPassword:"",confirmPassword:""})}catch(R){alert("Error changing password: "+R.message)}finally{d(!1)}},z=[{id:"profile",label:"Profile Info",icon:qc},{id:"security",label:"Security",icon:Xo},{id:"notifications",label:"Notifications",icon:Ca},{id:"payment",label:"Payment Methods",icon:En}];return s?l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Profile"})]}),l.jsx("button",{onClick:e,className:"btn btn-danger btn-sm",children:"Logout"})]})}),l.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:hidden",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:z.map(R=>{const Ge=R.icon;return l.jsxs("button",{onClick:()=>O(R.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${L===R.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary"}`,children:[l.jsx(Ge,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id)})})}),l.jsx("div",{className:"hidden lg:block",children:l.jsxs("div",{className:"card p-4",children:[l.jsx("h3",{className:"font-semibold text-text mb-4",children:"Settings"}),l.jsx("nav",{className:"space-y-2",children:z.map(R=>{const Ge=R.icon;return l.jsxs("button",{onClick:()=>O(R.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${L===R.id?"bg-primary text-white":"text-text hover:bg-bg-elevated"}`,children:[l.jsx(Ge,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:R.label})]},R.id)})})]})}),l.jsxs("div",{className:"lg:col-span-3",children:[L==="profile"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-text",children:"Profile Information"}),i?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>o(!1),className:"btn btn-secondary btn-sm",children:"Cancel"}),l.jsx("button",{onClick:S,disabled:u,className:"btn btn-primary btn-sm flex items-center gap-2",children:u?l.jsx("div",{className:"loading-spinner w-4 h-4"}):l.jsxs(l.Fragment,{children:[l.jsx(RT,{className:"w-4 h-4"}),"Save Changes"]})})]}):l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary btn-sm flex items-center gap-2",children:[l.jsx(CO,{className:"w-4 h-4"}),"Edit"]})]}),l.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-2xl",children:H.photoURL?l.jsx("img",{src:H.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):H.name?.charAt(0).toUpperCase()||"U"}),i&&l.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary rounded-full text-white",children:l.jsx(Dh,{className:"w-4 h-4"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:H.name}),l.jsx("p",{className:"text-text-muted",children:s?.role==="ADMIN"?"Administrator":s?.role==="PRIMARY"?"Primary User":"Secondary User"}),l.jsxs("p",{className:"text-sm text-text-muted",children:["Member since ",new Date().getFullYear()]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(qc,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:H.name,onChange:N,disabled:!i,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(Bc,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l.jsx("input",{type:"email",name:"email",value:H.email,onChange:N,disabled:!0,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(cf,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l.jsx("input",{type:"tel",name:"phone",value:H.phone,onChange:N,disabled:!i,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(Sy,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),l.jsx("input",{type:"date",name:"dateOfBirth",value:H.dateOfBirth,onChange:N,disabled:!i,className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-text mb-2",children:[l.jsx(DT,{className:"w-4 h-4 inline mr-2"}),"Address"]}),l.jsx("textarea",{name:"address",value:H.address,onChange:N,disabled:!i,rows:"3",className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50 resize-none"})]})]})]})}),L==="security"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Security Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-between p-4 bg-bg-elevated rounded-lg hover:border-primary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Profile Settings"}),l.jsx("p",{className:"text-sm text-text-muted",children:"Manage your account and preferences"})]})]}),l.jsx(IT,{className:"w-5 h-5 text-text-muted"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uf,{className:"w-5 h-5 text-text-muted"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-text",children:"Two-Factor Authentication"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Add an extra layer of security"})]})]}),l.jsx("button",{onClick:()=>E({...C,twoFactorAuth:!C.twoFactorAuth}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${C.twoFactorAuth?"bg-primary":"bg-bg-border"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${C.twoFactorAuth?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xo,{className:"w-5 h-5 text-text-muted"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-text",children:"Login Alerts"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Get notified of new login attempts"})]})]}),l.jsx("button",{onClick:()=>E({...C,loginAlerts:!C.loginAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${C.loginAlerts?"bg-primary":"bg-bg-border"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${C.loginAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})}),L==="notifications"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Notification Preferences"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Bc,{className:"w-5 h-5 text-text-muted"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-text",children:"Email Notifications"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Receive updates via email"})]})]}),l.jsx("button",{onClick:()=>ce({...ae,emailNotifications:!ae.emailNotifications}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ae.emailNotifications?"bg-primary":"bg-bg-border"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ae.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ca,{className:"w-5 h-5 text-text-muted"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-text",children:"Push Notifications"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Receive push notifications"})]})]}),l.jsx("button",{onClick:()=>ce({...ae,pushNotifications:!ae.pushNotifications}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ae.pushNotifications?"bg-primary":"bg-bg-border"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ae.pushNotifications?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(En,{className:"w-5 h-5 text-text-muted"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-text",children:"Payment Alerts"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Get notified about payments"})]})]}),l.jsx("button",{onClick:()=>ce({...ae,paymentAlerts:!ae.paymentAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ae.paymentAlerts?"bg-primary":"bg-bg-border"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ae.paymentAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})}),L==="payment"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold text-text mb-6",children:"Payment Methods"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 bg-bg-elevated rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-blue-400 rounded flex items-center justify-center",children:l.jsx(En,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text",children:"   4242"}),l.jsx("div",{className:"text-sm text-text-muted",children:"Expires 12/25"})]})]}),l.jsx("span",{className:"text-xs bg-success/10 text-success px-2 py-1 rounded-full",children:"Default"})]})}),l.jsx("button",{className:"w-full p-4 border-2 border-dashed border-border rounded-lg hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 text-text-muted",children:[l.jsx(En,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Payment Method"})]})})]})]})})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-lg p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:"Change Password"}),l.jsx("button",{onClick:()=>g(!1),children:l.jsx(iu,{className:"w-5 h-5 text-text-muted"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:y?"text":"password",value:U.currentPassword,onChange:R=>ie({...U,currentPassword:R.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter current password"}),l.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:y?l.jsx(nh,{className:"w-5 h-5"}):l.jsx(sh,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:w?"text":"password",value:U.newPassword,onChange:R=>ie({...U,newPassword:R.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Enter new password"}),l.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:w?l.jsx(nh,{className:"w-5 h-5"}):l.jsx(sh,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k?"text":"password",value:U.confirmPassword,onChange:R=>ie({...U,confirmPassword:R.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",placeholder:"Confirm new password"}),l.jsx("button",{type:"button",onClick:()=>F(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text",children:k?l.jsx(nh,{className:"w-5 h-5"}):l.jsx(sh,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:()=>g(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:D,disabled:u,className:"flex-1 btn btn-primary",children:u?l.jsx("div",{className:"loading-spinner mx-auto"}):"Change Password"})]})]})]})}),l.jsx(Va,{userRole:s?.role})]}):l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})})},bk=()=>{const{user:s}=cn();Es();const e=ws();console.log("PayPage rendering, user:",s);const[n,i]=I.useState("quick"),[o,u]=I.useState(!1),[d,p]=I.useState(e.state?.selectedContact||null),[g,y]=I.useState(d?.name||""),[b,w]=I.useState(d?.phone||""),[j,k]=I.useState(d?.preselectedAmount?.toString()||""),[F,L]=I.useState(""),[O,H]=I.useState("upi"),[J,U]=I.useState([]),[ie,ae]=I.useState(!1),[ce,C]=I.useState(""),[E,N]=I.useState({amount:"",upiId:"",description:"",recipientName:"",paymentMethod:"upi"}),[S]=[100,200,500,1e3,2e3,5e3],D=[{name:"Mom",upiId:"mom@familypay",avatar:"M"},{name:"Dad",upiId:"dad@familypay",avatar:"D"},{name:"Brother",upiId:"brother@familypay",avatar:"B"},{name:"Sister",upiId:"sister@familypay",avatar:"S"},{name:"Friend",upiId:"friend@familypay",avatar:"F"},{name:"Grocery Store",upiId:"grocery@paytm",avatar:"G"}],z=[{name:"Amazon",upiId:"amazon@paytm",category:"Shopping",icon:""},{name:"Flipkart",upiId:"flipkart@paytm",category:"Shopping",icon:""},{name:"Swiggy",upiId:"swiggy@paytm",category:"Food",icon:""},{name:"Zomato",upiId:"zomato@paytm",category:"Food",icon:""},{name:"Uber",upiId:"uber@paytm",category:"Travel",icon:""},{name:"Ola",upiId:"ola@paytm",category:"Travel",icon:""},{name:"BigBasket",upiId:"bigbasket@paytm",category:"Grocery",icon:""},{name:"PhonePe",upiId:"phonepe@paytm",category:"Recharge",icon:""}];I.useEffect(()=>{R()},[]);const R=async()=>{try{const re=await fg.getUserTransactions(s.id,10);re.success&&U(re.data)}catch(re){console.error("Error loading recent payments:",re)}},Ge=re=>{N({...E,amount:re.toString()})},st=re=>{N({...E,upiId:re.upiId,recipientName:re.name})},X=re=>{N({...E,upiId:re.upiId,recipientName:re.name})},le=async re=>{if(!E.amount||parseFloat(E.amount)<=0){alert("Please enter a valid amount");return}if(!E.upiId){alert("Please enter UPI ID or select a recipient");return}u(!0);try{const P=await fg.createPayment({amount:parseFloat(E.amount),description:E.description||`Payment to ${E.recipientName||E.upiId}`,method:re,upiId:E.upiId,fromUserId:s.id,fromUserName:s.name});P.success?(setShowSuccess(!0),N({amount:"",upiId:"",description:"",recipientName:"",paymentMethod:"upi"}),R(),setTimeout(()=>{setShowSuccess(!1)},3e3)):alert("Payment failed: "+P.error)}catch(P){alert("Payment error: "+P.message)}finally{u(!1)}},ye=()=>{setShowScanner(!0),setTimeout(()=>{const re={upiId:"scanned@merchant",name:"Scanned Merchant",amount:"500"};N({...E,upiId:re.upiId,recipientName:re.name,amount:re.amount}),setShowScanner(!1),i("upi")},2e3)},De=[{id:"quick",label:"Quick Pay",icon:AT},{id:"upi",label:"UPI",icon:uf},{id:"qr",label:"QR Scan",icon:hg},{id:"recent",label:"Recent",icon:Rc}];return s?l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Pay"})]}),l.jsxs("div",{className:"text-sm font-medium text-text",children:["Balance: ",(s.balance||1e4).toLocaleString()]})]})}),l.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[d&&l.jsx("div",{className:"card mb-6 border-2 border-primary/20 bg-primary/5",children:l.jsxs("div",{className:"flex items-center gap-3 p-4",children:[l.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:d.avatar||""}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-medium text-text",children:d.name}),d.isFamily&&l.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:"Family"}),d.upiId&&l.jsx("span",{className:"bg-success/10 text-success text-xs px-2 py-0.5 rounded-full",children:"QR Scanned"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[l.jsx(cf,{className:"w-3 h-3"}),l.jsx("span",{children:d.phone})]}),d.upiId&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[l.jsx(Bc,{className:"w-3 h-3"}),l.jsx("span",{children:d.upiId})]}),d.preselectedAmount&&l.jsx("div",{className:"flex items-center gap-2 text-xs text-primary",children:l.jsxs("span",{children:["Pre-filled amount: ",d.preselectedAmount]})})]}),l.jsx("button",{onClick:()=>{p(null),y(""),w(""),k("")},className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(iu,{className:"w-4 h-4 text-text-muted"})})]})}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:De.map(re=>{const P=re.icon;return l.jsxs("button",{onClick:()=>i(re.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${n===re.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary"}`,children:[l.jsx(P,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:re.label})]},re.id)})}),n==="quick"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Enter Amount"}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"text-4xl font-bold text-text mb-2",children:""}),l.jsx("input",{type:"number",value:E.amount,onChange:re=>N({...E,amount:re.target.value}),className:"w-full text-3xl font-bold text-center bg-transparent border-0 outline-none text-text placeholder-text-muted",placeholder:"0",min:"1"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:S.map(re=>l.jsxs("button",{onClick:()=>Ge(re),className:`p-3 rounded-lg border transition-colors ${E.amount===re.toString()?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary"}`,children:["",re]},re))})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Frequent Contacts"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map((re,P)=>l.jsxs("button",{onClick:()=>st(re),className:"p-3 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold mx-auto mb-2",children:re.avatar}),l.jsx("div",{className:"text-sm font-medium text-text",children:re.name})]},P))})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Popular Merchants"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:z.map((re,P)=>l.jsxs("button",{onClick:()=>X(re),className:"p-3 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:re.icon}),l.jsx("div",{className:"text-sm font-medium text-text",children:re.name}),l.jsx("div",{className:"text-xs text-text-muted",children:re.category})]},P))})]}),E.amount&&l.jsx("div",{className:"card",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Description (Optional)"}),l.jsx("input",{type:"text",value:E.description,onChange:re=>N({...E,description:re.target.value}),className:"w-full px-4 py-2 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"What's this payment for?"})]}),l.jsx("button",{onClick:()=>le("quick"),disabled:o||!E.upiId,className:"w-full btn btn-primary text-lg py-4",children:o?l.jsx("div",{className:"loading-spinner mx-auto"}):`Pay ${E.amount}`})]})})]}),n==="upi"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"UPI Payment"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"UPI ID"}),l.jsx("input",{type:"text",value:E.upiId,onChange:re=>N({...E,upiId:re.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter UPI ID (e.g., name@upi)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Amount ()"}),l.jsx("input",{type:"number",value:E.amount,onChange:re=>N({...E,amount:re.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter amount",min:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text mb-2",children:"Description"}),l.jsx("input",{type:"text",value:E.description,onChange:re=>N({...E,description:re.target.value}),className:"w-full px-4 py-3 bg-bg-elevated border border-border rounded-lg text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"What's this payment for?"})]}),l.jsx("button",{onClick:()=>le("upi"),disabled:o||!E.amount||!E.upiId,className:"w-full btn btn-primary",children:o?l.jsx("div",{className:"loading-spinner mx-auto"}):`Pay ${E.amount||"0"}`})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Pay with UPI Apps"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:["Google Pay","PhonePe","Paytm","Amazon Pay"].map(re=>l.jsxs("button",{className:"p-4 bg-bg-elevated rounded-lg hover:border-primary transition-colors text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center text-white font-bold mx-auto mb-2",children:re.charAt(0)}),l.jsx("div",{className:"text-sm font-medium text-text",children:re})]},re))})]})]}),n==="qr"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"Scan QR Code"}),showScanner?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-64 h-64 mx-auto bg-bg-elevated rounded-lg flex items-center justify-center mb-4 border-2 border-dashed border-border",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Dh,{className:"w-16 h-16 text-text-muted mx-auto mb-2"}),l.jsx("p",{className:"text-text-muted",children:"Scanning..."})]})}),l.jsx("button",{onClick:()=>setShowScanner(!1),className:"btn btn-secondary",children:"Cancel"})]}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-64 h-64 mx-auto bg-bg-elevated rounded-lg flex items-center justify-center mb-6 border-2 border-dashed border-border",children:l.jsxs("div",{className:"text-center",children:[l.jsx(hg,{className:"w-16 h-16 text-text-muted mx-auto mb-2"}),l.jsx("p",{className:"text-text-muted",children:"QR Scanner Ready"})]})}),l.jsxs("button",{onClick:ye,className:"btn btn-primary",children:[l.jsx(Dh,{className:"w-5 h-5 inline mr-2"}),"Start Scanning"]})]})]})}),n==="recent"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-text mb-6",children:"Recent Payments"}),J.length>0?l.jsx("div",{className:"space-y-3",children:J.map(re=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-bg-elevated rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${re.status==="completed"?"bg-success/10":re.status==="pending"?"bg-warning/10":"bg-danger/10"}`,children:re.status==="completed"?l.jsx(Wt,{className:"w-5 h-5 text-success"}):re.status==="pending"?l.jsx(Rc,{className:"w-5 h-5 text-warning"}):l.jsx(La,{className:"w-5 h-5 text-danger"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text",children:re.description}),l.jsx("div",{className:"text-sm text-text-muted",children:new Date(re.createdAt).toLocaleDateString()})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-text",children:["",re.amount]}),l.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${re.status==="completed"?"bg-success/10 text-success":re.status==="pending"?"bg-warning/10 text-warning":"bg-danger/10 text-danger"}`,children:re.status==="completed"?"Completed":re.status==="pending"?"Pending":"Failed"})]})]},re.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Rc,{className:"w-12 h-12 text-text-muted mx-auto mb-3"}),l.jsx("p",{className:"text-text-muted",children:"No recent payments"})]})]})})]}),showSuccess&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-lg p-6 max-w-sm w-full text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Wt,{className:"w-8 h-8 text-success"})}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Payment Successful!"}),l.jsxs("p",{className:"text-text-muted mb-4",children:["",E.amount," paid successfully"]}),l.jsx("button",{onClick:()=>setShowSuccess(!1),className:"btn btn-primary w-full",children:"Done"})]})}),l.jsx(Va,{userRole:s?.role})]}):l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})})},_k=()=>{const{user:s}=cn(),e=Es(),[n,i]=I.useState([]),[o,u]=I.useState([]),[d,p]=I.useState(!0),[g,y]=I.useState("all"),[b,w]=I.useState(""),[j,k]=I.useState(new Set),F=[{id:"all",label:"All",icon:Ca},{id:"unread",label:"Unread",icon:Wt},{id:"payment",label:"Payments",icon:En},{id:"security",label:"Security",icon:Xo},{id:"system",label:"System",icon:fO}];I.useEffect(()=>{const E=Date.now(),N=[{id:1,type:"payment",title:"Payment Received",message:"You received 500 from Mom",timestamp:new Date(E-1e3*60*5),read:!1,icon:En,color:"success",action:"View Transaction",actionUrl:"/dashboard/transactions"},{id:2,type:"security",title:"New Login Detected",message:"New login from Chrome on Windows",timestamp:new Date(E-1e3*60*60),read:!1,icon:Xo,color:"warning",action:"Review Activity",actionUrl:"/dashboard/profile"},{id:3,type:"payment",title:"Payment Approved",message:"Your payment of 1200 has been approved",timestamp:new Date(E-1e3*60*60*2),read:!0,icon:Wt,color:"success",action:"View Details",actionUrl:"/dashboard/transactions"},{id:4,type:"system",title:"Monthly Report Available",message:"Your spending report for November is ready",timestamp:new Date(E-1e3*60*60*24),read:!0,icon:ru,color:"info",action:"View Report",actionUrl:"/dashboard/analytics"},{id:5,type:"alert",title:"Low Balance Alert",message:"Your balance is below 1000",timestamp:new Date(E-1e3*60*60*24*2),read:!0,icon:tk,color:"danger",action:"Add Money",actionUrl:"/dashboard/payments"},{id:6,type:"social",title:"New Family Member",message:"John Doe joined your family circle",timestamp:new Date(E-1e3*60*60*24*3),read:!0,icon:Ay,color:"primary",action:"View Profile",actionUrl:"/dashboard/members"},{id:7,type:"promotion",title:"Special Offer!",message:"Get 10% cashback on your next payment",timestamp:new Date(E-1e3*60*60*24*7),read:!0,icon:aO,color:"warning",action:"Learn More",actionUrl:"/dashboard"},{id:8,type:"system",title:"App Update Available",message:"New features and improvements are available",timestamp:new Date(E-1e3*60*60*24*14),read:!0,icon:uf,color:"info",action:"Update Now",actionUrl:"/dashboard"}];setTimeout(()=>{i(N),u(N),p(!1)},1e3)},[]),I.useEffect(()=>{let E=n;g==="unread"?E=E.filter(N=>!N.read):g!=="all"&&(E=E.filter(N=>N.type===g)),b&&(E=E.filter(N=>N.title.toLowerCase().includes(b.toLowerCase())||N.message.toLowerCase().includes(b.toLowerCase()))),u(E)},[g,b,n]);const L=E=>{i(n.map(N=>N.id===E?{...N,read:!0}:N))},O=()=>{i(n.map(E=>({...E,read:!0}))),k(new Set)},H=E=>{i(n.filter(N=>N.id!==E)),k(N=>{const S=new Set(N);return S.delete(E),S})},J=()=>{i(n.filter(E=>!j.has(E.id))),k(new Set)},U=E=>{k(N=>{const S=new Set(N);return S.has(E)?S.delete(E):S.add(E),S})},ie=E=>{L(E.id),E.actionUrl&&e(E.actionUrl)},ae=E=>{const S=new Date-E,D=Math.floor(S/6e4),z=Math.floor(S/36e5),R=Math.floor(S/864e5);return D<1?"Just now":D<60?`${D}m ago`:z<24?`${z}h ago`:R<7?`${R}d ago`:E.toLocaleDateString()},ce=E=>{const N=E.icon,S={success:"text-success bg-success/10",warning:"text-warning bg-warning/10",danger:"text-danger bg-danger/10",info:"text-info bg-info/10",primary:"text-primary bg-primary/10"};return l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${S[E.color]}`,children:l.jsx(N,{className:"w-5 h-5"})})},C=n.filter(E=>!E.read).length;return s?l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-3 sm:px-6 sm:py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsx("h1",{className:"text-lg sm:text-xl font-bold text-text",children:"Notifications"}),C>0&&l.jsx("span",{className:"bg-danger text-white text-xs px-2 py-0.5 rounded-full min-w-[20px] text-center",children:C})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-text-muted hidden sm:inline",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),l.jsx("button",{onClick:O,className:"btn btn-secondary btn-sm text-xs px-3 py-1.5",disabled:C===0,children:"Mark All Read"}),l.jsx("button",{className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(VO,{className:"w-4 h-4 text-text"})})]})]})}),l.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:py-4",children:[l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),l.jsx("input",{type:"text",value:b,onChange:E=>w(E.target.value),placeholder:"Search notifications...",className:"w-full pl-10 pr-4 py-2.5 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:F.map(E=>{const N=E.icon;return l.jsxs("button",{onClick:()=>y(E.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg whitespace-nowrap transition-colors text-xs font-medium ${g===E.id?"bg-primary text-white":"bg-bg-elevated text-text hover:border-primary border border-transparent"}`,children:[l.jsx(N,{className:"w-3.5 h-3.5"}),l.jsx("span",{children:E.label})]},E.id)})})]}),j.size>0&&l.jsxs("div",{className:"card mb-3 flex items-center justify-between py-2 px-3",children:[l.jsxs("span",{className:"text-xs text-text",children:[j.size," selected"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:J,className:"btn btn-danger btn-xs flex items-center gap-1 py-1 px-2",children:[l.jsx(OT,{className:"w-3 h-3"}),"Delete"]})})]}),d?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"loading-spinner"})}):o.length>0?l.jsx("div",{className:"space-y-2",children:o.map(E=>l.jsx("div",{className:`card p-3 transition-all cursor-pointer hover:border-primary ${E.read?"":"border-l-4 border-l-primary bg-primary/5"} ${j.has(E.id)?"ring-2 ring-primary/20":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>U(E.id),className:"mt-0.5",children:l.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${j.has(E.id)?"border-primary bg-primary":"border-border"}`,children:j.has(E.id)&&l.jsx(RT,{className:"w-2.5 h-2.5 text-white"})})}),ce(E),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-1",children:[l.jsx("h3",{className:`font-semibold text-sm text-text truncate ${E.read?"":"font-bold"}`,children:E.title}),l.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap ml-2",children:ae(E.timestamp)})]}),l.jsx("p",{className:"text-xs text-text-muted mb-2 leading-relaxed",children:E.message}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:()=>ie(E),className:"text-primary text-xs font-medium hover:text-primary/80 transition-colors",children:E.action}),l.jsxs("div",{className:"flex items-center gap-3",children:[!E.read&&l.jsx("button",{onClick:()=>L(E.id),className:"text-xs text-text-muted hover:text-text transition-colors",children:"Mark as read"}),l.jsx("button",{onClick:()=>H(E.id),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Delete"})]})]})]})]})},E.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ca,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No notifications"}),l.jsx("p",{className:"text-text-muted",children:b||g!=="all"?"No notifications match your criteria":"You're all caught up!"})]})]}),l.jsx(Va,{userRole:s?.role})]}):l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})})},wk=()=>{const{user:s}=cn(),[e,n]=I.useState([]),[i,o]=I.useState(!0),[u,d]=I.useState(""),[p,g]=I.useState("all"),[y,b]=I.useState("all"),[w,j]=I.useState(!1),k=()=>{const U=Date.now();return[{id:1,type:"sent",amount:500,description:"Payment to Mom",recipient:"Mom",recipientPhone:"+91 98765 43210",date:new Date(U-1e3*60*30),status:"completed",method:"upi",category:"family"},{id:2,type:"received",amount:1e3,description:"Salary credit",sender:"Company XYZ",date:new Date(U-1e3*60*60*2),status:"completed",method:"bank",category:"income"},{id:3,type:"sent",amount:250,description:"Grocery shopping",recipient:"Grocery Store",date:new Date(U-1e3*60*60*24),status:"completed",method:"qr",category:"shopping"},{id:4,type:"sent",amount:1500,description:"Electric bill payment",recipient:"Electric Board",date:new Date(U-1e3*60*60*48),status:"completed",method:"upi",category:"bills"},{id:5,type:"pending",amount:750,description:"Online shopping",recipient:"Amazon",date:new Date(U-1e3*60*60*72),status:"pending",method:"card",category:"shopping"},{id:6,type:"received",amount:2e3,description:"Freelance payment",sender:"Client ABC",date:new Date(U-1e3*60*60*120),status:"completed",method:"upi",category:"income"},{id:7,type:"sent",amount:300,description:"Mobile recharge",recipient:"Mobile Operator",date:new Date(U-1e3*60*60*168),status:"completed",method:"upi",category:"utilities"},{id:8,type:"failed",amount:1e3,description:"Failed transaction",recipient:"Merchant",date:new Date(U-1e3*60*60*200),status:"failed",method:"upi",category:"other"}]};I.useEffect(()=>{setTimeout(()=>{n(k()),o(!1)},1e3)},[]);const F=e.filter(U=>{const ie=U.description.toLowerCase().includes(u.toLowerCase())||U.recipient?.toLowerCase().includes(u.toLowerCase())||U.sender?.toLowerCase().includes(u.toLowerCase()),ae=p==="all"||U.type===p;return ie&&ae}),L=U=>{const ae=Math.abs(new Date-U),ce=Math.ceil(ae/(1e3*60*60*24));return ce===0?"Today":ce===1?"Yesterday":ce<7?`${ce} days ago`:ce<30?`${Math.floor(ce/7)} weeks ago`:U.toLocaleDateString()},O=U=>{switch(U){case"completed":return l.jsx(Wt,{className:"w-4 h-4 text-success"});case"pending":return l.jsx(Rc,{className:"w-4 h-4 text-warning"});case"failed":return l.jsx(La,{className:"w-4 h-4 text-danger"});default:return l.jsx(Rc,{className:"w-4 h-4 text-text-muted"})}},H=U=>{switch(U){case"sent":return l.jsx(ru,{className:"w-4 h-4 text-danger"});case"received":return l.jsx(JO,{className:"w-4 h-4 text-success"});default:return l.jsx(En,{className:"w-4 h-4 text-text-muted"})}},J=()=>{alert("Transactions exported successfully!")};return i?l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})}):l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Transactions"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>j(!w),className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(rO,{className:"w-5 h-5 text-text"})}),l.jsx("button",{onClick:J,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(X6,{className:"w-5 h-5 text-text"})})]})]})}),l.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),l.jsx("input",{type:"text",value:u,onChange:U=>d(U.target.value),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),w&&l.jsx("div",{className:"card mb-6 p-4",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label text-sm",children:"Transaction Type"}),l.jsxs("select",{value:p,onChange:U=>g(U.target.value),className:"form-input",children:[l.jsx("option",{value:"all",children:"All Transactions"}),l.jsx("option",{value:"sent",children:"Sent"}),l.jsx("option",{value:"received",children:"Received"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"failed",children:"Failed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label text-sm",children:"Date Range"}),l.jsxs("select",{value:y,onChange:U=>b(U.target.value),className:"form-input",children:[l.jsx("option",{value:"all",children:"All Time"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"week",children:"This Week"}),l.jsx("option",{value:"month",children:"This Month"})]})]})]})}),l.jsx("div",{className:"space-y-3",children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(En,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No transactions found"}),l.jsx("p",{className:"text-text-muted",children:"Try adjusting your search or filters"})]}):F.map(U=>l.jsx("div",{className:"card p-4 hover:border-primary/30 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-bg-elevated rounded-full flex items-center justify-center",children:H(U.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-medium text-text",children:U.type==="sent"?`To: ${U.recipient}`:U.type==="received"?`From: ${U.sender}`:U.description}),O(U.status)]}),l.jsx("p",{className:"text-sm text-text-muted",children:U.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-xs text-text-muted",children:L(U.date)}),l.jsx("span",{className:"text-xs text-text-muted",children:""}),l.jsx("span",{className:"text-xs text-text-muted capitalize",children:U.method})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`font-semibold ${U.type==="sent"?"text-danger":U.type==="received"?"text-success":"text-text"}`,children:[U.type==="sent"?"-":"+","",U.amount.toLocaleString()]}),l.jsx("p",{className:"text-xs text-text-muted capitalize",children:U.status})]})]})},U.id))}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Sent"}),l.jsxs("p",{className:"text-lg font-semibold text-danger",children:["",e.filter(U=>U.type==="sent").reduce((U,ie)=>U+ie.amount,0).toLocaleString()]})]}),l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Received"}),l.jsxs("p",{className:"text-lg font-semibold text-success",children:["",e.filter(U=>U.type==="received").reduce((U,ie)=>U+ie.amount,0).toLocaleString()]})]}),l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Net Balance"}),l.jsxs("p",{className:"text-lg font-semibold text-text",children:["",(e.filter(U=>U.type==="received").reduce((U,ie)=>U+ie.amount,0)-e.filter(U=>U.type==="sent").reduce((U,ie)=>U+ie.amount,0)).toLocaleString()]})]})]})]}),l.jsx(Va,{userRole:s?.role})]})},Ek=({member:s,onClose:e,onSetLimit:n})=>{const[i,o]=I.useState({dailyLimit:s?.dailyLimit||1e3,monthlyLimit:s?.monthlyLimit||1e4}),[u,d]=I.useState(""),[p,g]=I.useState(!1),y=w=>{o({...i,[w.target.name]:parseFloat(w.target.value)})},b=async w=>{w.preventDefault(),d(""),g(!0);try{await n(i)}catch(j){d(j.message),g(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-bg-card rounded-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsxs("h3",{className:"text-lg font-semibold text-text",children:["Set Limits for ",s?.name||"Member"]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx("span",{className:"text-text-muted",children:""})})]}),u&&l.jsx("div",{className:"p-4 bg-danger/10 border border-danger/20",children:l.jsx("p",{className:"text-danger text-sm",children:u})}),l.jsxs("form",{onSubmit:b,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Daily Limit ()"}),l.jsx("input",{type:"number",name:"dailyLimit",className:"form-input",min:"0",step:"100",value:i.dailyLimit,onChange:y,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Monthly Limit ()"}),l.jsx("input",{type:"number",name:"monthlyLimit",className:"form-input",min:"0",step:"100",value:i.monthlyLimit,onChange:y,required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:p,className:"flex-1 btn btn-primary",children:p?l.jsx("div",{className:"loading-spinner mx-auto"}):"Set Limits"})]})]})]})})},Tk=()=>{const{user:s}=cn(),[e,n]=I.useState([]),[i,o]=I.useState(!0),[u,d]=I.useState(""),[p,g]=I.useState(!1),[y,b]=I.useState(!1),[w,j]=I.useState(null),[k,F]=I.useState("all"),L=()=>[{id:1,name:"Rajnish Kumar",email:"rajnish@familypay.com",phone:"+91 98765 43210",role:"ADMIN",status:"active",avatar:"",dailyLimit:5e3,monthlyLimit:5e4,currentDailySpent:1200,currentMonthlySpent:15e3,joinDate:new Date("2023-01-15"),lastActive:new Date(Date.now()-1e3*60*30),transactions:45},{id:2,name:"Priya Kumar",email:"priya@familypay.com",phone:"+91 98765 43211",role:"PRIMARY",status:"active",avatar:"",dailyLimit:3e3,monthlyLimit:3e4,currentDailySpent:800,currentMonthlySpent:8e3,joinDate:new Date("2023-02-20"),lastActive:new Date(Date.now()-1e3*60*60*2),transactions:32},{id:3,name:"Amit Kumar",email:"amit@familypay.com",phone:"+91 98765 43212",role:"SECONDARY",status:"active",avatar:"",dailyLimit:1e3,monthlyLimit:1e4,currentDailySpent:500,currentMonthlySpent:3500,joinDate:new Date("2023-03-10"),lastActive:new Date(Date.now()-1e3*60*60*24),transactions:18},{id:4,name:"Sunita Kumar",email:"sunita@familypay.com",phone:"+91 98765 43213",role:"SECONDARY",status:"inactive",avatar:"",dailyLimit:1500,monthlyLimit:15e3,currentDailySpent:0,currentMonthlySpent:0,joinDate:new Date("2023-04-05"),lastActive:new Date(Date.now()-1e3*60*60*24*7),transactions:12}];I.useEffect(()=>{setTimeout(()=>{n(L()),o(!1)},1e3)},[]);const O=e.filter(N=>{const S=N.name.toLowerCase().includes(u.toLowerCase())||N.email.toLowerCase().includes(u.toLowerCase())||N.phone.includes(u),D=k==="all"||N.status===k;return S&&D}),H=async N=>{const S={id:e.length+1,...N,name:`New Member ${e.length+1}`,email:`member${e.length+1}@familypay.com`,phone:`+91 98765 432${e.length+10}`,role:"SECONDARY",status:"active",avatar:"",currentDailySpent:0,currentMonthlySpent:0,joinDate:new Date,lastActive:new Date,transactions:0};n([...e,S]),g(!1)},J=async N=>{w&&(n(e.map(S=>S.id===w.id?{...S,...N}:S)),b(!1),j(null))},U=N=>{window.confirm("Are you sure you want to remove this member?")&&n(e.filter(S=>S.id!==N))},ie=N=>{switch(N){case"ADMIN":return"bg-danger/10 text-danger";case"PRIMARY":return"bg-primary/10 text-primary";case"SECONDARY":return"bg-warning/10 text-warning";default:return"bg-text-muted/10 text-text-muted"}},ae=N=>N==="active"?l.jsx(Wt,{className:"w-4 h-4 text-success"}):l.jsx(La,{className:"w-4 h-4 text-warning"}),ce=(N,S)=>Math.min(N/S*100,100),C=N=>N.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=N=>{const D=Math.abs(new Date-N),z=Math.ceil(D/(1e3*60));return z<60?`${z} minutes ago`:z<1440?`${Math.floor(z/60)} hours ago`:`${Math.floor(z/1440)} days ago`};return i?l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsx("div",{className:"loading-spinner"})}):l.jsxs("div",{className:"min-h-screen bg-bg animate-fade-in pb-20 lg:pb-6",children:[l.jsx("header",{className:"bg-bg-card border-b border-border px-4 py-4 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo.jpeg",alt:"FamilyPay",className:"w-10 h-10 rounded-lg"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text",children:"Family Members"})]}),l.jsxs("button",{onClick:()=>g(!0),className:"btn btn-primary btn-sm",children:[l.jsx(Ay,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),l.jsxs("div",{className:"px-4 py-4 sm:px-6 sm:py-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),l.jsx("input",{type:"text",value:u,onChange:N=>d(N.target.value),placeholder:"Search members...",className:"w-full pl-10 pr-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("select",{value:k,onChange:N=>F(N.target.value),className:"px-4 py-3 bg-bg-elevated border border-border rounded-lg text-sm text-text focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:O.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(Ia,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"No members found"}),l.jsx("p",{className:"text-text-muted",children:"Try adjusting your search or filters"})]}):O.map(N=>l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-bg-elevated rounded-full flex items-center justify-center text-2xl border-2 border-border",children:N.avatar}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-semibold text-text",children:N.name}),ae(N.status)]}),l.jsx("p",{className:"text-sm text-text-muted",children:N.email}),l.jsx("p",{className:"text-sm text-text-muted",children:N.phone})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ie(N.role)}`,children:N.role}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>{j(N),b(!0)},className:"p-1.5 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(Fc,{className:"w-4 h-4 text-text-muted"})}),N.role!=="ADMIN"&&l.jsx("button",{onClick:()=>U(N.id),className:"p-1.5 hover:bg-bg-elevated rounded-lg transition-colors",children:l.jsx(OT,{className:"w-4 h-4 text-danger"})})]})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-sm text-text-muted",children:"Daily Usage"}),l.jsxs("span",{className:"text-sm font-medium text-text",children:["",N.currentDailySpent," / ",N.dailyLimit]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${ce(N.currentDailySpent,N.dailyLimit)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-sm text-text-muted",children:"Monthly Usage"}),l.jsxs("span",{className:"text-sm font-medium text-text",children:["",N.currentMonthlySpent," / ",N.monthlyLimit]})]}),l.jsx("div",{className:"w-full bg-bg-elevated rounded-full h-2",children:l.jsx("div",{className:"bg-success h-2 rounded-full transition-all duration-300",style:{width:`${ce(N.currentMonthlySpent,N.monthlyLimit)}%`}})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-text-muted",children:"Transactions:"}),l.jsx("span",{className:"ml-2 font-medium text-text",children:N.transactions})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-muted",children:"Joined:"}),l.jsx("span",{className:"ml-2 font-medium text-text",children:C(N.joinDate)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-text-muted",children:"Last Active:"}),l.jsx("span",{className:"ml-2 font-medium text-text",children:E(N.lastActive)})]})]})]},N.id))}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx(Ia,{className:"w-8 h-8 text-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Members"}),l.jsx("p",{className:"text-2xl font-bold text-text",children:e.length})]}),l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx(Wt,{className:"w-8 h-8 text-success mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Active Members"}),l.jsx("p",{className:"text-2xl font-bold text-text",children:e.filter(N=>N.status==="active").length})]}),l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx(En,{className:"w-8 h-8 text-warning mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Total Transactions"}),l.jsx("p",{className:"text-2xl font-bold text-text",children:e.reduce((N,S)=>N+S.transactions,0)})]}),l.jsxs("div",{className:"card p-4 text-center",children:[l.jsx(ru,{className:"w-8 h-8 text-info mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Avg. Daily Usage"}),l.jsxs("p",{className:"text-2xl font-bold text-text",children:["",Math.round(e.reduce((N,S)=>N+S.currentDailySpent,0)/e.length)]})]})]})]}),l.jsx(Va,{userRole:s?.role}),l.jsx(kT,{isOpen:p,onClose:()=>g(!1),onAdd:H}),l.jsx(Ek,{isOpen:y,onClose:()=>{b(!1),j(null)},member:w,onSetLimit:J})]})},Nk=()=>l.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-text mb-4",children:"Test Page Working!"}),l.jsx("p",{className:"text-text-muted",children:"If you can see this, the navigation is working."})]})}),ma=({children:s})=>{const{isAuthenticated:e,loading:n}=cn();return n?l.jsx("div",{className:"loading-container",children:l.jsx("div",{className:"loading-spinner"})}):e?s:l.jsx(ih,{to:"/login",replace:!0})},kp=({children:s})=>{const{isAuthenticated:e,loading:n}=cn();return n?l.jsx("div",{className:"loading-container",children:l.jsx("div",{className:"loading-spinner"})}):e?l.jsx(ih,{to:"/dashboard",replace:!0}):s};function Sk(){const{user:s}=cn();return l.jsxs(bS,{children:[l.jsx(yn,{path:"/",element:l.jsx(fk,{})}),l.jsx(yn,{path:"/login",element:l.jsx(kp,{children:l.jsx(uk,{})})}),l.jsx(yn,{path:"/forgot-password",element:l.jsx(kp,{children:l.jsx(dk,{})})}),l.jsx(yn,{path:"/register",element:l.jsx(kp,{children:l.jsx(hk,{})})}),l.jsx(yn,{path:"/dashboard",element:l.jsx(ma,{children:s?.role==="PRIMARY"?l.jsx(o1,{}):s?.role==="ADMIN"?l.jsx(o1,{}):l.jsx(xk,{})})}),l.jsx(yn,{path:"/dashboard/profile",element:l.jsx(ma,{children:l.jsx(vk,{})})}),l.jsx(yn,{path:"/dashboard/payments",element:l.jsx(ma,{children:l.jsx(bk,{})})}),l.jsx(yn,{path:"/dashboard/notifications",element:l.jsx(ma,{children:l.jsx(_k,{})})}),l.jsx(yn,{path:"/dashboard/transactions",element:l.jsx(ma,{children:l.jsx(wk,{})})}),l.jsx(yn,{path:"/dashboard/members",element:l.jsx(ma,{children:l.jsx(Tk,{})})}),l.jsx(yn,{path:"/dashboard/test",element:l.jsx(ma,{children:l.jsx(Nk,{})})}),l.jsx(yn,{path:"/",element:l.jsx(ih,{to:"/dashboard",replace:!0})}),l.jsx(yn,{path:"*",element:l.jsx(ih,{to:"/dashboard",replace:!0})})]})}function Ak(){return l.jsx(HS,{children:l.jsx(N6,{children:l.jsx("div",{className:"App",children:l.jsx(Sk,{})})})})}EN.createRoot(document.getElementById("root")).render(l.jsx(pN.StrictMode,{children:l.jsx(Ak,{})}));
